/*! For license information please see targetjs.js.LICENSE.txt */
(function(){"use strict";var __webpack_modules__={185:function(e,t,n){n.d(t,{J:function(){return s}});var r=n(129),i=n(142);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"==typeof t?(this.selector=t,this.element=e.query(t)):t&&(this.element=t),this.hasRealChildren=!1,this.slotModeEnabled=!1,this.contentSlot=null,this.originalContent=void 0,this.textOnly=!0,this.transformProp=null,this.initTransformProp()}return t=e,n=[{key:"create",value:function(e){this.element=document.createElement(e),this.initTransformProp()}},{key:"initTransformProp",value:function(){if(this.element&&this.element.style){var e=this.element.style;this.transformProp="transform"in e?"transform":"webkitTransform"in e?"webkitTransform":null}else this.transformProp=null}},{key:"cloneTemplate",value:function(){var t;return new e(null===(t=this.element.content)||void 0===t?void 0:t.cloneNode(!0).children[0])}},{key:"clone",value:function(){return this.element.cloneNode(!0)}},{key:"exists",value:function(){return!!this.selector&&!!e.query(this.selector)}},{key:"getElement",value:function(){return this.element}},{key:"supportsWAAPI",value:function(){return!(!this.element||"function"!=typeof this.element.animate)}},{key:"findContentSlot",value:function(){if(this.contentSlot&&this.contentSlot.parentNode===this.element)return this.contentSlot;if(!this.element.firstElementChild)return null;var e=this.element.querySelector(':scope > [data-tj-slot="content"]');return e&&(this.contentSlot=e),e}},{key:"ensureContentSlotFirst",value:function(){var e=this.findContentSlot();return e?this.element.firstChild!==e&&this.element.insertBefore(e,this.element.firstChild):((e=document.createElement("div")).setAttribute("data-tj-slot","content"),this.element.insertBefore(e,this.element.firstChild),this.contentSlot=e),e}},{key:"enableSlotMode",value:function(){var e;if(!this.slotModeEnabled)if(null!==(e=this.element)&&void 0!==e&&e.firstChild){for(var t=this.ensureContentSlotFirst(),n=t.nextSibling;n;){var r=n.nextSibling;t.appendChild(n),n=r}this.slotModeEnabled=!0}else this.slotModeEnabled=!0}},{key:"ensureSlotMode",value:function(){this.enableSlotMode();var e=this.findContentSlot();e&&this.element.firstChild!==e&&this.element.insertBefore(e,this.element.firstChild)}},{key:"getComputedStyle",value:function(e){if(this.element){var t=window.getComputedStyle(this.element);return e?t.getPropertyValue(e)||t[e]:t}}},{key:"contains",value:function(e){return e instanceof Node&&this.element.contains(e)}},{key:"getTagName",value:function(){return this.element.tagName.toLowerCase()}},{key:"setSelector",value:function(e){this.selector=e}},{key:"setId",value:function(e){this.attr("id","#"===e[0]?e.slice(1):e)}},{key:"getId",value:function(){return this.attr("id")}},{key:"focus",value:function(){this.element.focus()}},{key:"blur",value:function(){this.element.blur()}},{key:"attr",value:function(e,t){if(this.element)return r.d.isDefined(t)?void this.element.setAttribute(e,t):this.element.getAttribute(e)}},{key:"value",value:function(e){if(this.element){var t=this.element.value;return r.d.isDefined(e)&&(this.element.value=e),t}}},{key:"select",value:function(){this.element&&"function"==typeof this.element.select&&this.element.select()}},{key:"width",value:function(e){if(!r.d.isDefined(e))return this.element.offsetWidth;this.element.style.width=r.d.isNumber(e)?"".concat(e,"px"):e}},{key:"height",value:function(e){if(!r.d.isDefined(e))return this.element.offsetHeight;this.element.style.height=r.d.isNumber(e)?"".concat(e,"px"):e}},{key:"css",value:function(e){if(!r.d.isDefined(e))return this.element.className;this.element.className=e}},{key:"setStyleByMap",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.style(n,e[n])}))}},{key:"style",value:function(e,t){if(2!==arguments.length)return 1===arguments.length?this.element.style[e]:this.element.style;this.element.style[e]=t}},{key:"getStyleValue",value:function(e){var t=this.style(e),n=r.d.isDefined(t)?t.replace(/[^-\d.]/g,""):0;return parseFloat(n)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"isXYWithinElement",value:function(e,t){var n=this.getBoundingClientRect();return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}},{key:"parent",value:function(){return this.element?this.element.parentElement:null}},{key:"detach",value:function(){e.detach(this.element)}},{key:"child",value:function(e){return this.element.children[e]}},{key:"elementCount",value:function(){return this.element.children.length}},{key:"swapElements",value:function(e,t){var n=t.nextSibling;n===e?this.element.insertBefore(e,t):(this.element.insertBefore(t,e),this.element.insertBefore(e,n))}},{key:"insertAfterContentSlot",value:function(e){if(this.element){var t=this.ensureContentSlotFirst(),n=t?t.nextSibling:this.element.firstChild;n?this.element.insertBefore(e,n):this.element.appendChild(e)}}},{key:"insertFirst$Dom",value:function(e){this.ensureSlotMode(),this.insertAfterContentSlot(e.element),this.hasRealChildren=!0}},{key:"relocate",value:function(e,t){this.ensureSlotMode();var n=t+(this.findContentSlot()?1:0);this.element.insertBefore(e.$dom.element,this.element.children[n]||null)}},{key:"appendTModel$Dom",value:function(e){this.ensureSlotMode(),this.element.appendChild(e.$dom.element),this.hasRealChildren=!0}},{key:"append$Dom",value:function(e){this.ensureSlotMode(),this.element.appendChild(e.element),this.hasRealChildren=!0}},{key:"appendElement",value:function(e){this.ensureSlotMode(),this.element.appendChild(e),this.hasRealChildren=!0}},{key:"removeElement",value:function(e){if(e){var t=e.parentNode;return t===this.element?(this.element.removeChild(e),!0):t?(t.removeChild(e),!1):void 0}}},{key:"html",value:function(e){r.d.isDefined(e)&&(this.hasRealChildren?this.ensureContentSlotFirst().innerHTML=e:this.element.innerHTML=e,this.originalContent=e,this.textOnly=!1)}},{key:"text",value:function(e){r.d.isDefined(e)&&(this.hasRealChildren?this.ensureContentSlotFirst().textContent=e:this.element.textContent=e,this.originalContent=e,this.textOnly=!0)}},{key:"clearContent",value:function(){this.element&&(this.hasRealChildren?this.ensureContentSlotFirst().innerHTML=this.originalContent||"":this.element.innerHTML=this.originalContent||"")}},{key:"deleteAll",value:function(){this.element&&(this.element.innerHTML=this.originalContent||"",this.hasRealChildren=!1,this.contentSlot=null,this.slotModeEnabled=!1)}},{key:"outerHTML",value:function(e){this.element.outerHTML=e}},{key:"isEmpty",value:function(){return""===this.element.innerHTML}},{key:"innerHTML",value:function(e){if(!r.d.isDefined(e))return this.element.innerHTML;this.element.innerHTML=e}},{key:"innerText",value:function(e){if(!r.d.isDefined(e))return this.element.innerText;this.element.innerText=e}},{key:"addClass",value:function(e){var t=this.attr("class"),n=t?t.includes(e)?t:"".concat(t," ").concat(e):e;n!==t&&this.attr("class",n)}},{key:"addEvent",value:function(e,t,n,r){this.element.addEventListener?this.element.addEventListener(e,t,{capture:!!n,passive:!!r}):this.element.attachEvent("on".concat(e),t)}},{key:"detachEvent",value:function(e,t){this.element.removeEventListener?this.element.removeEventListener(e,t,!1):this.element.detachEvent?this.element.detachEvent("on".concat(e),t):this.element["on".concat(e)]=null}},{key:"transform",value:function(e){this.element.style[this.transformProp]=e}},{key:"animate",value:function(e,t){return this.element.animate(e,t)}},{key:"getContext",value:function(t,n){var i=r.d.isDefined(n)?e.query(n):this.query("canvas");return i?i.getContext(t):void 0}},{key:"query",value:function(e){return this.element.querySelector(e)}},{key:"queryAll",value:function(e){return this.element.querySelectorAll(e)}},{key:"findFirstByClass",value:function(t){return e.findFirstByClass(t,this.element)}},{key:"findFirstByTag",value:function(t){return e.findFirstByTag(t,this.element)}},{key:"getScrollTop",value:function(){var e,t;return null!==(e=null===(t=this.element)||void 0===t?void 0:t.scrollTop)&&void 0!==e?e:0}},{key:"getScrollLeft",value:function(){var e,t;return null!==(e=null===(t=this.element)||void 0===t?void 0:t.scrollLeft)&&void 0!==e?e:0}}],a=[{key:"createTemplate",value:function(t){var n=new e;return n.create("template"),n.innerHTML(t.trim()),n}},{key:"createDocumentFragment",value:function(){return document.createDocumentFragment()}},{key:"query",value:function(t){return"#"===t[0]?e.findById(t):"."===t[0]?e.findFirstByClass(t):e.findFirstByTag(t)}},{key:"querySelector",value:function(e){return document.querySelector(e)}},{key:"findById",value:function(e){return document.getElementById("#"===e[0]?e.slice(1):e)}},{key:"findFirstByClass",value:function(t,n){var r=e.findByClass(t,n);return r.length>0?r[0]:null}},{key:"findFirstByTag",value:function(t,n){var r=e.findByTag(t,n);return r.length>0?r[0]:null}},{key:"findByTag",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(e)}},{key:"findByClass",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByClassName("."===e[0]?e.slice(1):e)}},{key:"findNearestParentWithId",value:function(e){for(;e;){var t="function"==typeof e.getAttribute&&e.getAttribute("id")?e.getAttribute("id"):null;if(t&&(0,i.EI)().visibleOidMap[t])return t;e=e.parentElement}}},{key:"detach",value:function(e){var t=r.d.isDefined(e)?e.parentElement:null;t&&t.removeChild(e)}},{key:"hasFocus",value:function(e){return e.hasDom()&&document.activeElement===e.$dom.element}},{key:"getWindowScrollTop",value:function(){return window.pageYOffset||document.documentElement.scrollTop||0}},{key:"getWindowScrollLeft",value:function(){return window.pageXOffset||document.documentElement.scrollLeft||0}},{key:"getScreenWidth",value:function(){return document.documentElement.clientWidth||document.body.clientWidth}},{key:"getScreenHeight",value:function(){return document.documentElement.clientHeight||document.body.clientHeight}},{key:"ready",value:function(t){new e(document).addEvent("DOMContentLoaded",t)}},{key:"ajax",value:function(e){var t=new XMLHttpRequest,n="";e.data&&(n=Object.keys(e.data).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e.data[t]))})).join("&")),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var n="json"===e.dataType?JSON.parse(this.responseText):this.responseText;e.success(n)}else e.error(t.status)},"POST"===e.type?(t.open(e.type,e.url,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(n)):(e.url+=n?e.url>""&&e.url.indexOf("?")>=0?"&".concat(n):"?".concat(n):"",t.open(e.type,e.url,!0),t.send())}}],n&&o(t.prototype,n),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}()},580:function(e,t,n){n.d(t,{_:function(){return w}});var r=n(144),i=n(432),a=n(142),o=n(956),l=n(129);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(){u=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(e){h=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,o=Object.create(a.prototype),l=new P(r||[]);return i(o,"_invoke",{value:x(e,n,l)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var v="suspendedStart",y="suspendedYield",g="executing",p="completed",m={};function b(){}function T(){}function w(){}var k={};h(k,o,(function(){return this}));var S=Object.getPrototypeOf,M=S&&S(S(A([])));M&&M!==n&&r.call(M,o)&&(k=M);var E=w.prototype=b.prototype=Object.create(k);function C(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function D(e,t){function n(i,a,o,l){var u=f(e[i],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==s(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,l)}))}l(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function x(t,n,r){var i=v;return function(a,o){if(i===g)throw Error("Generator is already running");if(i===p){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var s=L(l,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===v)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var u=f(t,n,r);if("normal"===u.type){if(i=r.done?p:y,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=p,r.method="throw",r.arg=u.arg)}}}function L(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(s(t)+" is not iterable")}return T.prototype=w,i(E,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:T,configurable:!0}),T.displayName=h(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,h(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},C(D.prototype),h(D.prototype,l,(function(){return this})),t.AsyncIterator=D,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new D(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(E),h(E,c,"Generator"),h(E,o,(function(){return this})),h(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function c(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){c(a,r,i,o,l,"next",e)}function l(e){c(a,r,i,o,l,"throw",e)}o(void 0)}))}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function T(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}var w=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.waapiPoller={rafId:0,alive:!0},this.recordMap=new Map,this.isShuttingDown=!1,this.toid="ring_0"},t=[{key:"getAt",value:function(e,t){return i.u.isTransformKey(t)?e.tfMap[t]:e.styleMap[t]}},{key:"setAt",value:function(e,t,n){i.u.isTransformKey(t)?e.tfMap[t]=n:e.styleMap[t]=n}},{key:"backfillKeyAcrossFramesUsingMorph",value:function(e,t,n){for(var i=n.map((function(e){return e.keyTime})),a=[],o=0;o<n.length;o++)void 0!==this.getAt(n[o],t)&&a.push(o);if(a.length>=2)for(var s=0;s<a.length-1;s++)for(var u=a[s],c=a[s+1],h=this.getAt(n[u],t),d=this.getAt(n[c],t),f=n[c].keyMeta.get(t),v=f.steps,y=f.interval,g=v*y,p=i[u],m=(i[c]-p)/g,b=u+1;b<c;b++){var T=i[b]-p,w=l.d.limit(Math.round(T/(m*y)),0,v),k=r.a.morph(e,t,h,d,w,v);this.setAt(n[b],t,k),n[b].keyMeta.set(t,{steps:w,interval:y})}if(a.length)for(var S=a[a.length-1],M=n[S],E=this.getAt(M,t),C=S+1;C<n.length;C++)this.setAt(n[C],t,E),n[C].keyMeta.set(t,{steps:0})}},{key:"animate",value:function(e,t,n){var i=this;if(!this.isShuttingDown&&e.hasDom()){var s=e.$dom.getElement();if(t.frames.sort((function(e,t){return e.keyTime-t.keyTime})),e.lastBatch){var u=Math.min(l.d.now()-e.lastBatch.startTime,e.lastBatch.totalDuration);this.cutLastBatch(e,e.lastBatch,u),this.callFireOnEndOnConflict(e,e.lastBatch,t),this.mergeBatches(e.lastBatch,t),this.cancelTModel(e)}for(var c=Math.max(t.totalDuration,1),h=Object.keys(t.keyMap),v=0,y=h;v<y.length;v++){var g=y[v];this.backfillKeyAcrossFramesUsingMorph(e,g,t.frames)}var m=!1,b=t.frames.map((function(t){var n=p({},t.styleMap);if(n.offset=t.keyTime/c,Object.keys(t.tfMap).length){Object.keys(e.tfMap).forEach((function(t){e.tfMap[t]=e.val(t)}));var a=p(p({},e.tfMap),t.tfMap);n.transform=r.a.getTransformString(a,e.val("transformOrder")),t.tfMap=a,m=!0}return i.addUnitsToFrame(n),n})),T=this.filterRedundantKeyframes(b),w={duration:c,fill:"none",iterations:1,easing:t.easing||"linear"};t.startTime=l.d.now(),e.lastBatch=t,e.lastBatch.transformAnimation=m,e.finalKeyframe=T[T.length-1],e.finalRawFrame=t.frames[t.frames.length-1];for(var k=s.animate(T,w),S=t.keyMap,M=0,E=h;M<E.length;M++){var C=E[M],D=S[C],x=this.getRecordId(e,D),L=o.g.getOriginalNames(e,D),O=L.originalTModel,_=L.originalTargetName,P={recId:x,cleanKey:C,originalKey:D,tmodel:e,anim:k,originalTModel:O,originalTargetName:_,frames:this.collectFramesForKey(t,C),finished:!1,canceled:!1,needsFireOnStep:!0,hooks:n};e.addToAnimatingMap(D,P),this.recordMap.set(x,P)}var A=function(){var e,t=f(i.recordMap);try{for(t.s();!(e=t.n()).done;){var n,o,l,s=d(e.value,2),u=s[0],c=s[1],h=c.tmodel,v=c.cleanKey,y=c.originalKey;if(c.anim===k||c.canceled){var g=null===(n=c.anim.effect)||void 0===n||null===(o=(l=n).getComputedTiming)||void 0===o?void 0:o.call(l);if((c.canceled||"finished"===c.anim.playState||"idle"===c.anim.playState||g&&1===g.progress)&&(h.removeFromAnimatingMap(y),i.recordMap.delete(u),!c.canceled&&!c.finished)){if(h.finalRawFrame){var p=i.getAt(h.finalRawFrame,v);i.setAt(h,v,p),h.val(y,p);var m=h.targetValues[y];m&&(m.step=h.getTargetSteps(y),m.cycle=Array.isArray(m.valueList)?m.valueList.length:h.getTargetCycles(y),m.value=p,h.setActual(y,p),h.updateTargetStatus(y))}h.hasAnimatingTargets()||(h.finalKeyframe&&h.hasDom()&&r.a.fixStyleByAnimation(h,h.finalKeyframe),h.lastBatch=void 0,h.pausedBatch=void 0),c.finished=!0,c.hooks.fireOnEnd(h,c.originalKey),(0,a.fB)().scheduleOnlyIfEarlier(1,"animate-".concat(h.oid,"---").concat(y))}}}}catch(e){t.e(e)}finally{t.f()}};k.addEventListener("finish",A),k.addEventListener("cancel",A),this.startProgressPoller()}}},{key:"freezeTModelAtCurrentTime",value:function(e){var t=e.lastBatch,n=Math.min(l.d.now()-t.startTime,t.totalDuration);this.cutLastBatch(e,t,n);var i=t.frames[0];if(i){var a=p({},i.styleMap);if(Object.keys(i.tfMap).length>0){Object.keys(e.tfMap).forEach((function(t){e.tfMap[t]=e.val(t)}));var o=p(p({},e.tfMap),i.tfMap);i.tfMap=o,a.transform=r.a.getTransformString(o,e.val("transformOrder"))}this.addUnitsToFrame(a),r.a.fixStyleByAnimation(e,a)}}},{key:"collectFramesForKey",value:function(e,t){var n,r=[],i=e.totalDuration,a=f(e.frames);try{for(a.s();!(n=a.n()).done;){var o=n.value,l=this.getAt(o,t);if(void 0!==l){var s=o.keyMeta.get(t);r.push({value:l,time:o.keyTime,steps:null==s?void 0:s.steps,interval:null==s?void 0:s.interval,offset:o.keyTime/i})}}}catch(e){a.e(e)}finally{a.f()}return r.sort((function(e,t){return e.time-t.time})),r.length>=2?r:void 0}},{key:"getRecordId",value:function(e,t){return"".concat(e.oid,"-").concat(t)}},{key:"addUnitsToFrame",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("offset"!==r&&"transform"!==r){var a=e[r];null==a||Number.isNaN(a)?delete e[r]:"number"==typeof a&&i.u.styleWithUnitMap[r]&&(("width"===r||"height"===r)&&a<0&&(a=0),e[r]="".concat(a,"px"))}}}},{key:"startProgressPoller",value:function(){var e=this;if(!this.waapiPoller.rafId){this.waapiPoller.alive=!0;var t=function(){var n,r=0,i=f(e.recordMap);try{for(i.s();!(n=i.n()).done;){var a,o=d(n.value,2)[1];!o||o.finished||o.canceled||"running"!==(null===(a=o.anim)||void 0===a?void 0:a.playState)||(r++,e.updateTModelFromRecord(o))}}catch(e){i.e(e)}finally{i.f()}r>0?e.waapiPoller.rafId=requestAnimationFrame(t):(e.recordMap.clear(),e.waapiPoller.alive=!1,e.waapiPoller.rafId=0)};this.waapiPoller.rafId=requestAnimationFrame(t)}}},{key:"updateTModelFromRecord",value:function(e){var t=e.tmodel,n=e.originalKey,r=e.cleanKey,i=this.getValueFromAnim(e);if(i){var a=i.value,o=i.step;this.setAt(t,r,a),t.val(n,a),t.targetValues[n]&&(t.targetValues[n].step=o,t.setActual(n,a),e.needsFireOnStep&&(e.hooks.fireOnStep(t,n,o)||(e.needsFireOnStep=!1)))}}},{key:"cancel",value:function(e){if(!e.canceled){var t=e.recId,n=e.originalKey,r=e.tmodel,i=e.anim;e.canceled=!0,i.cancel(),r.removeFromAnimatingMap(n),this.recordMap.delete(t)}}},{key:"cancelTModel",value:function(e){var t,n=f(this.recordMap);try{for(n.s();!(t=n.n()).done;){var r=d(t.value,2),i=r[0],a=r[1];i.startsWith("".concat(e.oid,"-"))&&this.cancel(a)}}catch(e){n.e(e)}finally{n.f()}e.lastBatch=void 0,e.finalKeyframe=void 0,e.finalRawFrame=void 0,e.clearAnimatingMap()}},{key:"cancelKey",value:function(e,t){var n=this.getRecordId(e,t),r=this.recordMap.get(n);r&&(r.canceled=!0)}},{key:"cancelAll",value:(s=h(u().mark((function e(){var t,n,r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isShuttingDown=!0,this.waapiPoller.rafId&&(cancelAnimationFrame(this.waapiPoller.rafId),this.waapiPoller.rafId=0,this.waapiPoller.alive=!1),t=new Set,n=f(this.recordMap),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=22;break}if(i=d(r.value,2),a=i[1],o=a.tmodel,this.updateTModelFromRecord(a),this.cancel(a),!t.has(o.oid)){e.next=13;break}return e.abrupt("continue",20);case 13:t.add(o.oid),this.freezeTModelAtCurrentTime(o),o.pausedBatch=o.lastBatch,o.lastBatch=void 0,o.finalKeyframe=void 0,o.finalRawFrame=void 0,o.clearAnimatingMap();case 20:e.next=6;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(4),n.e(e.t0);case 27:return e.prev=27,n.f(),e.finish(27);case 30:this.recordMap.clear();case 31:case"end":return e.stop()}}),e,this,[[4,24,27,30]])}))),function(){return s.apply(this,arguments)})},{key:"flushOneFrame",value:(n=h(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(requestAnimationFrame);case 2:this.isShuttingDown=!1;case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getValueFromAnim",value:function(e){var t,n,i=e.tmodel,a=e.originalKey,o=e.anim,s=e.frames;if(s){var u=null===(t=o.effect)||void 0===t||null===(n=t.getComputedTiming)||void 0===n?void 0:n.call(t);if(u){var c=l.d.isDefined(u.progress)?l.d.limit(u.progress,0,1):1,h=s.length-1,d=0;if(c<=s[0].offset)d=0;else if(c>=s[h].offset)d=h-1;else for(var f=0;f<h;f++)if(c>=s[f].offset&&c<s[f+1].offset){d=f;break}var v=s[d],y=s[d+1],g=v.value,p=y.value,m=v.offset,b=y.offset-m;if(b>0){var T=l.d.limit((c-m)/b,0,1),w=y.steps,k=Math.round(T*w);return k=l.d.limit(k,0,w),{value:r.a.morph(i,a,g,p,k,w),step:k,steps:w}}}}}},{key:"cutLastBatch",value:function(e,t,n){for(var r=0;r<t.frames.length&&t.frames[r].keyTime<=n;)r++;if(r<t.frames.length&&n!==t.frames[r].keyTime){t.frames.splice(r,0,{keyTime:n,tfMap:{},styleMap:{},keyMeta:new Map});for(var i=0,a=Object.keys(t.keyMap);i<a.length;i++){var o=a[i];this.backfillKeyAcrossFramesUsingMorph(e,o,t.frames)}t.frames=t.frames.slice(r)}t.frames.forEach((function(e){e.keyTime=Math.max(0,e.keyTime-n)})),t.totalDuration=t.frames.length?t.frames[t.frames.length-1].keyTime:0}},{key:"callFireOnEndOnConflict",value:function(e,t,n){for(var r=n.keyMap,i=t.keyMap,a=0,o=Object.keys(r);a<o.length;a++){var l=o[a],s=i[l],u=r[l];if(s&&u&&s!==u){var c=this.getRecordId(e,s),h=this.recordMap.get(c);if(h&&!h.finished&&!h.canceled){this.updateTModelFromRecord(h),h.finished=!0;var d=e.targetValues[s];d&&(d.step=e.getTargetSteps(s),d.cycle=Array.isArray(d.valueList)?d.valueList.length:e.getTargetCycles(s),e.updateTargetStatus(s)),h.hooks.fireOnEnd(h.tmodel,s),h.tmodel.removeFromAnimatingMap(s),this.recordMap.delete(h.recId)}}}}},{key:"mergeBatches",value:function(e,t){var n,r=Object.keys(t.keyMap),i=[],a=f(e.frames);try{for(a.s();!(n=a.n()).done;){var o,l=n.value,s=f(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;delete l.styleMap[u],delete l.tfMap[u],delete e.keyMap[u]}}catch(e){s.e(e)}finally{s.f()}(Object.keys(l.styleMap).length||Object.keys(l.tfMap).length)&&i.push(l)}}catch(e){a.e(e)}finally{a.f()}t.frames=[].concat(i,function(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.frames)),t.frames.sort((function(e,t){return e.keyTime-t.keyTime}));var c,h=[],g=f(t.frames);try{for(g.s();!(c=g.n()).done;){var m=c.value,b=h[h.length-1];if(b&&b.keyTime===m.keyTime){if(Object.assign(b.styleMap,m.styleMap),Object.assign(b.tfMap,m.tfMap),m.keyMeta){var T,w=f(m.keyMeta);try{for(w.s();!(T=w.n()).done;){var k=d(T.value,2),S=k[0],M=k[1];b.keyMeta.set(S,M)}}catch(e){w.e(e)}finally{w.f()}}}else h.push(m)}}catch(e){g.e(e)}finally{g.f()}t.keyMap=p(p({},t.keyMap),e.keyMap),t.frames=h,t.totalDuration=t.frames.length?t.frames[t.frames.length-1].keyTime:0}},{key:"pauseTModel",value:function(e){var t=e.lastBatch;if(t){var n=Math.min(l.d.now()-t.startTime,t.totalDuration);this.cutLastBatch(e,t,n),e.pausedBatch=t,e.lastBatch=void 0,this.cancelTModel(e)}}},{key:"areFramesEqual",value:function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i];if("offset"!==o&&e[o]!==t[o])return!1}return!0}},{key:"filterRedundantKeyframes",value:function(e){if(e.length<=2)return e;for(var t=[e[0]],n=1;n<e.length-1;n++){var r=t[t.length-1],i=e[n];this.areFramesEqual(r,i)||t.push(i)}return t.push(e[e.length-1]),t}}],t&&b(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,s}()},142:function(e,t,n){n.d(t,{qw:function(){return Fe},hd:function(){return qe},aK:function(){return Xe},s:function(){return ze},UR:function(){return rt},kQ:function(){return Ue},qI:function(){return $e},zw:function(){return Je},EI:function(){return Ye},cI:function(){return We},S9:function(){return tt},fB:function(){return Qe},c$:function(){return Ze},r5:function(){return Ge},iP:function(){return nt},HJ:function(){return Ke},U$:function(){return et},W_:function(){return Be},E_:function(){return De},Bt:function(){return Re}});var r=n(185),i=n(528),a=n(745),o=n(129),l=n(432),s=n(985);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function y(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}var p=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$document=new r.J(document),this.currentTouch={deltaY:0,deltaX:0,prevDeltaX:0,prevDeltaY:0,pinchDelta:0,key:"",manualMomentumFlag:!1,orientation:"none",dir:"",source:""},this.lastEvent=void 0,this.touchTimeStamp=0,this.cursor={x:0,y:0},this.start0=void 0,this.start1=void 0,this.end0=void 0,this.end1=void 0,this.touchCount=0,this.canFindHandlers=!0,this.swipeStartX=0,this.swipeStartY=0,this.currentEventName="",this.currentEventType="",this.currentOriginalEvent=void 0,this.currentKey="",this.currentHandlers={touch:null,scrollLeft:null,scrollTop:null,swipe:null,pinch:null,focus:null,justFocused:null,blur:null,leave:null,enter:null,start:null,end:null,hover:null},this.eventQueue=[],this.attachedEventMap={},this.eventTargetMap={},this.allEvents={},this.windowScrollX=0|window.scrollX,this.windowScrollY=0|window.scrollY,this.windowEpoch=0,Object.values(l.u.events).forEach((function(e){Object.assign(t.allEvents,e)})),this.hovered=new Set,this.bindedHandleWindowEvent=this.handleWindowEvent.bind(this),this.bindedHandleEvent=this.handleEvent.bind(this),this.bindedParentHandleEvent=this.handleDocEvent.bind(this)}return t=e,n=[{key:"detachWindowEvents",value:function(){var e=this;Object.keys(l.u.events.windowEvents).forEach((function(t){De.$window.detachEvent(t,e.bindedHandleWindowEvent)}))}},{key:"attachWindowEvents",value:function(){var e=this;Object.keys(l.u.events.windowEvents).forEach((function(t){De.$window.addEvent(t,e.bindedHandleWindowEvent)}))}},{key:"detachDocumentEvents",value:function(){var e=this;Object.keys(l.u.events.documentEvents).forEach((function(t){e.$document.detachEvent(t,e.bindedParentHandleEvent)}))}},{key:"attachDocumentEvents",value:function(){var e=this;Object.keys(l.u.events.documentEvents).forEach((function(t){e.$document.addEvent(t,e.bindedParentHandleEvent)}))}},{key:"attachEvents",value:function(e){var t,n=h(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.externalEventMap){var i,a=h(r.externalEventMap);try{for(a.s();!(i=a.n()).done;){var o=c(i.value,1)[0];this.attachTargetEvents(r,o,!0)}}catch(e){a.e(e)}finally{a.f()}}}}catch(e){n.e(e)}finally{n.f()}}},{key:"attachTargetEvents",value:function(e,t,n){var r=this,i="".concat(e.oid," ").concat(t),a=l.u.targetToEventsMapping[t];a&&Array.isArray(a)&&0!==a.length&&a.forEach((function(t){var a=l.u.events[t];a&&Object.keys(a).forEach((function(t){var o=a[t],l=!!o.windowEvent,s=l?De.$window:e.hasDom()?e.$dom:null;if(!s)return!1;var u="".concat(i," ").concat(l?"win":"dom"),c=r.eventTargetMap[u]===s,h="".concat(e.oid," ").concat(t," ").concat(l?"win":"dom"),d=r.attachedEventMap[h]&&r.attachedEventMap[h].$dom===s;!n&&c&&d||(s.detachEvent(t,r.bindedHandleEvent),s.addEvent(t,r.bindedHandleEvent,o.capture,o.passive),r.eventTargetMap[u]=s,r.attachedEventMap[h]={$dom:s,event:t})}))}))}},{key:"detachAll",value:function(){var e=this;Object.keys(this.attachedEventMap).forEach((function(t){var n=e.attachedEventMap[t],r=n.$dom,i=n.event;r.exists()&&r.detachEvent(i,e.bindedHandleEvent)})),this.attachedEventMap={},this.eventTargetMap={}}},{key:"resetEventsOnTimeout",value:function(){if(this.currentTouch.deltaY||this.currentTouch.deltaX||this.currentTouch.pinchDelta){var e=this.touchTimeStamp-o.d.now();e>100&&(this.currentTouch.deltaY*=.95,this.currentTouch.deltaX*=.95,this.currentTouch.pinchDelta*=.95,Math.abs(this.currentTouch.deltaY)<.1&&(this.currentTouch.deltaY=0),Math.abs(this.currentTouch.deltaX)<.1&&(this.currentTouch.deltaX=0),Math.abs(this.currentTouch.pinchDelta)<.1&&(this.currentTouch.pinchDelta=0),0===this.currentTouch.deltaX&&0===this.currentTouch.deltaY&&0===this.currentTouch.pinchDelta&&(this.touchTimeStamp=0)),(e<=0||0===this.touchTimeStamp)&&(this.currentTouch.deltaY=0,this.currentTouch.deltaX=0,this.currentTouch.pinchDelta=0,this.currentTouch.dir="",this.touchTimeStamp=0),Qe().schedule(10,"scroll decay")}}},{key:"findEventHandlers",value:function(e){var t,n,i,o,l,s,u,c,h=e.tmodel,d=e.eventType;h&&(t=a.X.findFirstClickHandler(h),n=a.X.findFirstSwipeHandler(h),u=a.X.findFirstEnterHandler(h),c=a.X.findFirstLeaveHandler(h),i=a.X.findFirstScrollLeftHandler(h,d),o=a.X.findFirstScrollTopHandler(h,d),l=a.X.findFirstPinchHandler(h),s=r.J.hasFocus(h)?h:this.currentHandlers.focus),this.currentHandlers.scrollLeft===i&&this.currentHandlers.scrollTop===o||this.clearTouch(),this.currentHandlers.focus!==s&&(this.currentHandlers.justFocused=s,this.currentHandlers.blur=this.currentHandlers.focus),this.currentHandlers.hover=null!=h&&h.canHandleEvent("onHover")?h:void 0,this.currentHandlers.click=t,this.currentHandlers.swipe=n,this.currentHandlers.scrollLeft=i,this.currentHandlers.scrollTop=o,this.currentHandlers.pinch=l,this.currentHandlers.focus=s,this.currentHandlers.enter=u,this.currentHandlers.leave=c}},{key:"captureEvents",value:function(){if(this.currentTouch.prevDeltaX=0,this.currentTouch.prevDeltaY=0,this.currentHandlers.enter=void 0,this.currentHandlers.leave=void 0,this.currentHandlers.justFocused=void 0,this.currentHandlers.blur=void 0,this.currentHandlers.end=void 0,this.currentKey=this.currentTouch.key,0===this.eventQueue.length)return this.currentEventName="",this.currentEventType="",this.currentOriginalEvent=void 0,void(this.currentKey="");var e,t=this.eventQueue.shift();this.canFindHandlers&&this.findEventHandlers(t),("end"===t.eventType||"click"===t.eventType)&&("end"===t.eventType&&(this.currentHandlers.end=this.currentHandlers.start,null===(e=this.currentHandlers.end)||void 0===e||e.markLayoutDirty("end-event"),this.currentHandlers.start=void 0),this.canFindHandlers=!0),this.currentEventName=t.eventName,this.currentEventType=t.eventType,this.currentOriginalEvent=t.originalEvent,this.currentTouch.key=""}},{key:"handleDocEvent",value:function(e){this.handleEvent(e,!0,!1)}},{key:"handleWindowEvent",value:function(e){this.handleEvent(e,!1,!0)}},{key:"handleEvent",value:function(t,n,r){var i,l,s,u,c,h,d,f;if(t){var v=t.type,y=this.allEvents[v];if(y){var g,p=y.eventName,m=y.inputType,b=y.eventType,T=y.order,w=y.queue,k=y.rateLimit,S=o.d.now();null===(i=g="move"===b&&this.touchCount>0&&this.currentHandlers.start?this.currentHandlers.start:this.getTModelFromEvent(t))||void 0===i||i.markLayoutDirty("event");var M,E={eventName:p,eventItem:y,eventType:b,originalName:v,tmodel:g,originalEvent:t,timeStamp:S};if(null!==(l=this.lastEvent)&&void 0!==l&&l.eventItem){var C=this.lastEvent,D=C.eventItem,x=S-C.timeStamp;if(m&&D.inputType&&D.inputType!==m&&T>D.order)return;if(this.eventQueue.length>e.MAX_EVENT_QUEUE_SIZE&&k>0&&x<k)for(var L=0,O=this.eventQueue.length-1;O>=0;O--){var _;if((null===(_=this.eventQueue[O].eventItem)||void 0===_?void 0:_.eventType)!==b)break;if(++L>e.MAX_EVENT_TYPE_CAPACITY)return void(this.preventDefault(g,p)&&(t.preventDefault(),t.stopPropagation()))}}switch(this.lastEvent=E,w&&this.eventQueue.push(this.lastEvent),p){case"mousedown":case"touchstart":this.clearStart(),this.clearEnd(),this.clearTouch(),this.touchCount=this.countTouches(t)||1,this.preventDefault(g,p)&&t.cancelable&&t.preventDefault(),this.start0=this.getTouch(t),this.start1=this.getTouch(t,1),this.cursor.x=this.start0.x,this.cursor.y=this.start0.y,this.currentHandlers.start=g,this.findEventHandlers(E),this.canFindHandlers=!1,this.swipeStartX=this.start0.x-(null!==(s=null===(u=this.currentHandlers.swipe)||void 0===u?void 0:u.getX())&&void 0!==s?s:0),this.swipeStartY=this.start0.y-(null!==(c=null===(h=this.currentHandlers.swipe)||void 0===h?void 0:h.getY())&&void 0!==c?c:0),t.stopPropagation(),this.detachDocumentEvents(),this.attachDocumentEvents();break;case"mousemove":case"touchmove":var P;M=this.getTouch(t),this.cursor.x=M.x,this.cursor.y=M.y,this.preventDefault(g,p)&&t.cancelable&&t.preventDefault(),this.touchCount>0?(this.touchTimeStamp=S+10,this.move(t),t.stopPropagation(),null===(P=this.currentHandlers.swipe)||void 0===P||P.markLayoutDirty("swipe-event")):this.isCurrentSource("wheel")&&this.clearTouch();break;case"mouseup":case"touchend":this.detachDocumentEvents(),this.preventDefault(g,p)&&t.cancelable&&t.preventDefault(),this.end(t),this.clearEnd(),this.touchCount=0,t.stopPropagation();break;case"click":if(this.preventDefault(g,p)&&t.preventDefault(),this.end0=this.getTouch(t),this.start0){var A=a.X.findFirstClickHandler(g);A&&A===this.currentHandlers.click&&(A!==this.currentHandlers.swipe||this.getSwipeDistance()<5)&&(this.eventQueue.length=0,this.eventQueue.push({eventName:p,eventItem:y,eventType:b,originalName:v,tmodel:g,originalEvent:t,timeStamp:S}))}this.clearEnd(),this.touchCount=0,t.stopPropagation();break;case"wheel":this.preventDefault(g,p)&&(t.preventDefault(),t.stopPropagation()),this.touchTimeStamp=S+500,this.wheel(t);break;case"mouseleave":n&&this.touchCount>0&&(this.detachDocumentEvents(),M=this.getTouch(t),this.cursor.x=M.x,this.cursor.y=M.y,this.end(t),this.clearEnd(),this.touchCount=0,t.stopPropagation());break;case"key":this.currentTouch.key=t.which||t.keyCode,null===(d=this.currentHandlers.focus)||void 0===d||d.markLayoutDirty("key-event");break;case"keydown":this.currentTouch.key=t.which||t.keyCode,null===(f=this.currentHandlers.focus)||void 0===f||f.markLayoutDirty("keydown-event");break;case"resize":this.windowEpoch++,this.resizeRoot(),De.manager.getVisibles().forEach((function(e){e.targets.onResize&&e.markLayoutDirty("resize-event")}));break;case"scroll":r?(this.windowEpoch++,this.windowScrollX=0|window.scrollX,this.windowScrollY=0|window.scrollY,Je().domIslandSet.forEach((function(e){e.markLayoutDirty("winScroll-event")}))):g.markLayoutDirty("winScroll-event")}Qe().schedule(0,"".concat(v,"-").concat(p,"-").concat((t.target.tagName||"").toUpperCase()))}}}},{key:"resizeRoot",value:function(){s.j.executeDeclarativeTarget(Re(),"screenWidth"),s.j.executeDeclarativeTarget(Re(),"screenHeight")}},{key:"preventDefault",value:function(e,t){return!(!e||!(!0===e.preventDefault()||Array.isArray(e.preventDefault())&&e.preventDefault().includes(t)))}},{key:"getTModelFromEvent",value:function(e){var t,n,i=null===(t=e.currentTarget)||void 0===t?void 0:t.id;return i&&De.manager.visibleOidMap[i]||(i=null===(n=e.target)||void 0===n?void 0:n.id)&&De.manager.visibleOidMap[i]||(i=r.J.findNearestParentWithId(e.target)),De.manager.visibleOidMap[i]}},{key:"clearStart",value:function(){this.start0=void 0,this.start1=void 0}},{key:"clearEnd",value:function(){this.end0=void 0,this.end1=void 0}},{key:"clearTouch",value:function(){this.currentTouch={deltaY:0,deltaX:0,prevDeltaX:0,prevDeltaY:0,pinchDelta:0,key:"",manualMomentumFlag:!1,orientation:"none",dir:"",source:""}}},{key:"clearAll",value:function(){this.clearStart(),this.clearEnd(),this.clearTouch(),this.eventQueue.length=0,this.touchTimeStamp=0,this.touchCount=0,this.canFindHandlers=!0,this.lastEvent=void 0,this.attachedEventMap={},this.eventTargetMap={},this.swipeStartX=0,this.swipeStartY=0,this.hovered.clear()}},{key:"deltaX",value:function(){return this.currentTouch.deltaX}},{key:"deltaY",value:function(){return this.currentTouch.deltaY}},{key:"cursorX",value:function(){return this.cursor.x}},{key:"cursorY",value:function(){return this.cursor.y}},{key:"swipeX",value:function(){return this.cursor.x-this.swipeStartX}},{key:"swipeY",value:function(){return this.cursor.y-this.swipeStartY}},{key:"getSwipeDistance",value:function(){return this.start0&&this.end0?o.d.distance(this.start0.originalX,this.start0.originalY,this.end0.x,this.end0.y):0}},{key:"pinchDelta",value:function(){return this.currentTouch.pinchDelta}},{key:"dir",value:function(){return this.currentTouch.dir}},{key:"getScrollLeftHandler",value:function(){return this.currentHandlers.scrollLeft}},{key:"getScrollTopHandler",value:function(){return this.currentHandlers.scrollTop}},{key:"getWindowScrollX",value:function(){return this.windowScrollX}},{key:"getWindowScrollY",value:function(){return this.windowScrollY}},{key:"getWindowEpoch",value:function(){return this.windowEpoch}},{key:"getPinchHandler",value:function(){return this.currentHandlers.pinch}},{key:"getClickHandler",value:function(){return this.currentHandlers.click}},{key:"getTouchCount",value:function(){return this.touchCount}},{key:"isClickEvent",value:function(){return"click"===this.getEventType()}},{key:"isMoveEvent",value:function(){return"move"===this.getEventType()}},{key:"isResizeEvent",value:function(){return"resize"===this.getEventType()}},{key:"isSwipeEvent",value:function(){return this.hasDelta()&&1===this.touchCount}},{key:"isScrollEvent",value:function(){return this.hasDelta()&&this.isCurrentSource("wheel")}},{key:"hasDelta",value:function(){return 0!==this.deltaX()||0!==this.deltaY()}},{key:"isEndEvent",value:function(){return"end"===this.getEventType()||"click"===this.getEventType()}},{key:"isStartEvent",value:function(){return"start"===this.getEventType()}},{key:"getEventName",value:function(){return this.currentEventName}},{key:"getCurrentOriginalEvent",value:function(){return this.currentOriginalEvent}},{key:"getEventType",value:function(){return this.currentEventType}},{key:"isClickHandler",value:function(e){return this.getClickHandler()===e&&this.isClickEvent()}},{key:"isEnterHandler",value:function(e){return!(!e||e!==this.currentHandlers.enter||"mouseenter"!==this.getEventName()||this.hovered.has(e.oid)||(this.hovered.add(e.oid),0))}},{key:"isLeaveHandler",value:function(e){return!(!e||e!==this.currentHandlers.leave||"mouseleave"!==this.getEventName()||!this.hovered.has(e.oid)||(this.hovered.delete(e.oid),0))}},{key:"isHoverHandler",value:function(e){return e===this.currentHandlers.hover}},{key:"isSwipeHandler",value:function(e){return e===this.currentHandlers.swipe}},{key:"isStartHandler",value:function(e){return e===this.currentHandlers.start}},{key:"isEndHandler",value:function(e){return e===this.currentHandlers.end}},{key:"onFocus",value:function(e){return this.currentHandlers.justFocused===e}},{key:"onBlur",value:function(e){return this.currentHandlers.blur===e}},{key:"hasFocus",value:function(e){return this.currentHandlers.focus===e}},{key:"isScrollLeftHandler",value:function(e){return this.currentHandlers.scrollLeft===e}},{key:"isScrollTopHandler",value:function(e){return this.currentHandlers.scrollTop===e}},{key:"isPinchHandler",value:function(e){return this.currentHandlers.pinch===e}},{key:"isCurrentSource",value:function(e){return this.currentTouch.source===e}},{key:"isFormHandler",value:function(e){var t,n,r=this.currentOriginalEvent,i=null===(t=e.$dom)||void 0===t?void 0:t.element,a=null==r?void 0:r.target;return!!(i&&a&&(a===i||null!==(n=i.contains)&&void 0!==n&&n.call(i,a)))}},{key:"getOrientation",value:function(){return this.currentTouch.orientation}},{key:"countTouches",value:function(e){var t,n;return(null===(t=e.touches)||void 0===t?void 0:t.length)||(null===(n=e.originalEvent)||void 0===n||null===(n=n.touches)||void 0===n?void 0:n.length)}},{key:"getTouch",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(null===(t=e.touches)||void 0===t?void 0:t[r])||(null===(n=e.originalEvent)||void 0===n||null===(n=n.touches)||void 0===n?void 0:n[r])||e,a=o.d.isDefined(i.clientX)?i.clientX:i.pageX||0,l=o.d.isDefined(i.clientY)?i.clientY:i.pageY||0;return{x:a,y:l,originalX:a,originalY:l,target:i.target,timeStamp:o.d.now()}}},{key:"move",value:function(e){if(1===this.touchCount){if(this.start0.y=this.end0?this.end0.y:this.start0.y,this.start0.x=this.end0?this.end0.x:this.start0.x,this.end0=this.getTouch(e),o.d.isDefined(this.end0)){var t=this.start0.x-this.end0.x,n=this.start0.y-this.end0.y;this.setDeltaXDeltaY(t,n,"touch")}}else if(this.touchCount>=2){this.end0=this.getTouch(e),this.end1=this.getTouch(e,1);var r=o.d.distance(this.start0.x,this.start0.y,this.start1.x,this.start1.y),i=o.d.distance(this.end0.x,this.end0.y,this.end1.x,this.end1.y)-r;this.currentTouch.pinchDelta=i>0?.3:i<0?-.3:0}}},{key:"end",value:function(){if(this.touchCount<=1&&this.start0){var e,t=0,n=0,r=0;o.d.isDefined(this.end0)&&(t=this.start0.originalX-this.end0.x,n=this.start0.originalY-this.end0.y,r=o.d.now()-this.start0.timeStamp<250?o.d.now()-this.start0.timeStamp:0),"horizontal"===this.currentTouch.orientation&&Math.abs(t)>0&&r>0?(e=o.d.momentum(0,t,r),this.touchTimeStamp=this.end0.timeStamp+e.duration,this.touchTimeStamp-o.d.now()>0&&(this.currentTouch.deltaX=e.distance,this.currentTouch.manualMomentumFlag=!0)):"vertical"===this.currentTouch.orientation&&Math.abs(n)>0&&r>0&&(e=o.d.momentum(0,n,r),this.touchTimeStamp=this.end0.timeStamp+e.duration,this.touchTimeStamp-o.d.now()>0&&(this.currentTouch.deltaY=e.distance,this.currentTouch.manualMomentumFlag=!0))}}},{key:"setDeltaXDeltaY",value:function(e,t,n){var r=Math.abs(e)-Math.abs(t);r>=1?("none"===this.currentTouch.orientation||"vertical"===this.currentTouch.orientation&&r>=2||"horizontal"===this.currentTouch.orientation)&&(this.currentTouch.orientation="horizontal"):("none"===this.currentTouch.orientation||"horizontal"===this.currentTouch.orientation&&r<=-2||"vertical"===this.currentTouch.orientation)&&(this.currentTouch.orientation="vertical"),"horizontal"===this.currentTouch.orientation?this.currentTouch.dir=e<0?"left":e>0?"right":this.currentTouch.dir:this.currentTouch.dir=t<0?"up":t>0?"down":this.currentTouch.dir,this.currentTouch.source=n,this.currentTouch.prevDeltaX+=e,this.currentTouch.prevDeltaY+=t,this.currentTouch.deltaX=this.currentTouch.prevDeltaX,this.currentTouch.deltaY=this.currentTouch.prevDeltaY}},{key:"wheel",value:function(e){var t=0,n=0;this.currentTouch.pinchDelta=0,this.start0=this.getTouch(e),e.ctrlKey&&"deltaY"in e?this.currentTouch.pinchDelta=-e.deltaY/10:"deltaX"in e?(t=e.deltaX,n=e.deltaY):"wheelDeltaX"in e?(t=-e.wheelDeltaX/120,n=-e.wheelDeltaY/120):"wheelDelta"in e?t=-e.wheelDelta/120:"detail"in e&&(t=e.detail/3),this.setDeltaXDeltaY(t,n,"wheel")}}],n&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();y(p,"MAX_EVENT_QUEUE_SIZE",10),y(p,"MAX_EVENT_TYPE_CAPACITY",2);var m=n(956),b=["url","cacheId"];function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D(r.key),r)}}function D(e){var t=function(e){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(t)?t:t+""}var x=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cacheMap={},this.tmodelKeyMap={},this.fetchingAPIMap={},this.fetchingImageMap={}},t=[{key:"clear",value:function(){this.tmodelKeyMap={},this.fetchingAPIMap={},this.fetchingImageMap={}}},{key:"fetchCommon",value:function(e,t,n,r,i){return m.g.markFetchAction(n),this.isFetched(t)?r[e]||(r[e]={fetchId:e,cacheId:t,startTime:o.d.now(),targets:[{tmodel:n,targetName:n.key}],fetchMap:r}):r[e]||(r[e]={fetchId:e,cacheId:t,startTime:o.d.now(),targets:[{tmodel:n,targetName:n.key}],fetchMap:r},i()),this.addToTModelKeyMap(n,n.key,e,t),e}},{key:"fetch",value:function(e,t,n,r){var i=this;if(!t||"object"!==E(t)||Array.isArray(t))(Array.isArray(t)?t:[t]).forEach((function(t){i.fetchOne(e,t,n,r)}));else{var a=t.url,o=t.cacheId,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,b);this.fetchOne(e,a,l,null!=o?o:r)}}},{key:"fetchOne",value:function(e,t,n,r){var i=this,a=this.getFetchKey(e,t,n);this.fetchCommon(a,r,e,this.fetchingAPIMap,(function(){i.ajaxAPI(t,n,i.fetchingAPIMap[a])}))}},{key:"fetchImage",value:function(e,t,n){var r=this;(Array.isArray(t)?t:[t]).forEach((function(t){var i=r.getFetchKey(e,t);r.fetchCommon(i,n,e,r.fetchingImageMap,(function(){r.loadImage(t,r.fetchingImageMap[i])}))}))}},{key:"getFetchKey",value:function(e,t,n){return n?"".concat(e.oid,"_").concat(t,"_").concat(e.getTargetCycle(e.key),"_").concat(JSON.stringify(n)):"".concat(e.oid,"_").concat(t,"_").concat(e.getTargetCycle(e.key))}},{key:"getTModelKey",value:function(e,t){return"".concat(e.oid," ").concat(t)}},{key:"getLoadTargetName",value:function(e){return"load-".concat(e)}},{key:"addToTModelKeyMap",value:function(e,t,n,r){var i,a,l=this.getTModelKey(e,t),s=this.getLoadTargetName(t),u=this.isLoadingComplete(e,t);!u&&this.tmodelKeyMap[l]||null!==(a=(i=this.tmodelKeyMap)[l])&&void 0!==a||(i[l]={fetchMap:{},entryCount:0,resultCount:0,errorCount:0,activeIndex:0,accessIndex:0}),!u&&e.val(s)||e.val(s)||e.val(s,[]),this.tmodelKeyMap[l].fetchMap[n]||(this.tmodelKeyMap[l].fetchMap[n]={fetchId:n}),this.tmodelKeyMap[l].fetchMap[n].order=this.tmodelKeyMap[l].entryCount,this.tmodelKeyMap[l].entryCount++,e.val(s).push(void 0),r&&this.isFetched(r)&&(this.fetchingAPIMap[n].startTime=o.d.now(),this.handleSuccess(this.fetchingAPIMap[n],this.cacheMap[r].result))}},{key:"removeFromTModelKeyMap",value:function(e,t){var n=this.getTModelKey(e,t);delete this.tmodelKeyMap[n]}},{key:"isLoading",value:function(e,t){var n=this.getTModelKey(e,t);return this.tmodelKeyMap[n]}},{key:"isLoadingSuccessful",value:function(e,t){var n=this.getTModelKey(e,t);return this.tmodelKeyMap[n]&&this.tmodelKeyMap[n].resultCount===this.tmodelKeyMap[n].entryCount}},{key:"isLoadingComplete",value:function(e,t){var n=this.getTModelKey(e,t);return!!this.tmodelKeyMap[n]&&this.tmodelKeyMap[n].resultCount===this.tmodelKeyMap[n].entryCount&&this.tmodelKeyMap[n].activeIndex===this.tmodelKeyMap[n].entryCount}},{key:"resetLoadingError",value:function(e,t){var n=this.getTModelKey(e,t),r=this.tmodelKeyMap[n];r&&(r.errorCount=0)}},{key:"nextActiveItem",value:function(e,t){var n=this.getTModelKey(e,t),r=this.tmodelKeyMap[n];return!!r&&r.activeIndex++}},{key:"isNextLoadingItemSuccessful",value:function(e,t){var n=this.getTModelKey(e,t),r=this.tmodelKeyMap[n];if(!r)return!1;var i=this.getLoadTargetName(t),a=e.val(i);return Array.isArray(a)&&o.d.isDefined(a[r.activeIndex])}},{key:"getLoadingItemValue",value:function(e,t,n){var r=this.getTModelKey(e,t),i=this.tmodelKeyMap[r];if(i&&!(i.accessIndex>=i.resultCount)){var a,l=this.getLoadTargetName(t),s=e.val(l);return s&&(null!=n&&n.endsWith("$$")?(a=s.slice(i.accessIndex,i.resultCount),i.accessIndex+=a.length):o.d.isDefined(s[i.accessIndex])&&(a=s[i.accessIndex],i.accessIndex++)),a}}},{key:"isFetched",value:function(e){var t,n;return null!==(t=null===(n=this.cacheMap[e])||void 0===n?void 0:n.success)&&void 0!==t&&t}},{key:"getFetchingPeriod",value:function(e){return this.fetchingAPIMap[e]?o.d.now()-this.fetchingAPIMap[e].startTime:void 0}},{key:"fetchCache",value:function(e){return this.cacheMap[e]}},{key:"handleSuccess",value:function(e,t){var n=this,r=o.d.now(),i=e.fetchId,a=e.cacheId,l=e.startTime,s=e.targets,u=e.fetchMap,c={fetchingPeriod:r-l,success:!0,result:t};s.forEach((function(e){var t=e.tmodel,r=e.targetName,a=n.getTModelKey(t,r),o=n.tmodelKeyMap[a],l=n.getLoadTargetName(r);if(o&&o.fetchMap[i]){var s=o.fetchMap[i];n.callOnSuccessHandler(t,r,S(S({},c),{},{order:s.order}));var u=t.val(l);u&&(u[s.order]||o.resultCount++,u[s.order]=c.result),t.val(r,1===(null==u?void 0:u.length)?u[0]:u),t.updateTargetStatus(r),t.setLastUpdate(r),m.g.shouldActivateNextTarget(t,r)}})),delete u[i],a&&(this.cacheMap[a]=c),Qe().schedule(0,"api_success_".concat(i))}},{key:"handleError",value:function(e,t){var n=this,r=o.d.now(),i=e.fetchId,a=e.cacheId,l=e.startTime,s=e.targets,u=e.fetchMap;s.forEach((function(e){var a=e.tmodel,o=e.targetName,s=n.getTModelKey(a,o),u=n.tmodelKeyMap[s],c=n.getLoadTargetName(o);if(u&&u.fetchMap[i]){var h=u.fetchMap[i],d={fetchingPeriod:r-l,success:!1,order:h.order,error:t},f=a.val(c);f&&(f[h.order]||u.resultCount++,f[h.order]=d),a.val(o,1===f.length?f[0]:f),u.errorCount++,n.callOnErrorHandler(a,o),a.updateTargetStatus(o),a.setLastUpdate(o),m.g.shouldActivateNextTarget(a,o)}})),delete u[i],a&&delete this.cacheMap[a],Qe().schedule(0,"api_error_".concat(i))}},{key:"callOnSuccessHandler",value:function(e,t,n){var r,i=null===(r=e.targets[t])||void 0===r?void 0:r.onSuccess;i&&("function"==typeof i?(e.setTargetMethodName(t,"onSuccess"),i.call(e,n)):Array.isArray(i)?i.forEach((function(t){return m.g.activateSingleTarget(e,t)})):m.g.activateSingleTarget(e,i))}},{key:"callOnErrorHandler",value:function(e,t){var n,r=null===(n=e.targets[t])||void 0===n?void 0:n.onError;r&&("function"==typeof r?(e.setTargetMethodName(t,"onSuccess"),r.call(e,e.val(t))):Array.isArray(r)?r.forEach((function(t){return m.g.activateSingleTarget(e,t)})):m.g.activateSingleTarget(e,r))}},{key:"ajaxAPI",value:function(e,t,n){var i,a,o,l=this,s={url:e,dataType:"json",type:"GET",success:function(e){return l.handleSuccess(n,e)},error:function(e){return l.handleError(n,e)}};if((u=t)&&"object"===E(u)&&!Array.isArray(u)){for(var u,c=new Set(["data","type","method","requestType","dataType","headers","contentType","timeout","processData","cache","beforeSend","withCredentials","xhrFields"]),h={},d={},f=0,v=Object.entries(t);f<v.length;f++){var y=T(v[f],2),g=y[0],p=y[1];"requestType"===g?h.type=p:c.has(g)?h[g]=p:d[g]=p}var m=S(S(S({},s),h),{},{type:null!==(i=null!==(a=h.method)&&void 0!==a?a:h.type)&&void 0!==i?i:s.type,dataType:null!==(o=h.dataType)&&void 0!==o?o:s.dataType});!("data"in m)&&Object.keys(d).length&&(m.data=d),r.J.ajax(m)}else r.J.ajax(S(S({},s),{},{data:t}))}},{key:"loadImage",value:function(e,t){var n=this,r=new Image;r.src=e,r.onload=function(){var e={width:r.width,height:r.height,src:r.src};n.handleSuccess(t,e)},r.onerror=function(){n.handleError(t,"not found")}}}],t&&C(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),L=n(780),O=n(144);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return(t=W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=N(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function N(e,t){if(e){if("string"==typeof e)return H(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function F(){F=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),l=new O(r||[]);return i(o,"_invoke",{value:C(e,n,l)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",f="suspendedYield",v="executing",y="completed",g={};function p(){}function m(){}function b(){}var T={};u(T,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(P([])));k&&k!==n&&r.call(k,o)&&(T=k);var S=b.prototype=p.prototype=Object.create(T);function M(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,l){var s=h(e[i],e,a);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==_(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function C(t,n,r){var i=d;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var s=D(l,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=h(t,n,r);if("normal"===u.type){if(i=r.done?y:f,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function D(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,D(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(_(t)+" is not iterable")}return m.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},M(E.prototype),u(E.prototype,l,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},M(S),u(S,s,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function B(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){B(a,r,i,o,l,"next",e)}function l(e){B(a,r,i,o,l,"throw",e)}o(void 0)}))}}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function W(e){var t=function(e){if("object"!=_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:t+""}var $=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hasLocationList=[],this.hasLocationMap={},this.visibleChildrenLengthMap={},this.updatedContainerMap={},this.locationListStats=[],this.domIslandSet=new Set,this.activatedList=[],this.activatedMap={},this.calcBusy=!1,this.calcQueued=!1,this.resumePausedList=[],this.resumePausedMap={},this.resumeScheduled=!1},t=[{key:"clear",value:function(){this.visibleChildrenLengthMap={},this.updatedContainerMap={},this.activatedList=[],this.activatedMap={},this.domIslandSet.clear(),this.calcBusy=!1,this.calcQueued=!1,this.resumePausedList=[],this.resumePausedMap={},this.resumeScheduled=!1}},{key:"calculateActivated",value:function(){var e=0,t=this.activatedList;for(this.activatedList=[],this.activatedMap={};e<t.length;){var n=t[e++],r=n.activatedTargets.slice(0);n.activatedTargets.length=0,Ke().applyTargetValues(n,r),n.updatingTargetList.length>0&&Ke().setActualValues(n,n.updatingTargetList),this.hasLocationMap[n.oid]||this.addToLocationList(n)}}},{key:"calculateAll",value:(r=R(F().mark((function e(){var t,n,r,i=arguments;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:8,!this.calcBusy){e.next=4;break}return this.calcQueued=!0,e.abrupt("return");case 4:return this.calcBusy=!0,this.hasLocationList.length=0,this.hasLocationMap={},this.locationListStats=[],(n=[]).push({container:Re(),stage:"init",children:[],viewport:void 0,index:0}),r={budgetMs:t,sliceStart:o.d.now()},e.next=13,this.processStack(n,r);case 13:if(this.processAfterStack(),this.scheduleResumePaused(),this.calcBusy=!1,!this.calcQueued){e.next=19;break}return this.calcQueued=!1,e.abrupt("return",this.calculateAll(t));case 19:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"processStack",value:(n=R(F().mark((function e(t,n){var r,i,a,l,s,u,c,h=this;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(e){var t=e.container,n=e.children;if(t.adjustViewport(),t.calcContentWidthHeight(),Ue().getEventType()||Ue().hasDelta()){var r,i=V(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;h.checkExternalEvents(a)}}catch(e){i.e(e)}finally{i.f()}}},i=function(e){var t=e.children[e.index];t&&t.getDirtyLayout()&&(t.isComplete()&&!t.hasChildren()||!t.isVisible())&&t.removeLayoutDirty(t,t.dirtyLayout.oids?Object.keys(t.dirtyLayout.oids):void 0),e.stage="afterChild"},a=function(e){var t=e.container,n=e.children,r=e.viewport,i=n[e.index];i&&(i.useContentHeight()&&(i.actualValues.height!==i.getContentHeight()&&(i.actualValues.height=i.getContentHeight(),i.markLayoutDirty("contentWidthHeight")),i.addToStyleTargetList("height")),i.useContentWidth()&&(i.actualValues.width!==i.getContentWidth()&&(i.actualValues.width=i.getContentWidth(),i.markLayoutDirty("contentWidthHeight")),i.addToStyleTargetList("width")),i.isInFlow()&&(o.d.isNumber(i.val("appendNewLine"))?r.appendNewLine():r.nextLocation(),t.calcContentWidthHeight())),e.index++,e.index<e.children.length&&(e.stage="child")},l=function(e){var n,r=e.container,i=e.children,a=e.viewport,l=i[e.index];if(l){if(l.isDomIsland()&&l.originWindowEpoch!==Ue().getWindowEpoch()&&l.hasDom()&&(l.calcAbsolutePositionFromDom(),l.originWindowEpoch=Ue().getWindowEpoch()),a.setCurrentChild(l),!l.getDirtyLayout()&&!l.currentStatus)return h.calcNextLocation(l,r,a),void e.index++;l.isDomIsland()&&h.domIslandSet.add(l),l.shouldBeBracketed()&&!o.d.isDefined(l.getDomParent().targets.onWindowScroll)&&l.getDomParent().addTarget("onWindowScroll",""),a.setLocation(),a.isOverflow()&&(a.overflow(),a.setLocation());var s,u,c,d,f=l.actualValues.x,v=l.actualValues.y,y=l.getMinWidth();l.isIncluded()&&r.manageChildTargetExecution(l)&&h.calculateTargets(l),y!==l.getMinWidth()&&a.isOverflow()&&l.markLayoutDirty("overflow"),l.isIncluded()&&l.targets.onVisibleChildrenChange&&!h.visibleChildrenLengthMap[l.oid]&&(h.visibleChildrenLengthMap[l.oid]={tmodel:l,visibleCount:l.visibleChildren.length}),h.addToLocationList(l),O.a.isXDefined(l)||(l.actualValues.x=l.x),O.a.isYDefined(l)||(l.actualValues.y=l.y),l.isDomIsland()||l.calcAbsolutePosition(l.getX(),l.getY()),l.excludeDefaultStyling()||h.fixLocation(l,f,v),h.calculateVisibility(l),(null===(n=l.getDirtyLayout())||void 0===n?void 0:n.count)>0?h.locationListStats.push("".concat(l.oid,"|").concat(null===(s=l.getDirtyLayout())||void 0===s?void 0:s.count,"|").concat(null===(u=l.getDirtyLayout())||void 0===u?void 0:u.lastKey)):h.locationListStats.push("".concat(l.oid,"|").concat(null!==(c=null===(d=l.getDirtyLayout())||void 0===d?void 0:d.count)&&void 0!==c?c:0)),e.stage="resetDirtyLayout",l.hasChildren()&&(l.shouldCalculateChildren()?t.push({container:l,stage:"init",children:[],viewport:void 0,index:0}):l.isVisible()||!1===l.makeChildrenInvisible||(l.makeChildrenInvisible=!1,o.d.getDeepList(l).forEach((function(e){e.actualValues.isVisible=!1,h.addToLocationList(e)}))))}else e.index++};case 4:if(!t.length){e.next=21;break}if(!(o.d.now()-n.sliceStart>n.budgetMs)){e.next=10;break}return e.next=8,new Promise(requestAnimationFrame);case 8:return n.sliceStart=o.d.now(),e.abrupt("continue",4);case 10:if("init"===(s=t[t.length-1]).stage&&(u=s.container,c=this.calcChildren(u),u.childrenUpdateFlag&&(u.childrenUpdateFlag=!1,u.targets.onChildrenChange&&(this.updatedContainerMap[u.oid]=u)),u.shouldBeBracketed()&&(u.backupDirtyLayout=j({},u.dirtyLayout)),u.visibleChildren.length=0,s.children=c,s.index=0,s.viewport=u.createViewport(),s.stage="child"),"resetDirtyLayout"===s.stage&&i(s),"afterChild"===s.stage&&a(s),!(s.index>=s.children.length)){e.next=18;break}return r(s),t.pop(),e.abrupt("continue",4);case 18:l(s),e.next=4;break;case 21:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"processAfterStack",value:function(){for(var e in this.visibleChildrenLengthMap){var t=this.visibleChildrenLengthMap[e],n=t.tmodel,r=t.visibleCount;!n.isVisible()||r===n.visibleChildren.length&&0!==n.visibleChildren.length||(this.runEventTargets(n,["onVisibleChildrenChange"]),this.visibleChildrenLengthMap[e].visibleCount=n.visibleChildren.length)}for(var i in this.updatedContainerMap){var a=this.updatedContainerMap[i];a.isVisible()&&this.runEventTargets(a,["onChildrenChange"]),delete this.updatedContainerMap[i]}}},{key:"calcChildren",value:function(e){return e.getChildren(),e.shouldBeBracketed()?L.M.generate(e):(e.lastChildrenUpdate.additions.length=0,e.lastChildrenUpdate.deletions.length=0,L.M.bracketMap[e.oid]&&(delete L.M.bracketMap[e.oid],delete L.M.pageMap[e.oid]),e.getChildren())}},{key:"calcNextLocation",value:function(e,t,n){var r,i=this;n.setLocation(),n.isOverflow()&&(n.overflow(),n.setLocation()),e.isIncluded()&&e.targets.onVisibleChildrenChange&&!this.visibleChildrenLengthMap[e.oid]&&(this.visibleChildrenLengthMap[e.oid]={tmodel:e,visibleCount:e.visibleChildren.length}),O.a.isXDefined(e)||(e.actualValues.x=e.x),O.a.isYDefined(e)||(e.actualValues.y=e.y),e.isDomIsland()||e.calcAbsolutePosition(e.getX(),e.getY()),e.excludeDefaultStyling()||(this.addToTransformTargetList(e,"x"),this.addToTransformTargetList(e,"y")),((null===(r=e.styleTargetMap)||void 0===r?void 0:r.size)>0||e.updatingTargetList.length>0)&&this.addToLocationList(e),this.calculateVisibility(e),!e.isVisible()&&e.hasChildren()&&o.d.getDeepList(e).forEach((function(e){e.actualValues.isVisible=!1,i.addToLocationList(e)})),e.isInFlow()&&(o.d.isNumber(e.val("appendNewLine"))?n.appendNewLine():n.nextLocation(),t.calcContentWidthHeight())}},{key:"calculateVisibility",value:function(e){var t,n,r,i=e.isVisible(),a=null!==(t=null===(n=e.visibilityStatus)||void 0===n?void 0:n.isVisible)&&void 0!==t?t:void 0,l=e.calcVisibility();r=o.d.isDefined(e.targets.isVisible)?"function"==typeof e.targets.isVisible.value?e.targets.isVisible.value.call(e):!!e.targets.isVisible:l,e.actualValues.isVisible=r,e.isNowVisible=!i&&r||!a&&l,e.isNowInvisible=(i||void 0===i)&&!r||a&&!l,e.isNowVisible&&e.markLayoutDirty("isNowVisible"),e.isNowInvisible&&(e.makeChildrenInvisible=void 0,this.addToLocationList(e)),e.addToParentVisibleChildren()}},{key:"calculateTargets",value:function(e){e.hasDom()&&e.pausedBatch&&(this.resumePausedMap[e.oid]||(this.resumePausedMap[e.oid]=!0,this.resumePausedList.push(e))),this.checkInternalEvents(e),e.activatedTargets.forEach((function(t){e.activeTargetMap[t]&&e.removeFromActiveTargets(t)})),Ke().applyTargetValues(e),e.updatingTargetList.length>0&&Ke().setActualValues(e,e.updatingTargetList),O.a.shouldMeasureWidthFromDom(e)&&(e.hasDom()?O.a.setWidthFromDom(e):e.markLayoutDirty("width")),O.a.shouldMeasureHeightFromDom(e)&&(e.hasDom()?O.a.setHeightFromDom(e):e.markLayoutDirty("height")),e.isNowVisible=!1,e.hasDomNow=!1,e.targetExecutionCount++}},{key:"scheduleResumePaused",value:function(){var e=this;!this.resumeScheduled&&this.resumePausedList.length&&(this.resumeScheduled=!0,requestAnimationFrame((function(){requestAnimationFrame((function(){e.resumeScheduled=!1;var t=e.resumePausedList.slice();e.resumePausedList.length=0,e.resumePausedMap={};var n,r=V(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.pausedBatch;if(a&&i.hasDom()){var o=i.$dom.getElement();o&&o.isConnected&&"visible"===document.visibilityState&&(ze().animate(i,a,m.g.getAnimationHooks()),i.pausedBatch=void 0)}}}catch(e){r.e(e)}finally{r.f()}}))})))}},{key:"checkExternalEvents",value:function(e){var t=e.externalEventMap;if((null==t?void 0:t.size)>0){var n,r=[],i=l.u.allEventMap,a=V(t);try{for(a.s();!(n=a.n()).done;){var o=P(n.value,1)[0];i[o](e)&&r.push(e.allTargetMap[o])}}catch(e){a.e(e)}finally{a.f()}this.runEventTargets(e,r)}}},{key:"checkInternalEvents",value:function(e){var t=[],n=l.u.internalEventMap,r=e.internalEventMap;if((null==r?void 0:r.size)>0){var i,a=V(r);try{for(a.s();!(i=a.n()).done;){var o=P(i.value,1)[0];n[o](e)&&t.push(e.allTargetMap[o])}}catch(e){a.e(e)}finally{a.f()}}this.runEventTargets(e,t)}},{key:"runEventTargets",value:function(e,t){t.forEach((function(t){var n=e.targets[t];if(e.isTargetEnabled(t)&&!e.isTargetUpdating(n)){s.j.prepareTarget(e,t),s.j.resolveTargetValue(e,t),s.j.updateTarget(e,e.targetValues[t],t,!1);var r=e.val(t);Array.isArray(r)?r.forEach((function(t){return m.g.activateSingleTarget(e,t)})):"string"==typeof r&&m.g.activateSingleTarget(e,r),m.g.shouldActivateNextTarget(e,t)}}))}},{key:"addToLocationList",value:function(e){this.hasLocationMap[e.oid]||(this.hasLocationList.push(e),this.hasLocationMap[e.oid]=e)}},{key:"addToActivatedList",value:function(e){this.activatedMap[e.oid]||(this.activatedList.push(e),this.activatedMap[e.oid]=e)}},{key:"fixLocation",value:function(e,t,n,r){if(e.hasValidAnimation()){var i=[],a=[],o=e.actualValues.x!==t,l=e.actualValues.y!==n;if(!o||e.isKeyAnimating(e.allTargetMap.x)&&!r||(i.push("x"),a.push(e.val("x"))),!l||e.isKeyAnimating(e.allTargetMap.y)&&!r||(i.push("y"),a.push(e.val("y"))),i.length>0)return void O.a.overrideAnimatedKeyWithSnap(e,i,a)}this.addToTransformTargetList(e,"x"),this.addToTransformTargetList(e,"y")}},{key:"addToTransformTargetList",value:function(e,t){O.a.getTransformValue(e,t)!==Math.floor(e.tfMap[t])&&e.addToStyleTargetList(t)}},{key:"isActivated",value:function(e){return this.activatedMap[e.oid]}}],t&&U(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}(),q=n(728);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Y(){Y=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),l=new O(r||[]);return i(o,"_invoke",{value:C(e,n,l)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",f="suspendedYield",v="executing",y="completed",g={};function p(){}function m(){}function b(){}var T={};u(T,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(_([])));k&&k!==n&&r.call(k,o)&&(T=k);var S=b.prototype=p.prototype=Object.create(T);function M(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,l){var s=h(e[i],e,a);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==X(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function C(t,n,r){var i=d;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var s=D(l,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=h(t,n,r);if("normal"===u.type){if(i=r.done?y:f,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function D(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,D(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(X(t)+" is not iterable")}return m.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},M(E.prototype),u(E.prototype,l,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},M(S),u(S,s,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return(t=Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z(r.key),r)}}function Z(e){var t=function(e){if("object"!=X(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==X(t)?t:t+""}var ee=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lastLink=o.d.getFullLink(document.URL),this.pageCache={}},t=[{key:"initPage",value:function(e){De.tRoot.$dom.outerHTML(e),De.tRoot.$dom=r.J.query("#tgjs-root")?new r.J("#tgjs-root"):new r.J("body"),q.v.initPageDoms(De.tRoot.$dom)}},{key:"openPage",value:(n=Y().mark((function e(t){var n,i;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.stop();case 2:return e.next=4,De.reset();case 4:t=o.d.getFullLink(t),this.pageCache[t]?(De.tRoot=this.pageCache[t].tRoot,Fe.oids=this.pageCache[t].oids,Fe.tmodelIdMap=this.pageCache[t].tmodelIdMap,De.tRoot.$dom=r.J.query("#tgjs-root")?new r.J("#tgjs-root"):new r.J("body"),De.tRoot.$dom.innerHTML(this.pageCache[t].html),n=Object.values(this.pageCache[t].visibleOidMap),i=q.v.initCacheDoms(n),n.forEach((function(e){e.visibilityStatus=void 0})),De.manager.visibleOidMap=z({},this.pageCache[t].visibleOidMap),i.forEach((function(e){De.manager.visibleOidMap[e.oid]=e})),window.scrollTo(this.pageCache[t].scrollLeft,this.pageCache[t].scrollTop),this.lastLink=t,De.start()):(De.tRoot.$dom.innerHTML(""),Fe.oids={},Fe.tmodelIdMap={},De.tRoot=De.tRootFactory(),this.lastLink=t,De.start());case 6:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(e){J(a,r,i,o,l,"next",e)}function l(e){J(a,r,i,o,l,"throw",e)}o(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"openLinkFromHistory",value:function(e){e.link?(this.onPageClose(),this.openLink(e.link,!1)):e.browserUrl&&(history.replaceState({link:e.browserUrl},"",e.browserUrl),this.openPage(e.browserUrl))}},{key:"onPageClose",value:function(){De.resizeLastUpdate=o.d.now(),Ue().resizeRoot(),De.manager.getVisibles().forEach((function(e){Je().runEventTargets(e,["onPageClose"])}))}},{key:"openLink",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e=o.d.getFullLink(e),this.lastLink){De.tRoot.$dom=r.J.query("#tgjs-root")?new r.J("#tgjs-root"):new r.J("body");var n=De.tRoot.$dom.innerHTML();this.onPageClose(),this.pageCache[this.lastLink]={link:this.lastLink,html:n,oids:z({},Fe.oids),tmodelIdMap:z({},Fe.tmodelIdMap),visibleOidMap:z({},De.manager.visibleOidMap),scrollLeft:r.J.getWindowScrollLeft()||0,scrollTop:r.J.getWindowScrollTop()||0,tRoot:De.tRoot}}t&&history.pushState({link:e},"",e),this.openPage(e),Qe().schedule(0,"pagemanager-processOpenLink")}},{key:"updateBrowserUrl",value:function(e,t){De.tRoot.$dom=r.J.query("#tgjs-root")?new r.J("#tgjs-root"):new r.J("body"),this.pageCache[document.URL]={link:document.URL,html:De.tRoot.$dom.innerHTML(),oids:z({},Fe.oids),tmodelIdMap:z({},Fe.tmodelIdMap),visibleOidMap:z({},De.manager.visibleOidMap),scrollLeft:r.J.getWindowScrollLeft()||0,scrollTop:r.J.getWindowScrollTop()||0,tRoot:De.tRoot},t?history.pushState({browserUrl:e},"",e):history.replaceState({browserUrl:e},"",e),Qe().schedule(0,"pagemanager-processUpdateBrowserUrl")}},{key:"back",value:function(){return history.back()}}],t&&G(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,i}();function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ie(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function ie(e,t){if(e){if("string"==typeof e)return ae(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return(t=ce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ce(r.key),r)}}function ce(e){var t=function(e){if("object"!=te(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==te(t)?t:t+""}var he=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()},t=[{key:"init",value:function(){this.lists={visible:[],rerender:[],restyle:[],reasyncStyle:[],reattach:[],relocation:[],invisibleDom:[],noDom:[],updatingTModels:[],activeTModels:[],updatingTargets:[],activeTargets:[]},this.visibleOidMap={},this.targetMethodMap={},this.noDomMap={}}},{key:"clearFrameLists",value:function(){this.lists.visible.length=0,this.lists.rerender.length=0,this.lists.restyle.length=0,this.lists.reasyncStyle.length=0,this.lists.reattach.length=0,this.lists.relocation.length=0,this.lists.noDom.length=0,this.lists.updatingTModels.length=0,this.lists.activeTModels.length=0,this.lists.updatingTargets.length=0,this.lists.activeTargets.length=0,this.targetMethodMap={},this.noDomMap={}}},{key:"clearAll",value:function(){this.visibleOidMap={},this.clearFrameLists(),this.deleteDoms()}},{key:"analyze",value:function(){var e=this,t=le({},this.visibleOidMap);this.clearFrameLists();var n,r=re(Je().hasLocationList);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t[i.oid]=void 0,Fe.tmodelIdMap[i.oid]){var a,o,l=i.isVisible();if(l&&i.isIncluded()?(this.visibleOidMap[i.oid]=i,this.lists.visible.push(i)):delete this.visibleOidMap[i.oid],i.hasDom()&&(i.canHaveDom()&&i.isIncluded()&&(!i.canDeleteDom()||l)||(this.addToInvisibleDom(i),i.getChildren().forEach((function(t){e.addToRecursiveInvisibleDom(t)})))),l||i.isActivated()){var s,u;this.needsRerender(i),this.needsRestyle(i),this.needsReattach(i),this.needsRelocation(i);var c=i.state();((null===(s=c.updatingTargetList)||void 0===s?void 0:s.length)>0||i.hasAnimatingTargets())&&(this.lists.updatingTModels.push(i),this.lists.updatingTargets=[].concat(ne(this.lists.updatingTargets),ne(c.updatingTargetList))),(null===(u=c.activeTargetList)||void 0===u?void 0:u.length)>0&&(this.lists.activeTModels.push(i),this.lists.activeTargets=[].concat(ne(this.lists.activeTargets),ne(c.activeTargetList))),c.targetMethodMap&&Object.keys(c.targetMethodMap).length>0&&(this.targetMethodMap[i.oid]=le({},c.targetMethodMap),c.targetMethodMap={}),i.deactivate()}(l||i.requiresDom())&&i.canHaveDom()&&!i.hasDom()&&i.isIncluded()&&!this.noDomMap[i.oid]&&(null!==(a=i.getDomHolder(i))&&void 0!==a&&a.exists()||this.noDomMap[null===(o=i.getDomParent())||void 0===o?void 0:o.oid]?(this.lists.noDom.push(i),this.noDomMap[i.oid]=!0):i.markLayoutDirty("noDomHolder"))}else i.hasDom()&&this.addToInvisibleDom(i),delete this.visibleOidMap[i.oid]}}catch(e){r.e(e)}finally{r.f()}return Object.values(t).filter((function(e){return void 0!==e})).forEach((function(t){t.hasDom()&&(Fe.tmodelIdMap[t.oid]&&t.isIncluded()||e.addToInvisibleDom(t))})),this.lists.noDom.length>0?0:this.lists.reattach.length>0?1:this.lists.relocation.length>0?2:this.lists.rerender.length>0?3:this.lists.reasyncStyle.length>0?4:this.lists.invisibleDom.length>0?5:this.lists.restyle.length>0?10:-1}},{key:"isBracketVisible",value:function(e){for(e=e.bracket;e&&"BI"===e.type;){if(!e.isVisible())return!1;e=e.getParent()}return!0}},{key:"addToRecursiveInvisibleDom",value:function(e){var t=this;delete this.visibleOidMap[e.oid],this.lists.invisibleDom.includes(e)||(e.hasDom()&&this.lists.invisibleDom.push(e),e.getChildren().forEach((function(e){t.addToRecursiveInvisibleDom(e)})))}},{key:"addToInvisibleDom",value:function(e){delete this.visibleOidMap[e.oid],this.lists.invisibleDom.includes(e)||this.lists.invisibleDom.push(e)}},{key:"needsRelocation",value:function(e){return!(!e.hasDom()||!o.d.isDefined(e.domOrderIndex)||(this.lists.relocation.push(e),0))}},{key:"getVisibles",value:function(){return Object.values(this.visibleOidMap)}},{key:"needsRerender",value:function(e){return!(!e.hasDom()||!o.d.isDefined(e.getHtml())||e.$dom.html()===e.getHtml()&&e.$dom.textOnly===e.isTextOnly()||(this.lists.rerender.push(e),0))}},{key:"needsRestyle",value:function(e){var t,n;e.hasDom()&&((null===(t=e.styleTargetMap)||void 0===t?void 0:t.size)>0&&this.lists.restyle.push(e),(null===(n=e.asyncStyleTargetMap)||void 0===n?void 0:n.size)>0&&this.lists.reasyncStyle.push(e))}},{key:"needsReattach",value:function(e){e.hasDom()&&!e.reuseDomDefinition()&&(e.hasDomHolderChanged()||e.hasBaseElementChanged())&&this.lists.reattach.push(e)}},{key:"renderTModels",value:function(){var e,t=re(this.lists.rerender);try{for(t.s();!(e=t.n()).done;){var n,r,i=e.value;i.isTextOnly()?null===(n=i.$dom)||void 0===n||n.text(i.getHtml()):null===(r=i.$dom)||void 0===r||r.html(i.getHtml()),i.setLastUpdate("html"),i.domHeightTimestamp=0,i.domWidthTimestamp=0}}catch(e){t.e(e)}finally{t.f()}}},{key:"reattachTModels",value:function(){var e,t=re(this.lists.reattach);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n.hasBaseElementChanged(),i=n.getDomParent();i&&i.$dom&&(i.$dom.removeElement(n.$dom.element),r&&(O.a.createDom(n),O.a.patchDom(n),O.a.initStyleMaps(n),this.needsRestyle(n)),n.getDomHolder(n)&&n.getDomHolder(n).appendTModel$Dom(n))}}catch(e){t.e(e)}finally{t.f()}}},{key:"relocateTModels",value:function(){this.lists.relocation.sort((function(e,t){return t.domOrderIndex-e.domOrderIndex}));var e,t=re(this.lists.relocation);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=n.getDomParent();r&&r.$dom&&(r.$dom.relocate(n,n.domOrderIndex),n.domOrderIndex=void 0)}}catch(e){t.e(e)}finally{t.f()}}},{key:"resetTModelDom",value:function(e){e.styleMap={},e.tfMap={},e.actualValues.isVisible=!1,e.hasDomNow=!1,e.$dom=null}},{key:"deleteDoms",value:function(){var e,t=re(this.lists.invisibleDom);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.deleteDom(n)}}catch(e){t.e(e)}finally{t.f()}this.lists.invisibleDom.length=0}},{key:"deleteDom",value:function(e){e.hasAnimatingTargets()&&ze().pauseTModel(e);var t=e.getDomParent();t&&t.$dom&&t.$dom.removeElement(e.$dom.element),this.resetTModelDom(e)}},{key:"fixStyles",value:function(){var e,t=re(this.lists.restyle);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.hasDom()&&O.a.fixStyle(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"fixAsyncStyles",value:function(){var e,t=re(this.lists.reasyncStyle);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.hasDom()&&O.a.fixAsyncStyle(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"createDoms",value:function(){if(0!==this.lists.noDom.length){var e=new Map,t=[],n=[];this.lists.noDom.sort((function(e,t){return e.getUIDepth()<t.getUIDepth()?-1:1}));var i,a=re(this.lists.noDom);try{for(a.s();!(i=a.n()).done;){var o=i.value;r.J.query("#".concat(o.oid))?(o.$dom=new r.J("#".concat(o.oid)),o.$dom.attr("tgjs","true"),o.hasDomNow=!0,o.markLayoutDirty("hasDomNow"),this.needsRerender(o),this.needsRestyle(o)):n.push(o)}}catch(e){a.e(e)}finally{a.f()}for(var l=0,s=n;l<s.length;l++){var u=s[l],c=u.getDomHolder(u);if(c)if(u.$dom=void 0,u.val("$dom"))u.$dom=u.val("$dom"),u.hasDom()||c.appendTModel$Dom(u);else{O.a.createDom(u),O.a.patchDom(u),t.push(u);var h=e.get(c);h||(h={domHolder:c,fragment:r.J.createDocumentFragment(),tmodels:[]},e.set(c,h)),h.fragment.appendChild(u.$dom.element),h.tmodels.push(u)}else u.markLayoutDirty("noDomHolder")}var d,f=re(e.values());try{for(f.s();!(d=f.n()).done;){var v=d.value,y=v.domHolder,g=v.fragment;y.appendElement(g)}}catch(e){f.e(e)}finally{f.f()}for(var p=0,m=t;p<m.length;p++){var b=m[p];b.hasDom()&&(b.hasDomNow=!0,b.markLayoutDirty("hasDomNow")),O.a.initStyleMaps(b),O.a.fixStyle(b),O.a.fixAsyncStyle(b)}Ue().attachEvents(this.lists.noDom.filter((function(e){var t;return(null===(t=e.externalEventMap)||void 0===t?void 0:t.size)>0})))}}}],t&&ue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function fe(){fe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),l=new O(r||[]);return i(o,"_invoke",{value:C(e,n,l)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",f="suspendedYield",v="executing",y="completed",g={};function p(){}function m(){}function b(){}var T={};u(T,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(_([])));k&&k!==n&&r.call(k,o)&&(T=k);var S=b.prototype=p.prototype=Object.create(T);function M(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,l){var s=h(e[i],e,a);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==de(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function C(t,n,r){var i=d;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var s=D(l,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=h(t,n,r);if("normal"===u.type){if(i=r.done?y:f,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function D(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,D(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(de(t)+" is not iterable")}return m.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},M(E.prototype),u(E.prototype,l,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},M(S),u(S,s,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function ve(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ve(a,r,i,o,l,"next",e)}function l(e){ve(a,r,i,o,l,"throw",e)}o(void 0)}))}}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pe(r.key),r)}}function pe(e){var t=function(e){if("object"!=de(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==de(t)?t:t+""}var me,be,Te,we=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nextRuns=[],this.domProcessing=0,this.runningFlag=!1,this.runId="",this.runStartTime=void 0,this.runDuration=0,this.rerunId="",this.delayProcess=void 0,this.resetting=!1,this.activeStartTime=void 0,this.phase=0,this.runningStep=-1,this.sliceQueued=!1}return t=e,n=[{key:"resetRuns",value:(i=ye(fe().mark((function e(){var t;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.resetting=!0,e.next=3,new Promise((function(e){return requestAnimationFrame(e)}));case 3:null!==(t=this.delayProcess)&&void 0!==t&&t.timeoutId&&clearTimeout(this.delayProcess.timeoutId),this.nextRuns=[],this.domProcessing=0,this.runningFlag=!1,this.runId="",this.runStartTime=void 0,this.runDuration=0,this.rerunId="",this.delayProcess=void 0,this.resetting=!1,this.activeStartTime=void 0,this.phase=0,this.runningStep=-1,this.sliceQueued=!1;case 17:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"scheduleOnlyIfEarlier",value:function(e,t){var n=this.runStartTime+e;this.delayProcess&&n>=this.delayProcess.runTime||this.schedule(e,t)}},{key:"schedule",value:function(e,t){if(De.isRunning()&&!this.resetting){var n=0===De.throttle?null!=e?e:0:De.throttle,r=o.d.now();this.delayRun(n,t,r)}}},{key:"timeSchedule",value:function(e,t){De.isRunning()&&!this.resetting&&this.delayRun(e,t,o.d.now())}},{key:"run",value:(r=ye(fe().mark((function e(t,n){var r;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(De.isRunning()&&!this.resetting){e.next=2;break}return e.abrupt("return");case 2:if(!this.runningFlag){e.next=5;break}return this.rerunId||(this.rerunId="rerun ".concat(n)),e.abrupt("return");case 5:if(this.rerunId="",this.runId=n,this.runningFlag=!0,this.runStartTime=o.d.now(),0!==this.phase){e.next=15;break}return Ue().captureEvents(),De.targetManager.applyTargetValues(Re()),e.next=14,Je().calculateAll();case 14:this.phase=1;case 15:if(!(o.d.now()-this.runStartTime>20)){e.next=19;break}return this.runningFlag=!1,this.requestNextSlice(n),e.abrupt("return");case 19:if(1===this.phase&&(this.runningStep=De.manager.analyze(),this.phase=2),!(o.d.now()-this.runStartTime>20)){e.next=24;break}return this.runningFlag=!1,this.requestNextSlice(n),e.abrupt("return");case 24:if(2===this.phase&&(Je().calculateActivated(),De.events.resetEventsOnTimeout(),this.phase=3),!(o.d.now()-this.runStartTime>20)){e.next=29;break}return this.runningFlag=!1,this.requestNextSlice(n),e.abrupt("return");case 29:3===this.phase&&(this.runningStep>=0&&(0===this.domProcessing?this.domOperations(this.runningStep):this.rerunId||(this.rerunId="domrun ".concat(n))),this.phase=4),1===De.debugLevel&&o.d.log(!0)("Request from: ".concat(n," delay: ").concat(t," runningStep:").concat(this.runningStep," dom:").concat(this.domProcessing," runs:").concat(this.nextRuns.length," D:").concat(null===(r=this.delayProcess)||void 0===r?void 0:r.delay," events:").concat(Ue().eventQueue.length)),this.runDuration=o.d.now()-this.runStartTime,0===this.domProcessing&&this.needsRerun();case 33:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"requestNextSlice",value:function(e){var t=this;this.sliceQueued||(this.sliceQueued=!0,requestAnimationFrame((function(){t.sliceQueued=!1,t.delayRun(0,"slice-".concat(e),o.d.now())})))}},{key:"needsRerun",value:function(){if(this.phase=0,this.runningFlag=!1,this.rerunId)this.requestNextSlice("rerun-".concat(this.rerunId));else if(void 0===(this.nextRuns.length>0?this.nextRuns[0].delay-(o.d.now()-this.nextRuns[0].insertTime):void 0)||Ye().lists.activeTModels.length>0||Ye().lists.updatingTModels.length>0||Je().activatedList.length>0)if(Ue().eventQueue.length>0)this.schedule(15,"events-".concat(Ue().eventQueue.length));else if(Je().activatedList.length>0)this.schedule(15,"getManager-locationManager-activatedList");else if(Ye().lists.updatingTModels.length>0)this.schedule(15,"getManager-needsRerun-updatingTModels");else if(Ye().lists.activeTModels.length>0){var e=Ye().lists.activeTModels.find((function(e){return 0===e.targetExecutionCount||e.activeTargetList.filter((function(t){return!e.isScheduledPending(t)})).some((function(t){return e.shouldScheduleRun(t)}))}));if(e){var t=!this.activeStartTime||o.d.now()-this.activeStartTime>15?1:15;this.activeStartTime=o.d.now(),this.schedule(t,"getManager-needsRerun-".concat(e.oid,"-").concat(e.activeTargetList))}}}},{key:"domOperations",value:function(t){var n=this;this.domProcessing=1,10===t?this.domFixStyles():Promise.all(e.domSteps.filter((function(e,n){return n>=t})).map((function(e){return Promise.resolve().then(e)}))).then((function(){Ye().lists.restyle.length?n.domFixStyles():(n.domProcessing=0,n.needsRerun())}))}},{key:"domFixStyles",value:function(){var e=this;this.domProcessing=2,requestAnimationFrame((function(){Ye().fixStyles(),e.domProcessing=0,e.needsRerun()}))}},{key:"setDelayProcess",value:function(e,t,n,r,i){var a=this;this.delayProcess={runId:e,insertTime:t,runTime:r,interval:n,timeoutId:setTimeout((function(){a.delayProcess.timeoutId=void 0,a.run(i,e),a.executeNextRun()}),Math.max(0,i))}}},{key:"executeNextRun",value:function(){for(var e=null,t=null;this.nextRuns.length>0;){var n=this.nextRuns.shift(),r=o.d.now();if(!(n.delay-(r-n.insertTime)<0)){e=null,t=n;break}e=n}if(e)this.setDelayProcess(e.runId,e.insertTime,e.delay,o.d.now(),0);else if(t){var i=o.d.now(),a=Math.max(1,t.delay-(i-t.insertTime));this.setDelayProcess(t.runId,t.insertTime,t.delay,i+a,a)}else this.delayProcess=void 0}},{key:"delayRun",value:function(e,t,n){var r=n+e;this.delayProcess?this.delayProcess.timeoutId&&r<this.delayProcess.runTime?(clearTimeout(this.delayProcess.timeoutId),this.insertRun(this.delayProcess.runId,this.delayProcess.insertTime,this.delayProcess.interval),this.setDelayProcess(t,n,e,r,e)):this.insertRun(t,n,e):this.setDelayProcess(t,n,e,r,e)}},{key:"insertRun",value:function(e,t,n){for(var r=0,i=this.nextRuns.length;r<i;){var a=Math.floor((r+i)/2),o=this.nextRuns[a].delay,l=this.nextRuns[a].insertTime+o-(t+n);if(l>0)i=a;else{if(!(l<0))return;r=a+1}}this.nextRuns.splice(r,0,{runId:e,insertTime:t,delay:n})}}],n&&ge(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r,i}();function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Se(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Me(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ce(r.key),r)}}function Ce(e){var t=function(e){if("object"!=ke(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ke(t)?t:t+""}me=we,Te=[function(){return Ye().createDoms()},function(){return Ye().reattachTModels()},function(){return Ye().relocateTModels()},function(){return Ye().renderTModels()},function(){return Ye().fixAsyncStyles()},function(){return Ye().deleteDoms()}],(be=pe(be="domSteps"))in me?Object.defineProperty(me,be,{value:Te,enumerable:!0,configurable:!0,writable:!0}):me[be]=Te;var De,xe=function(){return function(e,t){return t&&Ee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}),[{key:"applyTargetValues",value:function(e){var t,n=Se(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.activeTargetList.slice(0));try{for(n.s();!(t=n.n()).done;){var r=t.value;e.isTargetImperative(r)||this.applyTargetValue(e,r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"applyTargetValue",value:function(e,t){var n=e.targets[t];if(o.d.isDefined(n)){if(!e.isExecuted(t)||!e.hasUpdatingImperativeTargets(t)){if(e.isExecuted(t)&&e.getTargetStep(t)===e.getTargetSteps(t)){if(e.isScheduledPending(t))return;var r=m.g.scheduleExecution(e,t);if(r>0)return void Qe().timeSchedule(r,"targetSchedule__".concat(e.oid,"__").concat(t,"_").concat(r))}e.isTargetEnabled(t)?(e.resetScheduleTimeStamp(t),s.j.prepareTarget(e,t),s.j.executeDeclarativeTarget(e,t)):n.needsReactivation&&e.removeFromActiveTargets(t)}}else e.removeFromActiveTargets(t)}},{key:"setActualValues",value:function(e,t){if(t.length){var n,r=0,i=Se(t=t.slice(0));try{for(i.s();!(n=i.n()).done;){var a=n.value;m.g.isTargetAlreadyUpdating(e,a)?e.updateTargetStatus(a):(r=m.g.scheduleExecution(e,a))>0?Qe().schedule(r,"setActualValues-".concat(e.oid,"__").concat(a,"_").concat(r)):(e.resetScheduleTimeStamp(a),this.setActualValue(e,a))}}catch(e){i.e(e)}finally{i.f()}var o=e.waapiBatch;o&&e.hasDom()?(ze().animate(e,o,m.g.getAnimationHooks()),e.waapiBatch=void 0):e.waapiBatch=void 0}}},{key:"findOriginalTModel",value:function(e,t){return a.X.findParentByTarget(e,t)||et().find((function(e){return e.targets[t]}))}},{key:"fireOnStep",value:function(e,t,n){var r=e.targetValues[t],i=e.getTargetValue(t),a=e.getTargetSteps(t),l=e.targets[t];e.setLastUpdate(t),e.setTargetMethodName(t,"value");var s=r.originalTargetName,u=e.targets[s],c=e;e.setTargetMethodName(t,"value"),!u&&s&&(u=(c=this.findOriginalTModel(e,s))?c.targets[s]:null);var h=!1;if(e.isTargetImperative(t)){if(u){var d=m.g.getTargetName(o.d.capitalizeFirstLetter(t));"function"==typeof u["on".concat(d,"Step")]?(u["on".concat(d,"Step")].call(c,c.val(t),i,n,a),c.setTargetMethodName(s,["on".concat(d,"Step")]),h=!0):"function"==typeof u.onImperativeStep&&(u.onImperativeStep.call(c,t,c.val(t),i,n,a),c.setTargetMethodName(s,"onImperativeStep"),h=!0),u.activateNextTarget&&!u.activateNextTarget.endsWith("$$")&&u.activateNextTarget.endsWith("$")&&(h=!0,m.g.shouldActivateNextTarget(e,t))}}else h=m.g.handleValueChange(e,t),null!=l&&l.activateNextTarget&&!l.activateNextTarget.endsWith("$$")&&l.activateNextTarget.endsWith("$")&&(h=!0,m.g.shouldActivateNextTarget(e,t));return h}},{key:"fireOnEnd",value:function(e,t){var n=e.targetValues[t];if(n){var r=e.getTargetValue(t),i=e.getTargetSteps(t);e.setLastUpdate(t);var a=n.originalTargetName,l=e.targets[a],u=e;if(!l&&a&&(l=(u=this.findOriginalTModel(e,a))?u.targets[a]:null),e.isTargetImperative(t)){var c=m.g.getTargetName(o.d.capitalizeFirstLetter(t));l&&"function"==typeof l["on".concat(c,"End")]?(l["on".concat(c,"End")].call(u,u.val(t),r,i,i),u.setTargetMethodName(a,["on".concat(c,"End")])):l&&"function"==typeof l.onImperativeEnd&&(l.onImperativeEnd.call(u,t,u.val(t)),u.setTargetMethodName(a,"onImperativeEnd"))}else{var h;!n.valueList&&e.getTargetCycle(t)<e.getTargetCycles(t)&&(e.incrementTargetCycle(t,e.getTargetCycle(t)),e.resetTargetStep(t),e.resetTargetInitialValue(t),e.resetTargetExecutionFlag(t),s.j.executeDeclarativeTarget(e,t)),"function"==typeof(null===(h=e.targets[t])||void 0===h?void 0:h.onStepsEnd)&&(e.targets[t].onStepsEnd.call(e,e.getTargetCycle(t)),e.setTargetMethodName(t,"onStepsEnd"))}e.updateTargetStatus(t),m.g.shouldActivateNextTarget(e,t)}}},{key:"handleWebAnimationAPI",value:function(e,t,n,r,i,a,s,u){var c=e.waapiBatch||(e.waapiBatch={frames:[],easing:void 0,keyMap:{},totalDuration:0}),h=l.u.isTransformKey(t),d=function(e){for(var t=0;t<c.frames.length;t++){var n=c.frames[t];if(Math.abs(n.keyTime-e)<1e-4)return n}var r={keyTime:e,tfMap:{},styleMap:{},keyMeta:new Map};return c.frames.push(r),r},f=0;if(r.valueList&&r.valueList.length){var v=r.valueList,y=r.stepList||[1],g=r.intervalList||[8],p=r.step,m=d(0);h?(m.tfMap[t]=p>0&&o.d.isDefined(e.val(n))?e.val(n):v[0],e.val(n,m.tfMap[t])):(m.styleMap[t]=v[0],e.val(n,m.styleMap[t]));for(var b=1;b<v.length;b++){var T=y[(b-1)%y.length],w=g[(b-1)%g.length],k=d(f+=T*w);h?k.tfMap[t]=v[b]:k.styleMap[t]=v[b],k.keyMeta.set(t,{steps:T,interval:w})}r.cycle=v.length-1}else{f=s*(u=u||8);var S=d(0),M=d(f);h?(S.tfMap[t]=i,M.tfMap[t]=a):(S.styleMap[t]=i,M.styleMap[t]=a),e.val(n,i),M.keyMeta.set(t,{steps:s,interval:u})}e.getTargetEasing(n),c.totalDuration=Math.max(c.totalDuration,f),c.keyMap[t]=n,e.removeFromUpdatingTargets(n)}},{key:"setActualValue",value:function(e,t){var n=e.targetValues[t];if(n)if(e.isTargetImperative(t)||e.isTargetEnabled(t)){var r=e.getTargetValue(t),i=m.g.getTargetName(t),a=e.getTargetStep(t),l=e.getTargetSteps(t),s=e.getTargetCycle(t),u=e.getTargetInterval(t),c=e.getTargetInitialValue(t),h=e.getLastUpdate(t),d=o.d.now();if(o.d.isDefined(c)||(c=o.d.isDefined(e.val(t))?e.val(t):"number"==typeof r?0:void 0,e.setTargetInitialValue(t,c)),e.canBeAnimated(i))e.hasDom()&&this.handleWebAnimationAPI(e,i,t,n,c,r,l,u);else{if(a<=l){e.incrementTargetStep(t,d,h,u,l);var f=O.a.morph(e,t,c,r,a,l);if(e.val(t,f),e.setActual(t,f),e.addToStyleTargetList(t),this.fireOnStep(e,t,a),e.updateTargetStatus(t),e.getTargetStep(t)<l)return void Qe().scheduleOnlyIfEarlier(u,"".concat(e.oid,"---").concat(t,"-").concat(a,"/").concat(l,"-").concat(s,"-").concat(u))}e.val(t,r),e.setActual(t,r),e.addToStyleTargetList(t),n.step=l,e.setLastUpdate(t),a=l;var v=1;n.valueList&&s<n.valueList.length-1?(e.incrementTargetCycle(t,e.getTargetCycle(t)),s=e.getTargetCycle(t),e.resetTargetStep(t),n.initialValue=n.value,n.value=n.valueList[s],n.steps=n.stepList[(s-1)%n.stepList.length],n.interval=Array.isArray(n.intervalList)?n.intervalList[(s-1)%n.intervalList.length]:0,n.easing=n.easingList[(s-1)%n.easingList.length],v=u):this.fireOnEnd(e,t),Qe().scheduleOnlyIfEarlier(v,"".concat(e.oid,"---").concat(t,"-").concat(a,"/").concat(l,"-").concat(s,"-").concat(v))}}else Qe().schedule(15,"setActualValue-postpone-".concat(e.oid,"__").concat(t))}}])}(),Le=n(580);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||Ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ae(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function Ae(e,t){if(e){if("string"==typeof e)return je(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ie(){Ie=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),l=new O(r||[]);return i(o,"_invoke",{value:C(e,n,l)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",f="suspendedYield",v="executing",y="completed",g={};function p(){}function m(){}function b(){}var T={};u(T,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(_([])));k&&k!==n&&r.call(k,o)&&(T=k);var S=b.prototype=p.prototype=Object.create(T);function M(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,l){var s=h(e[i],e,a);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==Oe(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function C(t,n,r){var i=d;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===y){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var s=D(l,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=h(t,n,r);if("normal"===u.type){if(i=r.done?y:f,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=y,r.method="throw",r.arg=u.arg)}}}function D(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,D(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Oe(t)+" is not iterable")}return m.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},M(E.prototype),u(E.prototype,l,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},M(S),u(S,s,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:_(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Ve(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function Ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ve(a,r,i,o,l,"next",e)}function l(e){Ve(a,r,i,o,l,"throw",e)}o(void 0)}))}}var He=null,Fe=function(e){var t;if(null!==(t=De)&&void 0!==t&&t.tRoot){if(e){var n;null===(n=De)||void 0===n||n.tRoot.addChild(e)}}else He=e};Fe.oids={},Fe.tmodelIdMap={},Fe.getOid=function(e){var t=Fe.oids;o.d.isDefined(t[e])||(t[e]=0);var n=t[e]++;return{oid:n>0||e.endsWith("_")?"".concat(e).concat(n):e,num:n}};var Be=function(){return!!De&&De.runningFlag},Re=function(){var e;return null===(e=De)||void 0===e?void 0:e.tRoot},Ue=function(){var e;return null===(e=De)||void 0===e?void 0:e.events},We=function(){var e;return null===(e=De)||void 0===e?void 0:e.pager},$e=function(){var e;return null===(e=De)||void 0===e?void 0:e.loader},qe=function(e,t,n,r){var i;return null===(i=De)||void 0===i||null===(i=i.loader)||void 0===i?void 0:i.fetch(e,t,n,r)},Xe=function(e,t,n){var r;return null===(r=De)||void 0===r||null===(r=r.loader)||void 0===r?void 0:r.fetchImage(e,t,n)},Ye=function(){var e;return null===(e=De)||void 0===e?void 0:e.manager},Ke=function(){var e;return null===(e=De)||void 0===e?void 0:e.targetManager},ze=function(){var e;return null===(e=De)||void 0===e?void 0:e.animationManager},Qe=function(){var e;return null===(e=De)||void 0===e?void 0:e.runScheduler},Je=function(){var e;return null===(e=De)||void 0===e?void 0:e.locationManager},Ge=function(){var e,t;return null!==(e=null===(t=De)||void 0===t||null===(t=t.tRoot)||void 0===t?void 0:t.val("screenWidth"))&&void 0!==e?e:0},Ze=function(){var e,t;return null!==(e=null===(t=De)||void 0===t||null===(t=t.tRoot)||void 0===t?void 0:t.val("screenHeight"))&&void 0!==e?e:0},et=function(){var e;return null===(e=De)||void 0===e||null===(e=e.manager)||void 0===e?void 0:e.getVisibles()},tt=function(){var e;return null===(e=De)||void 0===e?void 0:e.resizeLastUpdate},nt=function(e){return Fe.tmodelIdMap[e]},rt=function(e){var t=Fe.tmodelIdMap[e];return t&&t.targets.sourceDom?t:void 0};window.t=window.t||nt;var it=function(){var e;e={throttle:0,debugLevel:0,runningFlag:!1,resizeLastUpdate:0,init:function(){return e.$window=new r.J(window),e.loader=new x,e.pager=new ee,e.events=new p,e.locationManager=new $,e.targetManager=new xe,e.animationManager=new Le._,e.manager=new he,e.runScheduler=new we,e.tRootFactory=function(){var t=new i.c("tRoot",{styling:!1,domHolder:!0,isVisible:!0,screenWidth:function(){var n=r.J.getScreenWidth();return n!==t.val("screenWidth")&&(e.resizeLastUpdate=o.d.now()),n},screenHeight:function(){var n=r.J.getScreenHeight();return n!==t.val("screenHeight")&&(e.resizeLastUpdate=o.d.now()),n},initPageDom:function(){q.v.initPageDoms(this.$dom),He&&(this.addChild(He),He=void 0)}});return t.$dom=r.J.query("#tgjs-root")?new r.J("#tgjs-root"):new r.J("body"),t.val("screenWidth",r.J.getScreenWidth()),t.val("screenHeight",r.J.getScreenHeight()),e.tRoot&&e.tRoot.getChildren().forEach((function(e){if(!e.val("sourceDom")){var n=new i.c(e.type,e.targets);t.addChild(n)}})),t},e.tRoot=e.tRootFactory(),window.history.pushState({link:document.URL},"",document.URL),e}},e.start=Ne(Ie().mark((function t(){return Ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.runningFlag=!1,s.j.executeDeclarativeTarget(e.tRoot,"screenWidth"),s.j.executeDeclarativeTarget(e.tRoot,"screenHeight"),e.events.detachAll(),e.events.detachWindowEvents(),e.events.attachWindowEvents(),e.events.clearAll(),e.events.attachEvents(e.manager.getVisibles()),t.next=10,e.runScheduler.resetRuns();case 10:return e.runningFlag=!0,e.runScheduler.schedule(0,"appStart"),t.abrupt("return",e);case 13:case"end":return t.stop()}}),t)}))),e.stop=Ne(Ie().mark((function t(){return Ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.runningFlag=!1,e.events.detachAll(),e.events.detachWindowEvents(),e.events.clearAll(),t.next=6,e.animationManager.cancelAll();case 6:return t.next=8,e.animationManager.flushOneFrame();case 8:return t.next=10,e.runScheduler.resetRuns();case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}}),t)}))),e.reset=Ne(Ie().mark((function t(){return Ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.manager.getVisibles().forEach((function(e){var t;if(e.tfMap={},e.styleMap={},null!==(t=e.allStyleTargetMap)&&void 0!==t&&t.size){var n,r=Pe(e.allStyleTargetMap);try{for(r.s();!(n=r.n()).done;){var i=_e(n.value,1)[0];o.d.isDefined(e.val(i))&&e.addToStyleTargetList(i)}}catch(e){r.e(e)}finally{r.f()}}})),t.next=3,e.runScheduler.resetRuns();case 3:e.manager.clearAll(),e.locationManager.clear(),a.X.clear();case 6:case"end":return t.stop()}}),t)}))),e.isRunning=function(){return e.runningFlag},e.find=function(e){return a.X.find(e)},(De=e).init().start()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",it):it()},901:function(e,t,n){n.d(t,{d:function(){return d}});var r=n(528),i=n(675);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}function s(e,t,n){return t=c(t),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n))}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var d=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,t,["BI"])).parent=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),n=t,(r=[{key:"canHaveDom",value:function(){return!1}},{key:"shouldBeBracketed",value:function(){return!1}},{key:"excludeDefaultStyling",value:function(){return!0}},{key:"isIncluded",value:function(){return!1}},{key:"getWidth",value:function(){return this.getContentWidth()}},{key:"getHeight",value:function(){return this.getContentHeight()}},{key:"getMinWidth",value:function(){return this.bottomBaseWidth}},{key:"getBaseWidth",value:function(){return this.bottomBaseWidth}},{key:"getBaseHeight",value:function(){return this.topBaseHeight}},{key:"useContentWidth",value:function(){return this.getRealParent().useContentWidth()}},{key:"useContentHeight",value:function(){return this.getRealParent().useContentHeight()}},{key:"getContainerOverflowMode",value:function(){return this.getRealParent().getContainerOverflowMode()}},{key:"getTopBaseHeight",value:function(){return this.topBaseHeight}},{key:"isVisible",value:function(){return!!this.visibilityStatus&&this.visibilityStatus.top&&this.visibilityStatus.bottom}},{key:"getBracketThreshold",value:function(){return this.getRealParent().getBracketSize()}},{key:"addToParentVisibleChildren",value:function(){}},{key:"createViewport",value:function(){return this.viewport=this.viewport||new i.L,this.viewport.xNext=this.x,this.viewport.xNorth=this.x,this.viewport.xEast=this.x,this.viewport.xSouth=this.x,this.viewport.xWest=this.x,this.viewport.absX=this.getRealParent().viewport.absX,this.viewport.absY=this.getRealParent().viewport.absY,this.viewport.scrollTop=this.getRealParent().viewport.scrollTop,this.viewport.scrollLeft=this.getRealParent().viewport.scrollLeft,this.viewport.xOverflowReset=this.getRealParent().viewport.xOverflowReset,this.viewport.xOverflowLimit=this.getRealParent().viewport.xOverflowLimit,this.viewport.yNext=this.y,this.viewport.yNorth=this.y,this.viewport.yWest=this.y,this.viewport.yEast=this.y,this.viewport.ySouth=this.y,this.viewport.container=this,this.viewport}},{key:"getRealParent",value:function(){return this.realParent}},{key:"getRightMargin",value:function(){return 0}},{key:"getBottomMargin",value:function(){return 0}},{key:"calcAbsolutePosition",value:function(e,t){this.absX=e+this.getRealParent().absX,this.absY=t+this.getRealParent().absY}},{key:"shouldCalculateChildren",value:function(){var e=this.isVisible()&&!1!==this.getDirtyLayout()||"new"===this.currentStatus||this.isNowVisible;return this.currentStatus=void 0,e}},{key:"getDirtyLayout",value:function(){return this.getRealParent().managesOwnScroll?this.getRealParent().backupDirtyLayout:this.dirtyLayout}},{key:"validateVisibilityInParent",value:function(){return!0}},{key:"adjustViewport",value:function(){this.viewport.xEast=Math.max(this.viewport.xEast,this.getRealParent().viewport.xEast),this.viewport.ySouth=Math.max(this.viewport.ySouth,this.getRealParent().viewport.ySouth)}},{key:"getChildren",value:function(){return this.allChildrenList}}])&&o(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r.c)},780:function(e,t,n){n.d(t,{M:function(){return d}});var r=n(901),i=n(142);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function c(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"generate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!e.bracketMap[t.oid]||e.pageMap[t.oid]!==t.allChildrenList||n?(e.bracketMap[t.oid]=e.buildTreeBottomUp(t,t.getChildren()),e.pageMap[t.oid]=t.allChildrenList):(t.lastChildrenUpdate.deletions.length>0&&(e.updateTreeOnDeletions(t,t.lastChildrenUpdate.deletions),e.reindexTree(t)),t.lastChildrenUpdate.additions.length>0&&e.updateTreeOnAdditions(t,t.lastChildrenUpdate.additions),(t.lastChildrenUpdate.deletions.length>0||t.lastChildrenUpdate.additions.length>0)&&e.reindexTree(t)),t.lastChildrenUpdate.additions.length=0,t.lastChildrenUpdate.deletions.length=0,e.bracketMap[t.oid]}},{key:"updateTreeOnDeletions",value:function(t,n){function i(n,a){if(n)if(a instanceof r.d&&a.parent===a.realParent){var o=e.bracketMap[t.oid],l=o.indexOf(a);l>=0&&o.splice(l,1)}else{var s=n.allChildrenList.indexOf(a);s>=0&&(n.allChildrenList.splice(s,1),0===n.allChildrenList.length&&i(n.parent,n))}}n.forEach((function(e){return i(e.bracket,e)}))}},{key:"reindexTree",value:function(t){function n(e,t){if(0===e.allChildrenList.length)return t;if(e.allChildrenList[0]instanceof r.d){e.startIndex=t;var i,a=o(e.allChildrenList);try{for(a.s();!(i=a.n()).done;)t=n(i.value,t)}catch(e){a.e(e)}finally{a.f()}e.endIndex=t}else e.startIndex=t,t+=e.allChildrenList.length,e.endIndex=t;return t}var i,a=0,l=o(e.bracketMap[t.oid]);try{for(l.s();!(i=l.n()).done;)a=n(i.value,a)}catch(e){l.e(e)}finally{l.f()}}},{key:"updateTreeOnAdditions",value:function(t,n){var i=t.getBracketSize();n.forEach((function(n){var a=n.index,o=n.child,l=e.findOrCreateBracket(t,a),s=a-l.startIndex;s<l.allChildrenList.length?l.allChildrenList.splice(s,0,o):l.allChildrenList.push(o),o.bracket=l;var u=l;for(u.startIndex=Math.min(u.startIndex,a),u.endIndex=u.startIndex+u.allChildrenList.length,u.currentStatus="new",u=l.getParent();u instanceof r.d;)u.startIndex=Math.min(u.startIndex,a),u.endIndex=Math.max(u.endIndex,a+1),u.currentStatus="new",u=u.getParent();l.allChildrenList.length>i&&e.splitBracket(t,l)}))}},{key:"splitBracket",value:function(t,n){for(var r=n.allChildrenList,i=t.getBracketSize(),a=[],o=n.startIndex,u=0;u<r.length;u+=i){var c=r.slice(u,u+i),h=o+c.length,d=e.createBracket(t,o,h,c);d.parent=n.parent,o=d.endIndex,a.push(d)}if(n.parent!==n.realParent){var f,v=n.parent.allChildrenList.indexOf(n);if(v>=0&&(f=n.parent.allChildrenList).splice.apply(f,[v,1].concat(a)),n.parent.allChildrenList.length>=i){var y=e.buildTreeBottomUp(t,n.parent.allChildrenList);if(n.parent.allChildrenList=y,n.parent.allChildrenList.forEach((function(e){e.parent=n.parent})),n.parent.parent){var g,p=n.parent.parent.allChildrenList.indexOf(n.parent);p>=0&&((g=n.parent.parent.allChildrenList).splice.apply(g,[p,1].concat(function(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(y))),n.parent.parent.allChildrenList.forEach((function(e){e.parent=n.parent.parent})))}}}else{var m=e.bracketMap[t.oid],b=m.indexOf(n);b>=0&&m.splice.apply(m,[b,1].concat(a)),m.length>t.getBracketSize()&&(e.bracketMap[t.oid]=e.buildTreeBottomUp(t,m))}}},{key:"findOrCreateBracket",value:function(t,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.bracketMap[t.oid],l=o(a);try{for(l.s();!(i=l.n()).done;){var s=i.value;if(s.startIndex<=n&&s.endIndex>=n)return s.getFirstChild()instanceof r.d?e.findOrCreateBracket(t,n,s.allChildrenList):s}}catch(e){l.e(e)}finally{l.f()}var u=e.createBracket(t,n,n);if(a.push(u),a.length>t.getBracketSize()){var c=e.buildTreeBottomUp(t,a);e.bracketMap[t.oid].brackets=c}return u}},{key:"buildTreeBottomUp",value:function(t,n){for(var i=n.length,a=t.getBracketSize(),o=[],l=0;l<i;l+=a){var s=n.slice(l,l+a),u=s[0]instanceof r.d,c=u?s[0].startIndex:l,h=u?s[s.length-1].endIndex:l+s.length,d=e.createBracket(t,c,h,s);o.push(d)}return o.length>a?e.buildTreeBottomUp(t,o):o}},{key:"createBracket",value:function(t,n,a,o){var l=new r.d(t);return i.qw.tmodelIdMap[l.oid]=l,l.realParent=t,l.allChildrenList=o||l.allChildrenList,l.startIndex=n,l.endIndex=a,l.allChildrenList.forEach((function(e){e instanceof r.d?(e.realParent=t,e.parent=l):e.bracket=l})),e.all[l.oid]=l,l}},{key:"reset",value:function(){e.bracketMap={},e.pageMap={},e.all={}}}],null&&u(t.prototype,null),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();c(d,"bracketMap",{}),c(d,"pageMap",{}),c(d,"all",{})},210:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}n.d(t,{I:function(){return u}});var o,l,s,u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"color2Integers",value:function(t){if(t=t?String(t):"",t=e.colors[t.toLowerCase()]||t){if(t.startsWith("#")){t=3===(t=t.slice(1)).length?t.split("").map((function(e){return e+e})).join(""):t;var n=parseInt(t,16);return[n>>16&255,n>>8&255,255&n]}var r=t.match(/\d+/g);return r&&3===r.length?r.map(Number):void 0}}}],null&&i(t.prototype,null),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();o=u,s={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},(l=a(l="colors"))in o?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s},728:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{v:function(){return DomInit}});var _$Dom_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(185),_TUtil_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(129),_App_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(142),_TargetData_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(432);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var DomInit=function(){function DomInit(){_classCallCheck(this,DomInit)}return _createClass(DomInit,null,[{key:"initCacheDoms",value:function(e){var t=(0,_App_js__WEBPACK_IMPORTED_MODULE_2__.Bt)().$dom.queryAll("[tgjs]");e.forEach((function(e){e.$dom=null}));var n,r=_TUtil_js__WEBPACK_IMPORTED_MODULE_1__.d.list2map(e.filter((function(e){return"BI"!==e.type}))),i=[],a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,l=o.getAttribute("id"),s=r[l];s?s.$dom=new _$Dom_js__WEBPACK_IMPORTED_MODULE_0__.J("#".concat(l)):(s=(0,_App_js__WEBPACK_IMPORTED_MODULE_2__.iP)(l))?(i.push(s),s.$dom=new _$Dom_js__WEBPACK_IMPORTED_MODULE_0__.J("#".concat(l))):_$Dom_js__WEBPACK_IMPORTED_MODULE_0__.J.detach(o)}}catch(e){a.e(e)}finally{a.f()}return i}},{key:"initPageDoms",value:function(e){var t,n=new Map,r=_createForOfIteratorHelper(e.queryAll("*"));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=void 0,o=Array.from(i.attributes),l=o.some((function(e){return"tg"===e.name||e.name.startsWith("tg-")})),s={};if(l){var u,c=_createForOfIteratorHelper(o);try{for(c.s();!(u=c.n()).done;){var h=u.value;if(h.name.startsWith("tg-")){var d=h.name.slice(3),f=_TargetData_js__WEBPACK_IMPORTED_MODULE_3__.u.toCanonicalKey(d),v=h.value.trim(),y=DomInit.parseString(v);s[f]=y}else"tg"===h.name&&(s[h.name]=!0)}}catch(e){c.e(e)}finally{c.f()}}var g=i.parentElement,p=n.get(g),m=void 0;if(Object.keys(s).length>0&&((m=i.getAttribute("id"))||p||(m=_App_js__WEBPACK_IMPORTED_MODULE_2__.qw.getOid("blank").oid,i.setAttribute("id",m)),i.getAttribute("tgjs")||i.setAttribute("tgjs",!0),a=_objectSpread({id:m,baseElement:i.tagName.toLowerCase(),$dom:new _$Dom_js__WEBPACK_IMPORTED_MODULE_0__.J(i)},s)),p){a||(a={textOnly:!1,html:i.outerHTML,$dom:new _$Dom_js__WEBPACK_IMPORTED_MODULE_0__.J(i)});var b=DomInit.getChildrenKey(p);b?Array.isArray(p[b].value)?p[b].value.push(a):"string"==typeof p[b]?p[b]={cycles:_TUtil_js__WEBPACK_IMPORTED_MODULE_1__.d.isNumber(+p[b])?+p[b]:0,value:[a]}:"object"===_typeof(p[b])&&(p[b].value=[a]):p.children$={cycles:0,value:[a]},n.set(i,a)}else a&&n.set(i,a)}}catch(e){r.e(e)}finally{r.f()}var T,w=[],k=_createForOfIteratorHelper(n.values());try{for(k.s();!(T=k.n()).done;){var S=T.value,M=S.$dom.element.parentElement,E=n.get(M);E?(S.$dom.detach(),delete S.$dom,delete S.id,S.sourceDom=!0,S.otype=S.id||(E.id||_App_js__WEBPACK_IMPORTED_MODULE_2__.qw.getOid("blank").oid)+"_",S.isVisible=_TUtil_js__WEBPACK_IMPORTED_MODULE_1__.d.isDefined(S.isVisible)?S.isVisible:function(){return this.getParent().isVisible()},S.domParent=_TUtil_js__WEBPACK_IMPORTED_MODULE_1__.d.isDefined(S.domParent)?S.domParent:function(){return this.getParent()}):(S.isVisible=!_TUtil_js__WEBPACK_IMPORTED_MODULE_1__.d.isDefined(S.isVisible)||S.isVisible,S.domHolder=!_TUtil_js__WEBPACK_IMPORTED_MODULE_1__.d.isDefined(S.domHolder)||S.domHolder,S.sourceDom=!0,(0,_App_js__WEBPACK_IMPORTED_MODULE_2__.Bt)().addChild(S),S.isVisible||w.push({$dom:S.$dom,tmodel:(0,_App_js__WEBPACK_IMPORTED_MODULE_2__.Bt)().getLastChild()}))}}catch(e){k.e(e)}finally{k.f()}w.forEach((function(e){var t=e.$dom,n=e.tmodel;t.exists()&&!n.hasChildren()&&(t.detach(),n.val("requiresDom",!1))}))}},{key:"getChildrenKey",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if(r.toLowerCase().includes("children"))return r}return null}},{key:"parseString",value:function parseString(rawValue){if("string"!=typeof rawValue)return rawValue;var trimmed=rawValue.trim(),isFunction=/^function\s*\([\s\S]*?\)\s*\{[\s\S]*\}$/m.test(trimmed)||/^\(?[\w\s,]*\)?\s*=>\s*(\{[\s\S]*\}|\S+)/m.test(trimmed),isObject=/^(\{[\s\S]*\}|\[[\s\S]*\])$/.test(trimmed),containsCode=["return","setTarget","TargetJS.","addChild","addSibling","activateTarget","removeChild","removeAll"].some((function(e){return trimmed.includes(e)}));if(!isObject&&!isFunction&&containsCode)try{return new Function(trimmed)}catch(e){}if(isObject||isFunction)try{return eval("(".concat(trimmed,")"))}catch(e){}try{return JSON.parse(trimmed)}catch(e){}return rawValue}}])}()},736:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}n.d(t,{G:function(){return o}});var o=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"linear",value:function(e){return e}},{key:"inQuad",value:function(e){return e*e}},{key:"outQuad",value:function(e){return e*(2-e)}},{key:"outExpo",value:function(e){return 1-(1-e)*(1-e)}},{key:"circular",value:function(e){return Math.sqrt(1- --e*e)}},{key:"inOutQuad",value:function(e){return e<.5?2*e*e:(4-2*e)*e-1}},{key:"inOut",value:function(e){return e<.5?2*e*e:(4-2*e)*e-1}},{key:"outElastic",value:function(e){var t=2*Math.PI/3;return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1}}],null&&i(e.prototype,null),t&&i(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()},745:function(e,t,n){n.d(t,{X:function(){return h}});var r=n(129),i=n(142);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"clear",value:function(){e.foundParentWithType={},e.foundParentWithTarget={},e.foundTypeMap={},e.foundTargetMap={},e.foundOids={},e.foundHandler={}}},{key:"findFirstScrollHandler",value:function(t,n,r){if(t){var i="".concat(t.oid," ").concat(n," ").concat(r);if(e.foundHandler[i])return e.foundHandler[i];var a=this.findScrollHandler(t,r,n);return a&&(e.foundHandler[i]=a),a}}},{key:"findFirstHandler",value:function(t,n){if(t){var r="".concat(t.oid," ").concat(n);if(e.foundHandler[r])return e.foundHandler[r];var i=this.findEventHandler(t,n);return i&&(e.foundHandler[r]=i),i}}},{key:"findFirstScrollTopHandler",value:function(e,t){return this.findFirstScrollHandler(e,"onScrollTop",t)}},{key:"findFirstScrollLeftHandler",value:function(e,t){return this.findFirstScrollHandler(e,"onScrollLeft",t)}},{key:"findFirstPinchHandler",value:function(e){return this.findFirstHandler(e,"onPinch")}},{key:"findFirstSwipeHandler",value:function(e){return this.findFirstHandler(e,"onSwipe")}},{key:"findFirstEnterHandler",value:function(e){return this.findFirstHandler(e,"onEnter")}},{key:"findFirstLeaveHandler",value:function(e){return this.findFirstHandler(e,"onLeave")}},{key:"findFirstClickHandler",value:function(e){return this.findFirstHandler(e,"onClick")||this.findFirstHandler(e,"onAnyClick")}},{key:"findScrollHandler",value:function(e,t,n){for(;e&&(!e.canHandleEvent("onSwipe")||"wheel"===t);){if(e.canHandleEvent(n)||e.canHandleEvent("onScroll"))return e;e=e.getParent()}}},{key:"findEventHandler",value:function(e,t){for(;e;){if(e.canHandleEvent(t))return e;e=e.getParent()}}},{key:"findParentByType",value:function(t,n){var i="".concat(t.oid,"__").concat(n);if(!r.d.isDefined(e.foundParentWithType[i]))for(var a=t.getParent();a;){if(a.type===n){e.foundParentWithType[i]=a;break}a=a.getParent()}return e.foundParentWithType[i]}},{key:"findParentByTarget",value:function(t,n,i){var a="".concat(t.oid,"__").concat(n);if(!r.d.isDefined(e.foundParentWithTarget[a]))for(var o=t.getParent();o;){if(r.d.isDefined(o.targets[n])||r.d.isDefined(o.targetValues[n])){if(!r.d.isDefined(i)){e.foundParentWithTarget[a]=o;break}if(o.getTargetValue(n)===i){e.foundParentWithTarget[a]=o;break}}o=o.getParent()}return e.foundParentWithTarget[a]}},{key:"findByType",value:function(t){if(!r.d.isDefined(e.foundTypeMap[t])){var n=function(e){if(e.type===t)return e;var r,i=o(e.getChildren());try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a&&a.hasChildren()){var l=n(a);if(l)return l}else if(a&&a.type===t)return a}}catch(e){i.e(e)}finally{i.f()}},a=n((0,i.Bt)());a&&(e.foundTypeMap[t]=a)}return e.foundTypeMap[t]}},{key:"findByTarget",value:function(t){if(!r.d.isDefined(e.foundTargetMap[t])){var n=function(e){if(e.targets[t])return e;var r,i=o(e.getChildren());try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a&&a.hasChildren()){var l=n(a);if(l)return l}else if(a&&a.targets[t])return a}}catch(e){i.e(e)}finally{i.f()}},a=n((0,i.Bt)());a&&(e.foundTargetMap[t]=a)}return e.foundTargetMap[t]}},{key:"find",value:function(t){if(!r.d.isDefined(e.foundOids[t])){var n=function(e){if(e.oid===t)return e;var r,i=o(e.getChildren());try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a&&a.hasChildren()){var l=n(a);if(l)return l}else if(a&&a.oid===t)return a}}catch(e){i.e(e)}finally{i.f()}},a=n((0,i.Bt)());a&&(e.foundOids[t]=a)}return e.foundOids[t]}}],null&&s(t.prototype,null),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();u(h,"foundParentWithType",{}),u(h,"foundParentWithTarget",{}),u(h,"foundTypeMap",{}),u(h,"foundTargetMap",{}),u(h,"foundOids",{}),u(h,"foundHandler",{})},528:function(e,t,n){n.d(t,{c:function(){return _}});var r=n(142),i=n(985),a=n(129),o=n(347),l=n(956),s=n(432),u=n(185);function c(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function p(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}var m=function(){return e=function e(t,n,i){var o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"object"===y(t)&&void 0===n&&(n=t,t=""),this.targets=Object.assign({},n),i=i||this.targets.id,a.d.isDefined(i))r.qw.getOid(i),this.type=i,this.oid=i,this.oidNum=0;else{this.type=this.targets.otype||t||"blank";var l=r.qw.getOid(this.type);this.oid=l.oid,this.oidNum=l.num}null!==(o=n)&&void 0!==o&&o.sourceDom||!a.d.isDefined(i)||(this.originalId=i),this._state={}},t=[{key:"state",value:function(){return this._state}},{key:"targetValues",get:function(){var e,t;return null!==(t=(e=this.state()).targetValues)&&void 0!==t?t:e.targetValues={}},set:function(e){this.state().targetValues=e}},{key:"actualValues",get:function(){var e,t;return null!==(t=(e=this.state()).actualValues)&&void 0!==t?t:e.actualValues={}},set:function(e){this.state().actualValues=e}},{key:"lastActualValues",get:function(){var e,t;return null!==(t=(e=this.state()).lastActualValues)&&void 0!==t?t:e.lastActualValues={}}},{key:"activeTargetList",get:function(){var e,t;return null!==(t=(e=this.state()).activeTargetList)&&void 0!==t?t:e.activeTargetList=[]},set:function(e){this.state().activeTargetList=e}},{key:"activeTargetMap",get:function(){var e,t;return null!==(t=(e=this.state()).activeTargetMap)&&void 0!==t?t:e.activeTargetMap={}},set:function(e){this.state().activeTargetMap=e}},{key:"updatingTargetList",get:function(){var e,t;return null!==(t=(e=this.state()).updatingTargetList)&&void 0!==t?t:e.updatingTargetList=[]},set:function(e){this.state().updatingTargetList=e}},{key:"updatingTargetMap",get:function(){var e,t;return null!==(t=(e=this.state()).updatingTargetMap)&&void 0!==t?t:e.updatingTargetMap={}},set:function(e){this.state().updatingTargetMap=e}},{key:"fetchActionTargetList",get:function(){var e,t;return null!==(t=(e=this.state()).fetchActionTargetList)&&void 0!==t?t:e.fetchActionTargetList=[]}},{key:"activatedTargets",get:function(){var e,t;return null!==(t=(e=this.state()).activatedTargets)&&void 0!==t?t:e.activatedTargets=[]}},{key:"targetMethodMap",get:function(){var e,t;return null!==(t=(e=this.state()).targetMethodMap)&&void 0!==t?t:e.targetMethodMap={}}},{key:"targetExecutionCount",get:function(){var e,t;return null!==(t=(e=this.state()).targetExecutionCount)&&void 0!==t?t:e.targetExecutionCount=0},set:function(e){this.state().targetExecutionCount=e}},{key:"addedChildren",get:function(){var e,t;return null!==(t=(e=this.state()).addedChildren)&&void 0!==t?t:e.addedChildren=[]}},{key:"deletedChildren",get:function(){var e,t;return null!==(t=(e=this.state()).deletedChildren)&&void 0!==t?t:e.deletedChildren=[]}},{key:"movedChildren",get:function(){var e,t;return null!==(t=(e=this.state()).movedChildren)&&void 0!==t?t:e.movedChildren=[]}},{key:"lastChildrenUpdate",get:function(){var e,t;return null!==(t=(e=this.state()).lastChildrenUpdate)&&void 0!==t?t:e.lastChildrenUpdate={additions:[],deletions:[]}}},{key:"visibleChildren",get:function(){var e,t;return null!==(t=(e=this.state()).visibleChildren)&&void 0!==t?t:e.visibleChildren=[]}},{key:"getParent",value:function(){return this.parent}},{key:"initTargets",value:function(){var e=this;if(this.originalTargetNames=Object.keys(this.targets).filter((function(e){return!s.u.excludedTargetKeys.has(e)})),this.functionTargetNames=[],this.allTargetMap={},a.d.isDefined(this.originalId)&&(0,r.UR)(this.originalId))return a.d.mergeTargets((0,r.UR)(this.originalId),this),void(this.toDiscard=!0);this.actualValues=s.u.defaultActualValues(),this.targetValues={},this.activeTargetMap={},this.activeTargetList=[],this.originalTargetNames=Object.keys(this.targets).filter((function(e){return!s.u.excludedTargetKeys.has(e)})).map((function(e){return e.startsWith("_")?e.slice(1):e}));var t=u.J.query("#".concat(this.oid))||this.originalTargetNames.indexOf("$dom")>=0;t||this.excludeDefaultStyling()?t&&(this.targets.domIsland=!0,a.d.isDefined(this.targets.reuseDomDefinition)||(this.targets.reuseDomDefinition=!0,this.targets.domHolder=!0,a.d.isDefined(this.targets.excludeXYCalc)||(this.targets.excludeXYCalc=!0),a.d.isDefined(this.targets.x)||(this.targets.excludeX=!0),a.d.isDefined(this.targets.y)||(this.targets.excludeY=!0),a.d.isDefined(this.targets.position)||(this.targets.position="relative"))):(Object.entries(s.u.defaultTargetStyles).forEach((function(t){var n=d(t,2),r=n[0],i=n[1];r in e.targets||(e.targets[r]=i)})),!1===this.targets.canHaveDom||a.d.isDefined(this.targets.domHolder)||(this.targets.domHolder=!0)),Object.keys(this.targets).filter((function(e){return!s.u.excludedTargetKeys.has(e)})).forEach((function(t,n){e.processNewTarget(t,n)}))}},{key:"processNewTarget",value:function(e,t){var n=l.g.getTargetName(e),r=this.targets[e]||this.targets[n];if(a.d.isDefined(r)){var i=y(r),u=e.startsWith("_")||e.endsWith("$"),c=s.u.mustExecuteTargets[n]||u||"string"!==i&&"number"!==i&&"boolean"!==i,h=!!s.u.allEventMap[n],d=!!s.u.internalEventMap[n];if(("object"!==i||Array.isArray(r))&&c&&(r=l.g.wrapTarget(this,r,e)),a.d.isDefined(t)){var f=t>0?this.originalTargetNames[t-1]:void 0,v=t<this.originalTargetNames.length-1?this.originalTargetNames[t+1]:void 0;(v&&v.endsWith("$")||u||h||d||"object"===i||"function"===i)&&(a.d.isDefined(r.value)||o.D.isChildObjectTarget(e,r)||o.D.isIntervalTarget(r)||(c=!0,r=l.g.wrapTarget(this,r,e)),l.g.bindTarget(this,e,f,v,t))}if(e.startsWith("_")){var g=e.slice(1);this.targets[e]&&(this.targets[g]=this.targets[e]),delete this.targets[e],e=g,r=this.targets[g]}if(h&&(this.externalEventMap||(this.externalEventMap=new Map),this.externalEventMap.set(n,!0),r.active=!1),d&&(this.internalEventMap||(this.internalEventMap=new Map),this.internalEventMap.set(n,!0),r.active=!1),this.allTargetMap[n]=e,u&&(this.targets[e].active=!1),!s.u.bypassInitialProcessingTargetMap[n]){if(a.d.isDefined(r.initialValue)&&this.val(e,r.initialValue),(!1!==r.active||a.d.isDefined(r.initialValue))&&this.addToStyleTargetList(e),s.u.coreTargetMap[e]&&(this.coreTargetMap||(this.coreTargetMap=new Map),this.coreTargetMap.has(e)||this.coreTargetMap.set(e,!0)),o.D.isIntervalTarget(r))r.cycles=1,r.isInterval=!0;else if(!c){var p;return void this.val(n,a.d.isDefined(null===(p=r)||void 0===p?void 0:p.value)?r.value:r)}!1!==r.active&&this.canTargetBeActivated(e)&&this.addToActiveTargets(e),this.functionTargetNames.push(e)}}else this.delVal(e)}},{key:"activate",value:function(e){(0,r.zw)().addToActivatedList(this),this.currentStatus="active",e&&this.isTargetEnabled(e)&&-1===this.activatedTargets.indexOf(e)&&this.activatedTargets.push(e)}},{key:"isActivated",value:function(){return"active"===this.currentStatus}},{key:"deactivate",value:function(){this.currentStatus=void 0}},{key:"excludeDefaultStyling",value:function(){return!1===this.targets.defaultStyling||this.excludeStyling()||this.reuseDomDefinition()&&!this.allStyleTargetMap}},{key:"canTargetBeActivated",value:function(e){var t=this.targets.onDomEvent;return!(t&&(Array.isArray(t)?t.includes(e):t===e)&&!this.hasDom()||this.activeTargetMap[e])}},{key:"addToStyleTargetList",value:function(e,t){var n;if(e=l.g.getTargetName(e),t||!this.excludeStyling()&&!this.targets["exclude".concat(a.d.capitalizeFirstLetter(e))]){var r,i=s.u.asyncStyleTargetMap[e],o=s.u.attributeTargetMap[e];if(i||o)null!==(r=this.asyncStyleTargetMap)&&void 0!==r&&r.has(e)||(this.asyncStyleTargetMap||(this.asyncStyleTargetMap=new Map),this.asyncStyleTargetMap.set(e,!0));else if(this.isStyleTarget(e)){var u,c=!0;if(s.u.transformMap[e])this.getParent()&&this.calcAbsolutePosition(this.getX(),this.getY());else if("width"===e||"height"===e){var h=Math.floor("width"===e?this.getWidth():this.getHeight());this.styleMap[e]===h&&(c=!1)}else"dim"===e?this.styleMap[e]===Math.floor(this.val("dim"))&&(c=!1):a.d.isDefined(this.val(e))&&this.styleMap[e]===this.val(e)&&(c=!1);!c||null!==(u=this.styleTargetMap)&&void 0!==u&&u.has(e)||(this.styleTargetMap||(this.styleTargetMap=new Map),this.styleTargetMap.set(e,!0))}!s.u.styleSet.has(e)||null!==(n=this.allStyleTargetMap)&&void 0!==n&&n.has(e)||(this.allStyleTargetMap||(this.allStyleTargetMap=new Map),this.allStyleTargetMap.set(e,!0))}}},{key:"isStyleTarget",value:function(e){return s.u.styleTargetMap[e]}},{key:"removeTarget",value:function(e){delete this.targets[e],this.removeFromActiveTargets(e),this.removeFromUpdatingTargets(e),delete this.targetValues[e]}},{key:"addTarget",value:function(e,t){var n,r,i;this.addTargets((n={},i=t,(r=p(r=e))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n))}},{key:"addTargets",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.targets[n]=e[n],t.removeFromUpdatingTargets(n),t.originalTargetNames.includes(n)||t.originalTargetNames.push(n);var r=t.originalTargetNames.indexOf(n);t.processNewTarget(n,r)})),this.hasDom()&&(0,r.kQ)().attachEvents([this]),(0,r.fB)().schedule(1,"addTargets-"+this.oid)}},{key:"getTargetStepPercent",value:function(e,t,n){return t=a.d.isDefined(t)?t:this.getTargetStep(e),n?t/n:1}},{key:"resetTargetStep",value:function(e){return this.targetValues[e]&&(this.targetValues[e].step=0),this}},{key:"resetTargetExecutionFlag",value:function(e){return this.targetValues[e]&&(this.targetValues[e].executionFlag=!1),this}},{key:"resetTargetCycle",value:function(e){return this.targetValues[e]&&(this.targetValues[e].cycle=0),this}},{key:"resetScheduleTimeStamp",value:function(e){return this.targetValues[e]&&(this.targetValues[e].scheduleTimeStamp=void 0),this}},{key:"resetTargetInitialValue",value:function(e){return this.targetValues[e]&&(this.targetValues[e].initialValue=void 0),this}},{key:"updateTargetStatus",value:function(e){var t,n=this.targetValues[e];if(n){var i=this.getTargetCycle(e),a=this.getTargetCycles(e),o=this.getTargetStep(e),s=this.getTargetSteps(e);return l.g.isTargetAlreadyUpdating(this,e)?(n.status="done",n.step=s,n.cycle=a):this.isExecuted(e)&&o<s||Array.isArray(n.valueList)&&i<n.valueList.length-1?n.status="updating":!this.isExecuted(e)||this.isTargetInLoop(e)||i<a?n.status="active":null!==(t=this.targets[e])&&void 0!==t&&t.fetchAction&&!(0,r.qI)().isLoadingSuccessful(this,e)?n.status="fetching":n.status="done","fetching"===n.status?(this.removeFromActiveTargets(e),this.removeFromUpdatingTargets(e),this.getParent().addToActiveChildren(this)):this.isTargetUpdating(e)?(this.addToUpdatingTargets(e),this.removeFromActiveTargets(e)):this.isTargetActive(e)?(this.addToActiveTargets(e),this.removeFromUpdatingTargets(e)):(this.removeFromActiveTargets(e),this.removeFromUpdatingTargets(e)),n.status}}},{key:"getTargetStatus",value:function(e){var t,n;return null!==(t=null===(n=this.targetValues[e])||void 0===n?void 0:n.status)&&void 0!==t?t:""}},{key:"isTargetActive",value:function(e){var t;return"active"===(null===(t=this.targetValues[e])||void 0===t?void 0:t.status)}},{key:"isTargetUpdating",value:function(e){var t;return"updating"===(null===(t=this.targetValues[e])||void 0===t?void 0:t.status)}},{key:"isTargetDone",value:function(e){var t;return"done"===(null===(t=this.targetValues[e])||void 0===t?void 0:t.status)}},{key:"isTargetComplete",value:function(e){var t;return"complete"===(null===(t=this.targetValues[e])||void 0===t?void 0:t.status)||void 0===this.targetValues[e]&&void 0}},{key:"isTargetCompleteDeep",value:function(e){return l.g.isTargetCompleteDeep(this,e)}},{key:"isTargetFullyCompleted",value:function(e){return l.g.isTargetFullyCompleted(this,e)}},{key:"arePreviousTargetsComplete",value:function(e){return l.g.arePreviousTargetsComplete(this,e)}},{key:"cleanupTarget",value:function(e){l.g.cleanupTarget(this,e)}},{key:"isComplete",value:function(){return l.g.isTModelComplete(this)}},{key:"isExecuted",value:function(e){return this.targetValues[e]&&this.targetValues[e].executionFlag}},{key:"neverExecuted",value:function(e){return!this.targetValues[e]}},{key:"isTargetImperative",value:function(e){return!!this.targetValues[e]&&this.targetValues[e].isImperative}},{key:"getTargetExecutionCount",value:function(e){return this.targetValues[e]?this.targetValues[e].executionCount:0}},{key:"setTargetComplete",value:function(e){this.targetValues[e]&&(this.targetValues[e].status="complete")}},{key:"isTargetEnabled",value:function(e){var t=this.targets[e];return!!a.d.isDefined(t)&&("function"!=typeof t.enabledOn||(this.setTargetMethodName(e,"enabledOn"),t.enabledOn.call(this)))}},{key:"doesTargetEqualActual",value:function(e){if(this.targetValues[e]){var t=!!this.targets[e]&&this.targets[e].deepEquality;return t?a.d.areEqual(this.getTargetValue(e),this.val(e),t):this.getTargetValue(e)===this.val(e)}return!1}},{key:"getTargetValue",value:function(e){var t,n=this.targetValues[e]||this.targets[e];if(n){var r=null!==(t=n.value)&&void 0!==t?t:n;return"function"==typeof r?r.call(this):r}}},{key:"getTargetSteps",value:function(e){return this.targetValues[e]&&this.targetValues[e].steps||0}},{key:"getTargetStep",value:function(e){return this.targetValues[e]?this.targetValues[e].step:0}},{key:"getScheduleTimeStamp",value:function(e){var t;return null===(t=this.targetValues[e])||void 0===t?void 0:t.scheduleTimeStamp}},{key:"isScheduledPending",value:function(e){var t=this.getScheduleTimeStamp(e),n=this.getTargetInterval(e);return t&&t+n>a.d.now()}},{key:"isTargetInLoop",value:function(e){var t=this.targets[e];if(!t)return!1;var n="function"==typeof t.loop?t.loop.call(this,e):t.loop;return!0===n||"passive"===n}},{key:"shouldScheduleRun",value:function(e){var t=this.targets[e];return!!t&&(void 0!==t.triggerRerun?!!t.triggerRerun:void 0===t.loop||"passive"!==("function"==typeof t.loop?t.loop.call(this,e):t.loop))}},{key:"getTargetInitialValue",value:function(e){var t;return null===(t=this.targetValues[e])||void 0===t?void 0:t.initialValue}},{key:"getLastUpdate",value:function(e){var t;return null===(t=this.targetValues[e])||void 0===t?void 0:t.lastUpdate}},{key:"getDimLastUpdate",value:function(){var e,t,n,r,i;return Math.max(null!==(e=this.getLastUpdate("width"))&&void 0!==e?e:0,null!==(t=this.getLastUpdate("height"))&&void 0!==t?t:0,null!==(n=this.getLastUpdate("size"))&&void 0!==n?n:0,null!==(r=this.domHeightTimestamp)&&void 0!==r?r:0,null!==(i=this.domWidthTimestamp)&&void 0!==i?i:0)}},{key:"getTargetActivationTime",value:function(e){var t,n;return null!==(t=null===(n=this.targetValues[e])||void 0===n?void 0:n.activationTime)&&void 0!==t?t:0}},{key:"getTargetCreationTime",value:function(e){return this.targetValues[e]?this.targetValues[e].creationTime:void 0}},{key:"incrementTargetStep",value:function(e,t,n,r,i){var a=this.targetValues[e];if(a){var o=r||8,l=t-n,s=Math.max(1,Math.floor(l/o));return a.step=Math.min(i,a.step+s),a.step}}},{key:"getTargetCycles",value:function(e){var t,n;return null!==(t=null===(n=this.targetValues[e])||void 0===n?void 0:n.cycles)&&void 0!==t?t:0}},{key:"getTargetCycle",value:function(e){var t,n;return null!==(t=null===(n=this.targetValues[e])||void 0===n?void 0:n.cycle)&&void 0!==t?t:0}},{key:"incrementTargetCycle",value:function(e){return this.targetValues[e]&&this.targetValues[e].cycle++,this.targetValues[e].cycle}},{key:"setTargetInterval",value:function(e,t){return this.targetValues[e]&&(this.targetValues[e].interval=t),this.targetValues[e].interval}},{key:"setScheduleTimeStamp",value:function(e,t){this.targetValues[e]&&(this.targetValues[e].scheduleTimeStamp=t)}},{key:"setTargetInitialValue",value:function(e,t){this.targetValues[e]&&(this.targetValues[e].initialValue=t)}},{key:"setLastUpdate",value:function(e){this.targetValues[e]&&(this.targetValues[e].lastUpdate=a.d.now())}},{key:"getTargetEasing",value:function(e){var t;return"function"==typeof(null===(t=this.targetValues[e])||void 0===t?void 0:t.easing)?this.targetValues[e].easing:void 0}},{key:"getTargetInterval",value:function(e){var t=this.targetValues[e];return(null==t?void 0:t.interval)||0}},{key:"setTarget",value:function(e,t,n,r,a){if("object"===y(e)&&null!==e){var o=[e,t,n,r,a];t=o[0],n=o[1],r=o[2],a=o[3],e=""}"string"==typeof e&&(e=e.endsWith("+")?e:e+"+");var s=l.g.currentTargetName,u=l.g.currentTModel;return this.getParent()===u&&l.g.markChildAction(u,this),this.markLayoutDirty(e),i.j.executeImperativeTarget(this,e,t,n,r,a,s,u),this}},{key:"cancelAnimation",value:function(){if(this.hasAnimatingTargets()){var e,t=h(this.animatingMap);try{for(t.s();!(e=t.n()).done;){var n=d(e.value,1)[0];this.targetValues[n]&&(this.targetValues[n].status="done",this.removeFromUpdatingTargets(n),this.removeFromActiveTargets(n))}}catch(e){t.e(e)}finally{t.f()}(0,r.s)().cancelTModel(this),this.pausedBatch=void 0}}},{key:"hasTargetUpdates",value:function(e){var t;return e?!0===this.updatingTargetMap[e]||(null===(t=this.animatingMap)||void 0===t?void 0:t.has(e)):this.updatingTargetList.length>0}},{key:"addToActiveTargets",value:function(e){var t;!this.activeTargetMap[e]&&this.canTargetBeActivated(e)&&(this.markLayoutDirty(e),this.activeTargetMap[e]=!0,this.activeTargetList.push(e),null===(t=this.getParent())||void 0===t||t.addToActiveChildren(this))}},{key:"removeFromActiveTargets",value:function(e){if(this.activeTargetMap[e]){delete this.activeTargetMap[e];var t=this.activeTargetList.indexOf(e);t>=0&&this.activeTargetList.splice(t,1)}var n;0===this.activeTargetList.length&&(null===(n=this.getParent())||void 0===n||n.removeFromActiveChildren(this))}},{key:"addToUpdatingTargets",value:function(e){var t,n=this.updatingTargetList.find((function(t){return t!==e&&l.g.getTargetName(t)===l.g.getTargetName(e)}));n&&(this.resetTarget(n),this.removeFromUpdatingTargets(n)),this.updatingTargetMap[e]||(this.markLayoutDirty(e),this.updatingTargetMap[e]=!0,this.updatingTargetList.push(e),null===(t=this.getParent())||void 0===t||t.addToUpdatingChildren(this))}},{key:"removeFromUpdatingTargets",value:function(e){if(this.updatingTargetMap[e]){delete this.updatingTargetMap[e];var t=this.updatingTargetList.indexOf(e);t>=0&&this.updatingTargetList.splice(t,1)}var n;0===this.updatingTargetList.length&&(null===(n=this.getParent())||void 0===n||n.removeFromUpdatingChildren(this))}},{key:"hasUpdatingImperativeTargets",value:function(e){var t,n,r=h([].concat(c(null!==(t=this.updatingTargetList)&&void 0!==t?t:[]),c(this.hasAnimatingTargets()?c(this.animatingMap.keys()):[])));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(this.isTargetImperative(i)&&this.targetValues[i].originalTargetName===e)return!0}}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"getUpdatingImperativeTargets",value:function(e){var t,n=[],r=h(this.updatingTargetList);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.isTargetImperative(i)&&this.targetValues[i].originalTargetName===e&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"hasAnyUpdates",value:function(){var e,t;return 0!==this.updatingTargetList.length||0!==this.activeTargetList.length||0!==(null!==(e=null===(t=this.animatingMap)||void 0===t?void 0:t.size)&&void 0!==e?e:0)}},{key:"removeFromAnimatingMap",value:function(e){var t,n;null!==(t=this.animatingMap)&&void 0!==t&&t.has(e)&&(this.animatingMap.delete(e),0===this.animatingMap.size&&(null===(n=this.getParent())||void 0===n||n.removeFromAnimatingChildren(this)))}},{key:"clearAnimatingMap",value:function(){var e,t;null===(e=this.animatingMap)||void 0===e||e.clear(),null===(t=this.getParent())||void 0===t||t.removeFromAnimatingChildren(this)}},{key:"addToAnimatingMap",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.animatingMap||(this.animatingMap=new Map),this.animatingMap.set(e,n),null===(t=this.getParent())||void 0===t||t.addToAnimatingChildren(this)}},{key:"isKeyAnimating",value:function(e){if(!this.animatingMap)return!1;var t=l.g.getOriginalNames(this,e).originalTargetName;return this.animatingMap.has(e)&&this.animatingMap.get(e).originalTargetName===t}},{key:"addToUpdatingChildren",value:function(e){this.updatingChildrenMap||(this.updatingChildrenMap=new Map),this.updatingChildrenMap.set(e.oid,e)}},{key:"removeFromUpdatingChildren",value:function(e){var t;null===(t=this.updatingChildrenMap)||void 0===t||t.delete(e.oid)}},{key:"addToAnimatingChildren",value:function(e){this.animatingChildrenMap||(this.animatingChildrenMap=new Map),this.animatingChildrenMap.set(e.oid,e)}},{key:"removeFromAnimatingChildren",value:function(e){var t;null===(t=this.animatingChildrenMap)||void 0===t||t.delete(e.oid)}},{key:"addToActiveChildren",value:function(e){this.activeChildrenMap||(this.activeChildrenMap=new Map),this.activeChildrenMap.set(e.oid,e)}},{key:"removeFromActiveChildren",value:function(e){var t;null===(t=this.activeChildrenMap)||void 0===t||t.delete(e.oid)}},{key:"hasActiveChildren",value:function(){var e;return!(null===(e=this.activeChildrenMap)||void 0===e||!e.size)}},{key:"hasUpdatingChildren",value:function(){var e;return!(null===(e=this.updatingChildrenMap)||void 0===e||!e.size)}},{key:"hasAnimatingChildren",value:function(){var e;return!(null===(e=this.animatingChildrenMap)||void 0===e||!e.size)}},{key:"hasAnimatingTargets",value:function(){var e;return!(null===(e=this.animatingMap)||void 0===e||!e.size)}},{key:"hasValidAnimation",value:function(){return this.hasAnimatingTargets()&&this.lastBatch&&this.lastBatch.totalDuration>0}},{key:"deleteTargetValue",value:function(e){return delete this.targetValues[e],this.addToActiveTargets(e),this.removeFromUpdatingTargets(e),this}},{key:"clearAnimatingChildren",value:function(){var e;null===(e=this.animatingChildrenMap)||void 0===e||e.clear()}},{key:"clearUpdatingChildren",value:function(){var e;null===(e=this.updatingChildrenMap)||void 0===e||e.clear()}},{key:"clearActiveChildren",value:function(){var e;null===(e=this.activeChildrenMap)||void 0===e||e.clear()}},{key:"resetTarget",value:function(e){var t=this.targetValues[e];return t&&(t.isImperative=!1,t.executionFlag=!1,t.scheduleTimeStamp=void 0,t.step=0,t.cycle=0,t.steps=0,t.cycles=0,t.interval=0,t.status=""),this}},{key:"activateTargets",value:function(e){var t=this;Array.isArray(e)&&e.forEach((function(e){return t.activateTarget(e)}))}},{key:"activateTarget",value:function(e,t){if(this.canTargetBeActivated(e)){a.d.isDefined(t)&&this.val("___".concat(e),t),this.isVisible()&&this.markLayoutDirty(e);var n,r,i=this.targetValues[e]||l.g.emptyValue();this.targetValues[e]?(i.activationTime=a.d.now(),i.lastUpdate=a.d.now(),i.isImperative=!1,i.executionFlag=!1,i.scheduleTimeStamp=void 0,i.step=0,i.cycle=Array.isArray(i.valueList)?1:0,i.initialValue=void 0):(this.targetValues[e]=i,i.cycles=null!==(n=null===(r=this.targets[e])||void 0===r?void 0:r.cycles)&&void 0!==n?n:i.cycles),this.updateTargetStatus(e),this.activate(e)}return this}},{key:"manageChildTargetExecution",value:function(e){return e.hasChildren()||e.addedChildren.length>0||e.dirtyLayout||0===e.targetExecutionCount}},{key:"setTargetMethodName",value:function(e,t){(!s.u.ignoreTargetMethodNameMap[e]||this.isTargetUpdating(e)||this.isTargetImperative(e))&&(this.targetMethodMap[e]||(this.targetMethodMap[e]=[]),this.targetMethodMap[e].includes(t)||this.targetMethodMap[e].push(t))}}],t&&g(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),b=n(675),T=n(745),w=n(144);function k(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function C(e){var t=function(e){if("object"!=M(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==M(t)?t:t+""}function D(e,t,n){return t=L(t),function(e,t){if(t&&("object"==M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,x()?Reflect.construct(t,n||[],L(e).constructor):t.apply(e,n))}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function(){return!!e})()}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}var _=function(e){function t(e,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=D(this,t,[e,n,r])).allChildrenList=[],i.allChildrenMap={},i.childrenUpdateFlag=!1,i.$dom=null,i.x=0,i.y=0,i.absX=0,i.absY=0,i.domHeightTimestamp=0,i.domWidthTimestamp=0,i.contentWidth=0,i.contentHeight=0,i.bottomBaseWidth=0,i.topBaseHeight=0,i.styleMap={},i.tfMap={},i.visibilityStatus=void 0,i.hasDomNow=!1,i.isNowVisible=!1,i.currentStatus="new",i.dirtyLayout=!1,i.originWindowEpoch=-1,i.initTargets(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),n=t,i=[{key:"createViewport",value:function(){this.viewport=this.viewport||new b.L;var e=-this.getScrollLeft(),t=-this.getScrollTop(),n=e,r=t;return this.viewport.xNext=n,this.viewport.xNorth=n,this.viewport.xEast=n,this.viewport.xSouth=n,this.viewport.xWest=n,this.viewport.scrollLeft=e,this.viewport.scrollTop=t,this.viewport.absX=this.absX,this.viewport.absY=this.absY,this.viewport.xOverflowReset=n,this.viewport.xOverflowLimit=n+this.getWidth(),this.viewport.yNext=r,this.viewport.yNorth=r,this.viewport.yWest=r,this.viewport.yEast=r,this.viewport.ySouth=r,this.calcContentWidthHeight(),this.viewport.container=this,this.viewport}},{key:"calcContentWidthHeight",value:function(){var e=this.viewport.ySouth-this.viewport.yNorth,t=this.viewport.xEast-this.viewport.xWest,n=this.viewport.yEast-this.viewport.yNorth,r=this.viewport.xSouth-this.viewport.xWest;e===this.contentHeight&&this.contentWidth===t&&this.topBaseHeight===n&&this.bottomBaseWidth===r||(this.contentHeight=e,this.topBaseHeight=n,this.bottomBaseWidth=r,this.contentWidth=t)}},{key:"adjustViewport",value:function(){}},{key:"calcAbsolutePosition",value:function(e,t){var n,r,i,o;this.absX=a.d.isDefined(this.val("absX"))?this.val("absX"):this.getParent().absX-(null!==(n=null===(r=this.getParent().$dom)||void 0===r?void 0:r.getScrollLeft())&&void 0!==n?n:0)+e,this.absY=a.d.isDefined(this.val("absY"))?this.val("absY"):this.getParent().absY-(null!==(i=null===(o=this.getParent().$dom)||void 0===o?void 0:o.getScrollTop())&&void 0!==i?i:0)+t}},{key:"calcAbsolutePositionFromDom",value:function(){w.a.calcAbsolutePositionFromDom(this)}},{key:"removeChild",value:function(e){if(e&&this.allChildrenMap[e.oid])return l.g.resetBeforeDeletion(e),this.deletedChildren.push(e),this.removeFromUpdatingChildren(e),this.removeFromActiveChildren(e),this.childrenUpdateFlag=!0,(0,r.zw)().calcChildren(this),this.markLayoutDirty("removeChild"),(0,r.fB)().schedule(1,"removeChild-"+e.oid),this}},{key:"moveChild",value:function(e,t){return this.movedChildren.push({index:t,child:e}),e.hasDom()&&e.requiresDomRelocation()&&(e.domOrderIndex=t,e.activate()),this.childrenUpdateFlag=!0,this.markLayoutDirty("moveChild"),(0,r.fB)().schedule(1,"moveChild-"+this.oid+"-"+e.oid),this}},{key:"addChild",value:function(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.addedChildren.length+this.allChildrenList.length;if("object"===M(e)){if(this.childrenUpdateFlag=!0,!(e instanceof t)){var a=Object.keys(this.actualValues).find((function(t){return n.actualValues[t]===e}));e=new t(a?e.id||a:"".concat(this.oid,"_"),e)}e.toDiscard||(r.qw.tmodelIdMap[e.oid]=e,this.addedChildren.push({index:i,child:e}),e.parent=this,e.markLayoutDirty("addChild"),e.updatingTargetList.length>0&&this.addToUpdatingChildren(e),e.activeTargetList.length>0&&this.addToActiveChildren(e),l.g.markChildAction(this,e))}return this}},{key:"addSibling",value:function(e){this.getParent().addChild(e)}},{key:"removeSibling",value:function(e){var t=this;e||(e=this.getParent().getChildren().find((function(e){return e!==t}))),this.getParent().removeChild(e)}},{key:"getChildren",value:function(){var e,t,n,r=this,i=this.state();if((null===(e=i.deletedChildren)||void 0===e?void 0:e.length)>0&&(this.deletedChildren.forEach((function(e){if(r.allChildrenMap[e.oid]){var t=r.allChildrenList.indexOf(e);r.lastChildrenUpdate.deletions.push(e),r.allChildrenList.splice(t,1),delete r.allChildrenMap[e.oid]}})),this.deletedChildren.length=0),(null===(t=i.addedChildren)||void 0===t?void 0:t.length)>0&&(this.addedChildren.sort((function(e,t){return e.index-t.index})),this.addedChildren.forEach((function(e){var t=e.index,n=e.child;r.allChildrenMap[n.oid]||(a.d.isDefined(n.val("canDeleteDom"))||!1!==r.val("canDeleteDom")||n.val("canDeleteDom",!1),t>=r.allChildrenList.length?r.allChildrenList.push(n):r.allChildrenList.splice(t,0,n),r.allChildrenMap[n.oid]=n,r.lastChildrenUpdate.additions.push({index:t,child:n}))})),this.addedChildren.length=0),(null===(n=i.movedChildren)||void 0===n?void 0:n.length)>0){this.movedChildren.sort((function(e,t){return e.index-t.index}));var o={},l={};this.movedChildren.forEach((function(e){var t=e.index,n=e.child;r.lastChildrenUpdate.deletions.push(n),r.lastChildrenUpdate.additions.push({index:t,child:n});var i=r.allChildrenList.indexOf(n);if(t!==i){l[n.oid]&&delete l[n.oid];var a=r.allChildrenList.splice(t,1,n);!o[t]&&a.length>0&&(l[a[0].oid]={child:a[0],index:t+1}),i>=0&&(o[i]={fromIndex:i<t?i:t,child:n}),o[t]&&delete o[t]}})),Object.values(l).forEach((function(e){var t=e.index,n=e.child;r.allChildrenList.splice(t,0,n)})),Object.values(o).forEach((function(e){var t=e.fromIndex,n=e.child,i=r.allChildrenList.indexOf(n,t);r.allChildrenList.splice(i,1)})),this.movedChildren.length=0}return this.allChildrenList}},{key:"removeAll",value:function(){return this.hasChildren()?(this.markLayoutDirty("removeAll"),this.allChildrenList.forEach((function(e){l.g.resetBeforeDeletion(e),e.$dom=void 0})),this.allChildrenList=[],this.allChildrenMap={},this.clearUpdatingChildren(),this.clearActiveChildren(),this.clearAnimatingChildren(),this.hasDom()&&this.$dom.deleteAll(),this):this}},{key:"addToParentVisibleChildren",value:function(){this.isVisible()&&this.isInFlow()&&this.getParent()&&this.getParent().visibleChildren.push(this)}},{key:"markLayoutDirty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this.dirtyLayout||(this.dirtyLayout={oids:{},count:0}),this.dirtyLayout.oids[t.oid]||(this.dirtyLayout.oids[t.oid]=t,this.dirtyLayout.count++),t===this&&(e=t.oid+"#"+e),this.dirtyLayout.lastKey=e,this.bracket&&this.bracket.markLayoutDirty(e,t),this.parent&&this.parent.markLayoutDirty(e,t)}},{key:"removeLayoutDirty",value:function(e,t){var n=this;this.dirtyLayout&&(t?t.forEach((function(e){n.dirtyLayout.oids[e]&&(n.dirtyLayout.count--,delete n.dirtyLayout.oids[e])})):this.dirtyLayout.oids[e.oid]&&(this.dirtyLayout.count--,delete this.dirtyLayout.oids[e.oid]),0===this.dirtyLayout.count&&(this.dirtyLayout=!1)),this.bracket&&this.bracket.removeLayoutDirty(e,t),this.parent&&this.parent.removeLayoutDirty(e,t)}},{key:"getDirtyLayout",value:function(){return this.dirtyLayout}},{key:"shouldCalculateChildren",value:function(){if(a.d.isDefined(this.val("calculateChildren")))return this.val("calculateChildren");if(!this.isIncluded()||this.isDomIsland()&&!this.hasDom())return!1;var e=this.isVisible()&&!1!==this.dirtyLayout||this.isNowVisible;return this.currentStatus=void 0,e}},{key:"getFirstChild",value:function(){return this.getChildren()[0]}},{key:"hasChildren",value:function(){return this.getChildren().length>0}},{key:"findChildren",value:function(e){return this.getChildren().filter((function(t){return t.type===e}))}},{key:"getLastChild",value:function(){return this.getChildren()[this.allChildrenList.length-1]}},{key:"getChild",value:function(e){return"number"==typeof e?this.getChildren()[e]:this.getChildByOid(e)}},{key:"getChildIndex",value:function(e){return this.getChildren().indexOf(e)}},{key:"getChildrenOids",value:function(){return this.getChildren().map((function(e){return e.oid})).join(" ")}},{key:"findChild",value:function(e){return this.getChildren().find((function(t){return t.type===e}))}},{key:"findLastChild",value:function(e){return this.getChildren().findLast((function(t){return t.type===e}))}},{key:"getChildByOid",value:function(e){return this.getChildren(),this.allChildrenMap[e]}},{key:"getParentValue",value:function(e){var t;return null===(t=this.parent)||void 0===t?void 0:t.val(e)}},{key:"pval",value:function(e){return this.getParentValue(e)}},{key:"getParentValueAtMyIndex",value:function(e){var t=this.getParentValue(e);if(Array.isArray(t)){var n,r=null===(n=this.getParent())||void 0===n?void 0:n.getChildIndex(this);if("number"==typeof r)return t[r]}return t}},{key:"delVal",value:function(e){this.markLayoutDirty("del-".concat(e)),e.startsWith("_")?delete this[e.slice(1)]:delete this.actualValues[e]}},{key:"val",value:function(e,t){var n=this.actualValues,r=this.lastActualValues;return e=l.g.getTargetName(e),2===arguments.length?(r[e]=n[e],t!==n[e]&&(n[e]=t,this.markLayoutDirty("val-".concat(e))),this):n[e]}},{key:"lastVal",value:function(e){return this.lastActualValues[e]}},{key:"setActual",value:function(e,t){this.targetValues[e]&&(this.targetValues[e].actual=t)}},{key:"floorVal",value:function(e){var t;return Math.floor(null!==(t=this.val(e))&&void 0!==t?t:0)}},{key:"getDomParent",value:function(){return this.val("domParent")||T.X.findParentByTarget(this,"domHolder",!0)}},{key:"getDomHolder",value:function(e){var t=this.val("domHolder");if(!0===t&&e!==this)return this.$dom;if(t&&!0!==t&&e.$dom!==t)return t;var n=this.getDomParent();return n?n.$dom:null}},{key:"bug",value:function(){return[{visible:this.isVisible()},{visibilityStatus:this.visibilityStatus},{hasDom:this.hasDom()},{x:this.getX()},{y:this.getY()},{width:this.getWidth()},{height:this.getHeight()},{activeTargetList:this.activeTargetList},{updatingTargetList:this.updatingTargetList},{updatingChildren:this.updatingChildrenMap?k(this.updatingChildrenMap.keys()):[]},{activeChildren:this.activeChildrenMap?k(this.activeChildrenMap.keys()):[]},{children:this.getChildren()},{targetValues:this.targetValues},{actualValues:this.actualValues}]}},{key:"logTree",value:function(){a.d.logTree(this)}},{key:"isVisible",value:function(){return this.val("isVisible")}},{key:"makeVisible",value:function(){this.val("isVisible",!0),this.targets.isVisible=!0}},{key:"makeInvisible",value:function(){this.val("isVisible",!1),this.targets.isVisible=!1}},{key:"managesOwnScroll",value:function(){return a.d.isDefined(this.val("managesOwnScroll"))?!!this.val("managesOwnScroll"):!!(this.allTargetMap.onScroll||this.allTargetMap.onScrollLeft||this.allTargetMap.onScrollTop||this.allTargetMap.onWindowScroll)}},{key:"calcVisibility",value:function(){return a.d.calcVisibility(this)}},{key:"validateVisibilityInParent",value:function(){return a.d.isDefined(this.val("validateVisibilityInParent"))?this.val("validateVisibilityInParent"):this.parent.managesOwnScroll()}},{key:"hasDomHolderChanged",value:function(){return!this.reuseDomDefinition()&&this.getDomHolder(this)&&this.getDomHolder(this).exists()&&this.$dom.parent()!==this.getDomHolder(this).element}},{key:"hasBaseElementChanged",value:function(){return!!this.hasDom()&&this.getBaseElement()!==this.$dom.getTagName()}},{key:"mount",value:function(e){if(void 0!==e){var t=w.a.normalizeDomHolder(e);t&&this.val("domHolder",t)}(0,r.Bt)().addChild(this)}},{key:"hasDom",value:function(){return!!this.$dom&&this.$dom.exists()}},{key:"isDomIsland",value:function(){return this.val("domIsland")}},{key:"getRealParent",value:function(){return this.parent}},{key:"getContentHeight",value:function(){return this.contentHeight}},{key:"getContentWidth",value:function(){return this.contentWidth}},{key:"useContentWidth",value:function(){return w.a.useContentWidth(this)}},{key:"useContentHeight",value:function(){return w.a.useContentHeight(this)}},{key:"getBaseWidth",value:function(){var e;return null!==(e=this.val("baseWidth"))&&void 0!==e?e:this.getWidth()}},{key:"getBaseHeight",value:function(){var e;return null!==(e=this.val("baseHeight"))&&void 0!==e?e:this.getHeight()}},{key:"getMinWidth",value:function(){var e;return null!==(e=this.val("minWidth"))&&void 0!==e?e:Math.min(this.getWidth(),this.getBaseWidth())}},{key:"getTopBaseHeight",value:function(){var e;return null!==(e=this.val("topBaseHeight"))&&void 0!==e?e:0}},{key:"getContainerOverflowMode",value:function(){var e;return null!==(e=this.val("containerOverflowMode"))&&void 0!==e?e:"auto"}},{key:"getItemOverflowMode",value:function(){var e=this.targets.itemOverflowMode;if(void 0!==e)return"function"==typeof e?e.call(this):e;var t=this.val("itemOverflowMode");return void 0!==t?t:"auto"}},{key:"getUIDepth",value:function(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}},{key:"canBeAnimated",value:function(e){return s.u.isGpuPreferred(e)&&!1!==this.actualValues.webAnimation}},{key:"isTextOnly",value:function(){return a.d.isDefined(this.val("textOnly"))?this.val("textOnly"):"string"!=typeof this.getHtml()||!this.getHtml().trim().startsWith("<")}},{key:"getHtml",value:function(){return this.val("html")}},{key:"isInFlow",value:function(){return!a.d.isDefined(this.val("isInFlow"))||this.val("isInFlow")}},{key:"canHandleEvent",value:function(e){var t;return null!==(t=this.allTargetMap[e])&&void 0!==t&&t}},{key:"preventDefault",value:function(){return a.d.isDefined(this.val("preventDefault"))?this.val("preventDefault"):this.getParentValue("preventDefault")||!1}},{key:"canDeleteDom",value:function(){return a.d.isDefined(this.val("canDeleteDom"))?this.val("canDeleteDom"):!this.reuseDomDefinition()}},{key:"requiresDom",value:function(){return a.d.isDefined(this.val("requiresDom"))?this.val("requiresDom"):this.reuseDomDefinition()}},{key:"excludeStyling",value:function(){return!1===this.targets.styling}},{key:"getBracketThreshold",value:function(){return this.val("bracketThreshold")}},{key:"getBracketSize",value:function(){return this.val("bracketSize")}},{key:"shouldBeBracketed",value:function(){return a.d.isDefined(this.val("shouldBeBracketed"))?this.val("shouldBeBracketed"):this.getChildren().length>this.getBracketThreshold()}},{key:"isIncluded",value:function(){return this.val("isIncluded")}},{key:"canHaveDom",value:function(){return!(this.targets.$dom&&!this.val("$dom"))&&this.val("canHaveDom")}},{key:"requiresDomRelocation",value:function(){return a.d.isDefined(this.val("requiresDomRelocation"))?this.val("requiresDomRelocation"):!a.d.isDefined(this.tfMap.x)&&!a.d.isDefined(this.tfMap.y)}},{key:"getBaseElement",value:function(){var e;return this.val("baseElement")||this.val("element")||(null===(e=this.$dom)||void 0===e||null===(e=e.element)||void 0===e||null===(e=e.tagName)||void 0===e?void 0:e.toLowerCase())}},{key:"getOpacity",value:function(){return this.val("opacity")}},{key:"getCenterX",value:function(){return(this.parent.getWidth()-this.getWidth())/2}},{key:"getCenterY",value:function(){return(this.parent.getHeight()-this.getHeight())/2}},{key:"getX",value:function(){return this.val("x")}},{key:"getY",value:function(){return this.val("y")}},{key:"getZ",value:function(){return this.val("z")}},{key:"getPerspective",value:function(){return this.val("perspective")}},{key:"getRotate",value:function(){return this.val("rotate")}},{key:"getRotateX",value:function(){return this.val("rotateX")}},{key:"getRotateY",value:function(){return this.val("rotateY")}},{key:"getRotateZ",value:function(){return this.val("rotateZ")}},{key:"getScale",value:function(){return this.val("scale")}},{key:"getScaleX",value:function(){return this.val("scaleX")}},{key:"getScaleY",value:function(){return this.val("scaleY")}},{key:"getScaleZ",value:function(){return this.val("scaleZ")}},{key:"getSkewX",value:function(){return this.val("skewX")}},{key:"getSkewY",value:function(){return this.val("skewY")}},{key:"getSkewZ",value:function(){return this.val("skewZ")}},{key:"getMeasuringScale",value:function(){var e;return null!==(e=this.val("measuringScale"))&&void 0!==e?e:1}},{key:"getZIndex",value:function(){return this.val("zIndex")}},{key:"getTopMargin",value:function(){return this.val("topMargin")}},{key:"getLeftMargin",value:function(){return this.val("leftMargin")}},{key:"getRightMargin",value:function(){var e;return this.val("rightMargin")+(null!==(e=this.getParentValue("gap"))&&void 0!==e?e:0)}},{key:"getBottomMargin",value:function(){var e;return this.val("bottomMargin")+(null!==(e=this.getParentValue("gap"))&&void 0!==e?e:0)}},{key:"getWidth",value:function(){return a.d.isDefined(this.targets.width)||a.d.isDefined(this.targetValues.width)?this.val("width"):a.d.isDefined(this.targets.dim)||a.d.isDefined(this.targetValues.dim)?this.val("dim"):this.val("width")}},{key:"getHeight",value:function(){return a.d.isDefined(this.targets.height)||a.d.isDefined(this.targetValues.height)?this.val("height"):a.d.isDefined(this.targets.dim)||a.d.isDefined(this.targetValues.dim)?this.val("dim"):this.val("height")}},{key:"getScrollTop",value:function(){return this.val("scrollTop")}},{key:"getScrollLeft",value:function(){return this.val("scrollLeft")}},{key:"getCss",value:function(){return this.val("css")}},{key:"getStyle",value:function(){return this.val("style")}},{key:"getBackground",value:function(){return this.val("background")}},{key:"getBackgroundColor",value:function(){return this.val("backgroundColor")}},{key:"getAttributes",value:function(){return this.val("attributes")}},{key:"getInputValue",value:function(){return this.hasDom()?this.$dom.value():void 0}},{key:"isFormControl",value:function(){var e,t=this.getBaseElement();return"input"===t||"select"===t||"textarea"===t||(null===(e=this.$dom)||void 0===e||null===(e=e.element)||void 0===e?void 0:e.isContentEditable)}},{key:"isOverflowHidden",value:function(){return"hidden"===this.val("overflow")}},{key:"reuseDomDefinition",value:function(){return this.val("reuseDomDefinition")}}],i&&E(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(m)},144:function(e,t,n){n.d(t,{a:function(){return g}});var r=n(129),i=n(956),a=n(432),o=n(142),l=n(185),s=n(210);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function y(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"shouldMeasureHeightFromDom",value:function(t){return!1!==t.val("heightFromDom")&&(!t.excludeDefaultStyling()&&!r.d.isDefined(t.targetValues.height)&&!t.val("heightFromDom")&&!e.isHeightDefined(t)&&!t.hasChildren()||t.val("heightFromDom"))}},{key:"shouldMeasureWidthFromDom",value:function(t){return!1!==t.val("widthFromDom")&&(!t.excludeDefaultStyling()&&!t.reuseDomDefinition()&&!t.val("widthFromDom")&&!r.d.isDefined(t.targetValues.width)&&!e.isWidthDefined(t)&&!t.hasChildren()||t.val("widthFromDom"))}},{key:"isHeightDefined",value:function(e){var t;return e.isTargetImperative("height")||!!e.allTargetMap.height||!!e.allTargetMap.dim||r.d.isDefined(null===(t=e.targets.style)||void 0===t?void 0:t.height)}},{key:"isWidthDefined",value:function(e){var t;return e.isTargetImperative("width")||!!e.allTargetMap.width||!!e.allTargetMap.dim||r.d.isDefined(null===(t=e.targets.style)||void 0===t?void 0:t.width)}},{key:"isXDefined",value:function(e){return!!e.allTargetMap.x||!!e.targetValues.x}},{key:"isYDefined",value:function(e){return!!e.allTargetMap.y||!!e.targetValues.y}},{key:"useContentWidth",value:function(t){return!e.isWidthDefined(t)&&!t.val("widthFromDom")&&t.getContentWidth()>0}},{key:"useContentHeight",value:function(t){return!e.isHeightDefined(t)&&!t.val("heightFromDom")&&t.getContentHeight()>0}},{key:"createDom",value:function(e){e.$dom=new l.J,e.$dom.create(e.getBaseElement())}},{key:"patchDom",value:function(e){e.$dom.setSelector("#".concat(e.oid)),e.$dom.setId(e.oid),e.$dom.attr("tgjs","true"),e.getHtml()&&(e.isTextOnly()?e.$dom.text(e.getHtml()):e.$dom.html(e.getHtml())),e.setLastUpdate("html")}},{key:"initStyleMaps",value:function(e){e.domHeightTimestamp=0,e.domWidthTimestamp=0,e.tfMap={},e.styleMap={};var t,n=h(e.allStyleTargetMap);try{for(n.s();!(t=n.n()).done;){var i=c(t.value,1)[0];r.d.isDefined(e.val(i))&&e.addToStyleTargetList(i)}}catch(e){n.e(e)}finally{n.f()}}},{key:"getTransformValue",value:function(e,t){var n;return"x"===t?n=Math.floor(e.getX()):"y"===t?n=Math.floor(e.getY()):a.u.transformMap[t]&&(n=a.u.rotate3D[t]?e.val(t):a.u.scaleMap[t]?r.d.formatNum(e.val(t),2):e.floorVal(t)),n}},{key:"fixStyleByAnimation",value:function(e,t){if(e.hasDom())for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if("offset"!==i){var o=t[i];if(null!==o){var l=o;if("string"==typeof o&&o.endsWith("px")){var s=Number(o.slice(0,-2));Number.isNaN(s)||(l=s)}"width"===i?(e.styleMap.width=l,e.$dom.width(o)):"height"===i?(e.styleMap.height=l,e.$dom.height(o)):"transform"===i?e.$dom.transform(o,e.val("transformOrder")):a.u.transformMap[i]||(e.$dom.style(i,o),e.styleMap[i]=l)}}}}},{key:"fixStyle",value:function(t){if(t.styleTargetMap){var n,i=!1,o=h(t.styleTargetMap);try{for(o.s();!(n=o.n()).done;){var l=c(n.value,1)[0];if(!t.isKeyAnimating(l))if(a.u.transformMap[l]){var s=e.getTransformValue(t,l);t.tfMap[l]!==s&&(t.tfMap[l]=s,i=!0)}else if("dim"===l){var u=Math.floor(t.val("dim"));t.styleMap.height===u&&t.$dom.getStyleValue("height")===u||(t.styleMap.height=u,t.$dom.height(u)),t.styleMap.width===u&&t.$dom.getStyleValue("width")===u||(t.styleMap.width=u,t.$dom.width(u))}else if("width"===l){var d=Math.floor(t.getWidth());t.styleMap.width===d&&t.$dom.getStyleValue("width")===d||(t.styleMap.width=d,t.$dom.width(d))}else if("height"===l){var f=Math.floor(t.getHeight());t.styleMap.height===f&&t.$dom.getStyleValue("height")===f||(t.styleMap.height=f,t.$dom.height(f))}else a.u.styleWithUnitMap[l]?r.d.isDefined(t.val(l))&&t.styleMap[l]!==t.val(l)&&(t.$dom.style(l,r.d.isNumber(t.val(l))?"".concat(t.val(l),"px"):t.val(l)),t.styleMap[l]=t.val(l)):r.d.isDefined(t.val(l))&&t.styleMap[l]!==t.val(l)&&(t.$dom.style(l,"".concat(t.val(l))),t.styleMap[l]=t.val(l))}}catch(e){o.e(e)}finally{o.f()}i&&t.$dom.transform(e.getTransformString(t.tfMap,t.val("transformOrder"))),t.styleTargetMap.clear()}}},{key:"setWidthFromDom",value:function(e){var t=e.domWidthTimestamp,n=e.getParent(),i=e.getDomParent(),a=!1;if((0,o.EI)().needsRerender(e)&&(e.isTextOnly()?e.$dom.text(e.getHtml()):e.$dom.html(e.getHtml()),a=!0),a||n&&t<=n.getDimLastUpdate()||i&&t<=i.getDimLastUpdate()){e.$dom.width("auto");var l=e.$dom.width();l=l>0&&e.getHtml()?l+1:l,e.domWidthTimestamp=r.d.now(),e.val("width",l),(l>0||0===l&&e.lastVal("width")>0)&&e.addToStyleTargetList("width"),(0,o.fB)().schedule(15,"resize")}}},{key:"setHeightFromDom",value:function(e){var t=e.domHeightTimestamp,n=e.getParent(),i=e.getDomParent(),a=!1;if((0,o.EI)().needsRerender(e)&&(e.isTextOnly()?e.$dom.text(e.getHtml()):e.$dom.html(e.getHtml()),a=!0),a||n&&t<=n.getDimLastUpdate()||i&&t<=i.getDimLastUpdate()){e.$dom.height("auto");var l=e.$dom.height();e.domHeightTimestamp=r.d.now(),e.val("height",l),(l>0||0===l&&e.lastVal("height")>0)&&e.addToStyleTargetList("height"),(0,o.fB)().schedule(15,"resize")}}},{key:"morph",value:function(e,t,n,r,o,l){var u=e.getTargetEasing(t),c=u?u(e.getTargetStepPercent(t,o,l)):e.getTargetStepPercent(t,o,l);if(a.u.colorMap[i.g.getTargetName(t)]){var h=s.I.color2Integers(r),d=n?s.I.color2Integers(n):s.I.color2Integers("#fff");if(h&&d){var f=Math.floor(h[0]*c+d[0]*(1-c)),v=Math.floor(h[1]*c+d[1]*(1-c)),y=Math.floor(h[2]*c+d[2]*(1-c));return"rgb(".concat(f,",").concat(v,",").concat(y,")")}return r}return"number"==typeof r?n+(r-n)*c:r}},{key:"fixAsyncStyle",value:function(e){if(e.asyncStyleTargetMap){var t,n=h(e.asyncStyleTargetMap);try{var i=function(){var n=c(t.value,1)[0];if("style"===n){var i=e.getStyle();r.d.isDefined(i)&&e.styleMap.style!==i&&(e.$dom.setStyleByMap(i),i.height&&e.val("height",parseInt(i.height,10)),i.width&&e.val("width",parseInt(i.width,10)),e.styleMap.style=i)}else if("attributes"===n){var o=e.getAttributes();r.d.isDefined(o)&&e.styleMap.attributes!==o&&(Object.keys(o).forEach((function(t){e.$dom.attr(t,o[t])})),e.styleMap.attributes=o)}else if("css"===n){var l=e.getCss();e.$dom.css()!==l&&e.$dom.css(l)}else a.u.attributeTargetMap[n]?e.$dom.attr(n,e.val(n)):r.d.isDefined(e.val(n))&&e.styleMap[n]!==e.val(n)&&(e.$dom.style(n,"".concat(e.val(n))),e.styleMap[n]=e.val(n))};for(n.s();!(t=n.n()).done;)i()}catch(e){n.e(e)}finally{n.f()}e.asyncStyleTargetMap.clear()}}},{key:"getTransformBaseFromActualValues",value:function(e){var t={},n=a.u.transformMap;for(var i in e.actualValues)if(n[i]){var o=e.actualValues[i];r.d.isDefined(o)&&(t[i]=o)}return t}},{key:"num",value:function(e,t){var n=Number(e);return Number.isFinite(n)?n:t}},{key:"getTransformString",value:function(t,n){for(var i={},o={},l=r.d.isDefined(t.translateX)||r.d.isDefined(t.translateY)||r.d.isDefined(t.translateZ),s=0,u=Object.keys(t);s<u.length;s++){var c=u[s];if(!i[c])switch(c){case"translateX":case"translateY":case"translateZ":null!==t[c]&&(o[c]="".concat(c,"(").concat(e.num(t[c],0),"px)"),i[c]=!0);break;case"x":case"y":case"z":if(l){i.x=i.y=i.z=!0;break}var h="".concat(e.num(t.x,0),"px"),d="".concat(e.num(t.y,0),"px"),f="".concat(e.num(t.z,0),"px");o.translate3d="translate3d(".concat(h,", ").concat(d,", ").concat(f,")"),i.x=i.y=i.z=!0;break;case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"rotate3DX":case"rotate3DY":case"rotate3DZ":case"rotate3DAngle":r.d.isDefined(t.rotate3DX)&&r.d.isDefined(t.rotate3DY)&&r.d.isDefined(t.rotate3DZ)&&r.d.isDefined(t.rotate3DAngle)?(o.rotate3d="rotate3d(".concat(e.num(t.rotate3DX,0),", ").concat(e.num(t.rotate3DY,0),", ").concat(e.num(t.rotate3DZ,0),", ").concat(e.num(t.rotate3DAngle,0),"deg)"),i.rotate3DX=i.rotate3DY=i.rotate3DZ=i.rotate3DAngle=!0):null!==t[c]&&(o[c]="".concat(c,"(").concat(e.num(t[c],0),"deg)"),i[c]=!0);break;case"scale":case"scaleX":case"scaleY":case"scaleZ":case"scale3DX":case"scale3DY":case"scale3DZ":var v,y,g;r.d.isDefined(t.scale3DX)&&r.d.isDefined(t.scale3DY)&&r.d.isDefined(t.scale3DZ)?(o.scale3d="scale3d(".concat(Number(null!==(v=t.scale3DX)&&void 0!==v?v:1),", ").concat(Number(null!==(y=t.scale3DY)&&void 0!==y?y:1),", ").concat(Number(null!==(g=t.scale3DZ)&&void 0!==g?g:1),")"),i.scale3DX=i.scale3DY=i.scale3DZ=!0):(o[c]="".concat(c,"(").concat(e.num(t[c],1),")"),i[c]=!0);break;case"skewX":case"skewY":var p,m;if(r.d.isDefined(t.skewX)&&r.d.isDefined(t.skewY))o.skew="skew(".concat(Number(null!==(p=t.skewX)&&void 0!==p?p:0),"deg, ").concat(Number(null!==(m=t.skewY)&&void 0!==m?m:0),"deg)"),i.skewX=i.skewY=!0;else if(null!==t[c]){var b;o[c]="".concat(c,"(").concat(Number(null!==(b=t[c])&&void 0!==b?b:0),"deg)"),i[c]=!0}break;case"perspective":o[c]="perspective(".concat(e.num(t.perspective,0),"px)"),i.perspective=!0}}var T={};Array.isArray(n)&&n.length?n.forEach((function(e,t){T[e]=t})):T=a.u.transformOrder||{};var w=Object.keys(o).sort((function(e,t){var n,r;return(null!==(n=T[e])&&void 0!==n?n:999)-(null!==(r=T[t])&&void 0!==r?r:999)})).map((function(e){return o[e]}));return w.join(" ")}},{key:"calcAbsolutePositionFromDom",value:function(e){if(e.hasDom()){var t=e.$dom.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top);n===Math.floor(e.absX)&&r===Math.floor(e.absY)||(e.absX=t.left,e.absY=t.top,e.markLayoutDirty("islandAbsXY"))}}},{key:"normalizeDomHolder",value:function(e){if(e instanceof l.J)return e;if(e instanceof Element)return new l.J(e);if("string"==typeof e){var t=l.J.querySelector(e);return t?new l.J(t):null}return null}},{key:"overrideAnimatedKeyWithSnap",value:function(e,t,n){for(var r=Array.isArray(t)?t:[t],l=Array.isArray(n)?n:[n],s={},u={},c=new Map,h={},d={},f=new Map,v={},y=!1,g=0;g<r.length;g++){var p=r[g];y=!0;var m=l[g],b=e.targetValues[p],T=i.g.getTargetName(p);a.u.isTransformKey(T)?(s[T]=m,h[T]=m):(u[T]=m,d[T]=m),c.set(T,{steps:1,interval:1}),f.set(T,{steps:1,interval:1}),v[T]=p,b&&(b.value=m,b.steps=1,b.interval=0)}if(y){var w=[];w.push({keyTime:0,tfMap:s,styleMap:u,keyMeta:c}),w.push({keyTime:1,tfMap:h,styleMap:d,keyMeta:f});var k={frames:w,keyMap:v,totalDuration:1};(0,o.s)().animate(e,k,i.g.getAnimationHooks())}}}],null&&v(t.prototype,null),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}()},129:function(e,t,n){n.d(t,{d:function(){return u}});var r=n(142);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"calcVisibility",value:function(t){var n,i=t.getRealParent();if((null===(n=null==i?void 0:i.targets.onVisibleChildrenChange)||void 0===n||!n)&&t.isVisible()&&(t.isTargetUpdating(t.allTargetMap.x)||t.isTargetUpdating(t.allTargetMap.y)))return!0;var a=t.absX,o=t.absY,l=t.getDomParent(),s=(l.getMeasuringScale()||1)*t.getMeasuringScale(),u=e.isDefined(t.getWidth())?s*t.getWidth():0,c=e.isDefined(t.getHeight())?s*t.getHeight():0;t.visibilityStatus||(t.visibilityStatus={});var h=t.visibilityStatus,d=t.validateVisibilityInParent()&&i!==(0,r.Bt)(),f=d?Math.max(l.absX,i.absX):0,v=d?Math.max(l.absY,i.absY):0,y=d?Math.min(l.getWidth(),i.getWidth()):(0,r.r5)(),g=d?Math.min(l.getHeight(),i.getHeight()):(0,r.c$)(),p=(0,r.r5)(),m=(0,r.c$)(),b=Math.max(f,0),T=Math.max(v,0),w=Math.min(f+y,0+p),k=Math.min(v+g,0+m);return h.right=a<=w,h.left=a+u>=b,h.bottom=o-t.getTopMargin()<=k,h.top=o+c>=T,h.clipX=b,h.clipY=T,h.clipR=w,h.clipB=k,h.x=a,h.y=o,h.width=u,h.height=c,h.parent=d?i:"screen",h.isVisible=h.left&&h.right&&h.top&&h.bottom,t.actualValues.isVisible=h.isVisible,h.isVisible}},{key:"contains",value:function(e,t){var n;return!(!e||!t||e!==t&&t.getDomParent()!==e&&(null===(n=t.getDomParent())||void 0===n?void 0:n.getDomParent())!==e)}},{key:"list2map",value:function(t,n){return t.reduce((function(t,r){return t[r.oid]=e.isDefined(n)?n:r,t}),{})}},{key:"getDeepList",value:function(e){var t=[];return function e(n){if(n&&n.hasChildren()){var r=n.getChildren();t.push.apply(t,function(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r)),r.forEach(e)}}(e),t}},{key:"areEqual",value:function(e,t,n){return n?JSON.stringify(e)===JSON.stringify(t):e===t}},{key:"momentum",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.002,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,a=t-e,o=n<10?Math.abs(a)/10:Math.abs(a)/n,l=o/r,s=Math.pow(o,2)/(2*r);s>i&&(s=i);var u=a>0?a+s:a-s;return{distance:Math.round(u)/5,duration:Math.round(l),momentumDistance:s}}},{key:"isDefined",value:function(e){return null!=e}},{key:"isNumber",value:function(e){return"number"==typeof e&&!isNaN(e)}},{key:"limit",value:function(t,n,r){return(t=(t=e.isDefined(t)?t:n)>r?r:t)<n?n:t}},{key:"capitalizeFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"formatNum",value:function(e,t){return e?parseFloat(e.toString()).toFixed(t):0}},{key:"now",value:function(){return performance.now()}},{key:"log",value:function(e){return!0===e?console.log:function(){}}},{key:"distance",value:function(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}},{key:"getFullLink",value:function(t){if(e.isDefined(t)){if(!t.startsWith("http")){var n=window.location.protocol;n+=n.endsWith(":")?"//":"://";var r="".concat(n).concat(window.location.hostname);t=t.startsWith("/")?r+t:"".concat(r,"/").concat(t)}return t.endsWith("/")?t.slice(0,-1):t}}},{key:"isStringBooleanOrNumber",value:function(e){var t=i(e);return"string"===t||"boolean"===t||"number"===t}},{key:"logTree",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Bt)(),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=a(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw i}}}}((0,r.zw)().calcChildren(n));try{for(o.s();!(t=o.n()).done;){var l=t.value,s=l.isVisible()?i+"|  ":i+"x  ";"BI"===l.type?console.log("".concat(s).concat(l.oid," v:").concat(l.isVisible()," x:").concat(Math.floor(l.getX())," y:").concat(Math.floor(l.getY()),", absX:").concat(Math.floor(l.absX),", absY:").concat(Math.floor(l.absY),"  n-e-s:").concat(Math.floor(l.viewport.yNorth),"-").concat(Math.floor(l.viewport.yEast),"-").concat(Math.floor(l.viewport.ySouth)," w:").concat(Math.floor(l.getBaseWidth())," ww:").concat(Math.floor(l.getContentWidth())," h:").concat(Math.floor(l.getBaseHeight())," hh:").concat(Math.floor(l.getContentHeight()))):console.log("".concat(s).concat(l.oid," v:").concat(l.isVisible()," x:").concat(Math.floor(l.getX())," y:").concat(Math.floor(l.getY())," absX:").concat(Math.floor(l.absX),", absY:").concat(Math.floor(l.absY)," w:").concat(Math.floor(l.getWidth())," h:").concat(Math.floor(l.getHeight())," hc:").concat(Math.floor(l.getContentHeight()))),l.hasChildren()&&"exampleItem"!==l.type&&e.logTree(l,s)}}catch(e){o.e(e)}finally{o.f()}}},{key:"logBranch",value:function(e){for(var t=[];e;)t.unshift(e),e=e.bracket?e.bracket:e.getParent();for(var n=1;n<t.length;n++){var i=t[n-1],a=t[n];if((0,r.zw)().getChildren(i).indexOf(a)<0){console.log("branch is not valid: "+i.oid+", "+a.oid);break}}console.log(t.map((function(e){return e.oid})))}},{key:"mergeTargets",value:function(t,n){var r,i=n.targets,a=n.originalTargetNames,o=t.targets,l=[];a.forEach((function(t){e.isDefined(o[t])||l.push(t)})),(r=t.originalTargetNames).push.apply(r,l),l.forEach((function(e){var n=t.originalTargetNames.indexOf(e);o[e]=i[e],t.processNewTarget(e,n)}))}}],null&&l(t.prototype,null),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}()},432:function(e,t,n){n.d(t,{u:function(){return y}});var r,i=n(142),a=n(129),o=n(956);function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function f(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e){if("object"!=h(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"defaultActualValues",value:function(){return{x:0,y:0,width:0,height:0,leftMargin:0,rightMargin:0,topMargin:0,bottomMargin:0,opacity:1,scale:1,scrollLeft:0,scrollTop:0,borderRadius:0,children:[],isInFlow:!0,element:"div",canHaveDom:!0,isIncluded:!0,bracketThreshold:40,bracketSize:2,preventDefault:void 0,canDeleteDom:void 0}}},{key:"toCanonicalKey",value:function(t){var n,r=String(t),i=r.toLowerCase();return null!==(n=e.attributesToTargets[i])&&void 0!==n?n:r}},{key:"isLifeCycleMethod",value:function(t){return e.lifecycleMethodSet.has(t)||e.lifecyclePatterns.step.test(t)||e.lifecyclePatterns.end.test(t)}},{key:"isGpuPreferred",value:function(t){return!!e.gpuTargetMap[o.g.getTargetName(t)]}},{key:"isTransformKey",value:function(t){return!!e.transformMap[t]}}],null&&d(t.prototype,null),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();r=y,f(y,"transformOrder",{perspective:0,translateX:1,translateY:1,translateZ:1,translate:1,translate3d:1,rotate:2,rotateX:2,rotateY:2,rotateZ:2,rotate3d:2,skew:3,skewX:3,skewY:3,scale:4,scaleX:4,scaleY:4,scaleZ:4,scale3DX:4,scale3DY:4,scale3DZ:4}),f(y,"defaultTargetStyles",{position:"absolute",left:0,top:0,zIndex:1}),f(y,"transformMap",{x:!0,y:!0,z:!0,translateX:!0,translateY:!0,translateZ:!0,perspective:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,rotate3DX:!0,rotate3DY:!0,rotate3DZ:!0,rotate3DAngle:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,scale3DX:!0,scale3DY:!0,scale3DZ:!0,skew:!0,skewX:!0,skewY:!0}),f(y,"dimMap",{width:!0,height:!0,dim:!0}),f(y,"styleWithUnitMap",{width:!0,height:!0,fontSize:!0,lineHeight:!0,borderRadius:!0,padding:!0,paddingLeft:!0,paddingRight:!0,paddingTop:!0,paddingBottom:!0,left:!0,top:!0,right:!0,bottom:!0,wordSpacing:!0,letterSpacing:!0}),f(y,"colorMap",{color:!0,backgroundColor:!0,borderColor:!0,background:!0}),f(y,"styleTargetMap",c(c(c(c({},r.transformMap),r.styleWithUnitMap),r.colorMap),{},{dim:!0,color:!0,opacity:!0,zIndex:!0,border:!0,borderTop:!0,borderLeft:!0,borderRight:!0,borderBottom:!0})),f(y,"gpuTargetMap",c(c({},r.transformMap),{},{color:!0,backgroundColor:!0,borderColor:!0,opacity:!0,width:!0,height:!0})),f(y,"asyncStyleTargetMap",{position:!0,css:!0,style:!0,textAlign:!0,boxSizing:!0,transformStyle:!0,transformOrigin:!0,attributes:!0,justifyContent:!0,flexDirection:!0,alignItems:!0,display:!0,cursor:!0,fontFamily:!0,overflow:!0,overflowX:!0,overflowY:!0,textDecoration:!0,boxShadow:!0,fontWeight:!0,willChange:!0,backgroundImage:!0,backgroundSize:!0,flexWrap:!0,userSelect:!0,outline:!0}),f(y,"scaleMap",{scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,scale3DX:!0,scale3DY:!0,scale3DZ:!0}),f(y,"rotate3D",{rotate3DX:!0,rotate3DY:!0,rotate3DZ:!0}),f(y,"attributeTargetMap",{lang:!0,autoFocus:!0,placeholder:!0,autoComplete:!0,name:!0,type:!0,src:!0,href:!0,method:!0,size:!0,value:!0,maxLength:!0,minLength:!0,max:!0,min:!0,readonly:!0,required:!0,alt:!0,disabled:!0,action:!0,accept:!0,selected:!0,rows:!0,cols:!0,tabIndex:!0,role:!0,ariaLabel:!0,ariaCurrent:!0}),f(y,"mustExecuteTargets",{width:!0,height:!0,heightFromDom:!0,widthFromDom:!0,fetch:!0,fetchImage:!0}),f(y,"coreTargetMap",{x:!0,y:!0}),f(y,"ignoreRerun",c(c({},r.coreTargetMap),{},{isVisible:!0})),f(y,"ignoreTargetMethodNameMap",c(c({},r.coreTargetMap),{},{isVisible:!0})),f(y,"cssFunctionMap",{skew:{x:0,y:0},translate3d:{x:0,y:0,z:0},rotate3d:{x:0,y:0,z:0,a:0},scale3d:{x:0,y:0,z:0}}),f(y,"bypassInitialProcessingTargetMap",{onChildrenChange:!0,onVisibleChildrenChange:!0,onPageClose:!0}),f(y,"controlTargetMap",{defaultStyling:!0,styling:!0,reuseDomDefinition:!0,useWindowFrame:!0,canDeleteDom:!0,onDomEvent:!0,canHaveDom:!0}),f(y,"events",{mouseStart:{pointerdown:{eventName:"mousedown",inputType:"pointer",eventType:"start",order:2,windowEvent:!1,queue:!0,rateLimit:0},mousedown:{eventName:"mousedown",inputType:"mouse",eventType:"start",order:3,windowEvent:!1,queue:!0,rateLimit:0}},mouseEnd:{pointerup:{eventName:"mouseup",inputType:"pointer",eventType:"end",order:2,windowEvent:!1,queue:!0,rateLimit:0},mouseup:{eventName:"mouseup",inputType:"mouse",eventType:"end",order:3,windowEvent:!1,queue:!0,rateLimit:0}},clickEvents:{click:{eventName:"click",inputType:"mouse",eventType:"click",order:1,windowEvent:!1,queue:!1,rateLimit:0}},touchStart:{touchstart:{eventName:"touchstart",inputType:"touch",eventType:"start",order:1,windowEvent:!1,queue:!0,rateLimit:0}},touchEnd:{touchend:{eventName:"touchend",inputType:"touch",eventType:"end",order:1,windowEvent:!1,queue:!0,rateLimit:0}},cancelEvents:{touchcancel:{eventName:"touchend",inputType:"touch",eventType:"cancel",order:1,windowEvent:!1,queue:!0,rateLimit:0},pointercancel:{eventName:"mousecancel",inputType:"pointer",eventType:"cancel",order:2,windowEvent:!1,queue:!0,rateLimit:0},mousecancel:{eventName:"mouseup",inputType:"mouse",eventType:"cancel",order:3,windowEvent:!1,queue:!0,rateLimit:0}},windowEvents:{keyup:{eventName:"key",inputType:"",eventType:"key",order:1,windowEvent:!0,queue:!0,rateLimit:50},keydown:{eventName:"keydown",inputType:"",eventType:"keydown",order:1,windowEvent:!0,queue:!0,rateLimit:50},blur:{eventName:"blur",inputType:"mouse",eventType:"cancel",order:2,windowEvent:!0,queue:!0,rateLimit:0},resize:{eventName:"resize",inputType:"",eventType:"resize",order:1,windowEvent:!0,queue:!0,rateLimit:50},orientationchange:{eventName:"resize",inputType:"",eventType:"resize",order:1,windowEvent:!0,queue:!0,rateLimit:50},scroll:{eventName:"scroll",inputType:"",eventType:"scroll",order:1,windowEvent:!0,queue:!0,rateLimit:50}},containerScroll:{scroll:{eventName:"scroll",inputType:"",eventType:"scroll",order:1,windowEvent:!1,queue:!0,rateLimit:50}},inputEvents:{input:{eventName:"input",inputType:"",eventType:"input",order:1,windowEvent:!1,queue:!0,rateLimit:50}},changeEvents:{change:{eventName:"change",inputType:"",eventType:"change",order:1,windowEvent:!1,queue:!0,rateLimit:0}},submitEvents:{submit:{eventName:"submit",inputType:"form",eventType:"submit",order:1,windowEvent:!1,queue:!0,rateLimit:0}},popState:{popstate:{eventName:"popstate",inputType:"",eventType:"popstate",order:1,windowEvent:!0,queue:!0,rateLimit:0}},leaveEvents:{pointerleave:{eventName:"mouseleave",inputType:"pointer",eventType:"leave",order:2,windowEvent:!1,queue:!0,rateLimit:0},mouseleave:{eventName:"mouseleave",inputType:"mouse",eventType:"leave",order:3,windowEvent:!1,queue:!0,rateLimit:0}},enterEvents:{pointerenter:{eventName:"mouseenter",inputType:"pointer",eventType:"enter",order:2,windowEvent:!1,queue:!0,rateLimit:0},mouseenter:{eventName:"mouseenter",inputType:"mouse",eventType:"enter",order:3,windowEvent:!1,queue:!0,rateLimit:0}},moveEvents:{touchmove:{eventName:"touchmove",inputType:"touch",eventType:"move",order:1,windowEvent:!1,queue:!0,rateLimit:50},pointermove:{eventName:"mousemove",inputType:"pointer",eventType:"move",order:2,windowEvent:!1,queue:!0,rateLimit:50},mousemove:{eventName:"mousemove",inputType:"mouse",eventType:"move",order:3,windowEvent:!1,queue:!0,rateLimit:50}},documentEvents:{touchmove:{eventName:"touchmove",inputType:"touch",eventType:"move",order:1,windowEvent:!1,queue:!0,rateLimit:50},pointermove:{eventName:"mousemove",inputType:"pointer",eventType:"move",order:2,windowEvent:!1,queue:!0,rateLimit:50},mousemove:{eventName:"mousemove",inputType:"mouse",eventType:"move",order:3,windowEvent:!1,queue:!0,rateLimit:50},mouseleave:{eventName:"mouseleave",inputType:"mouse",eventType:"leave",order:3,windowEvent:!1,queue:!0,rateLimit:50},pointerup:{eventName:"mouseup",inputType:"pointer",eventType:"end",order:2,windowEvent:!1,queue:!0,rateLimit:0},mouseup:{eventName:"mouseup",inputType:"mouse",eventType:"end",order:3,windowEvent:!1,queue:!0,rateLimit:0},touchend:{eventName:"touchend",inputType:"touch",eventType:"end",order:1,windowEvent:!1,queue:!0,rateLimit:0}},wheelEvents:{wheel:{eventName:"wheel",inputType:"",eventType:"wheel",order:1,windowEvent:!1,queue:!0,rateLimit:50},mousewheel:{eventName:"wheel",inputType:"",eventType:"wheel",order:1,windowEvent:!1,queue:!0,rateLimit:50}}}),f(y,"attributesToTargets",{onstart:"onStart",onend:"onEnd",onkey:"onKey",onkeydown:"onKeyDown",onanykey:"onAnyKey",onclick:"onClick",onanyclick:"onAnyClick",onhover:"onHover",onswipe:"onSwipe",onanyswipe:"onAnySwipe",onpinch:"onPinch",onenter:"onEnter",onleave:"onLeave",onblur:"onBlur",onfocus:"onFocus",onscroll:"onScroll",onscrollleft:"onScrollLeft",onscrolltop:"onScrollTop",onwindowscroll:"onWindowScroll",onpopstate:"onPopState",onchange:"onChange",oninput:"onInput",onsubmit:"onSubmit",onvisible:"onVisible",onresize:"onResize",textalign:"textAlign",preventdefault:"preventDefault",translatex:"translateX",translatey:"translateY",translatez:"translateZ",rotate3dx:"rotate3DX",rotate3dy:"rotate3DY",rotate3dz:"rotate3DZ",rotate3dangle:"rotate3DAngle",scale3dx:"scale3DX",scale3dy:"scale3DY",scale3dz:"scale3DZ",skewx:"skewX",skewy:"skewY",lineheight:"lineHeight",fontsize:"fontSize",borderradius:"borderRadius",letterspacing:"letterSpacing",backgroundcolor:"backgroundColor",backgroundimage:"backgroundImage",backgroundsize:"backgroundSize",bordertop:"borderTop",borderleft:"borderLeft",borderright:"borderRight",borderbottom:"borderBottom",boxsizing:"boxSizing",transformstyle:"transformStyle",transformorigin:"transformOrigin",justifycontent:"justifyContent",flexdirection:"flexDirection",flexwrap:"flexWrap",alignitems:"alignItems",fontfamily:"fontFamily",overflowx:"overflowX",overflowy:"overflowY",textdecoration:"textDecoration",boxshadow:"boxShadow",fontweight:"fontWeight",willchange:"willChange",domholder:"domHolder",shouldcalculatechildtargets:"shouldCalculateChildTargets",domparent:"domParent",containeroverflowmode:"containerOverflowMode",itemoverflowmode:"itemOverflowMode",onvisiblechildrenchange:"onVisibleChildrenChange",onchildrenchange:"onChildrenChange",isvisible:"isVisible",isinflow:"isInFlow",basewidth:"baseWidth",baseheight:"baseHeight",paddingleft:"paddingLeft",paddingright:"paddingRight",paddingtop:"paddingTop",paddingbottom:"paddingBottom",userselect:"userSelect",arialabel:"ariaLabel",ariacurrent:"ariaCurrent",tabindex:"tabIndex"}),f(y,"targetToEventsMapping",{onStart:["touchStart","mouseStart"],onEnd:[],onKey:[],onKeyDown:[],onAnyKey:[],onBlur:[],onFocus:[],onClick:["clickEvents","touchStart","mouseStart"],onAnyClick:["clickEvents","touchStart","mouseStart"],onHover:["moveEvents"],onSwipe:["touchStart","mouseStart"],onAnySwipe:["touchStart","mouseStart"],onPinch:["touchStart"],onEnter:["enterEvents"],onLeave:["leaveEvents"],onScroll:["touchStart","mouseStart","wheelEvents"],onScrollLeft:["touchStart","mouseStart","wheelEvents"],onScrollTop:["touchStart","mouseStart","wheelEvents"],onWindowScroll:["containerScroll"],onPopState:["popState"],onChange:["changeEvents"],onInput:["inputEvents"],onSubmit:["submitEvents"]}),f(y,"internalEventMap",{onDomEvent:function(e){return e.hasDomNow},onVisible:function(e){return e.isNowVisible},onResize:function(e){var t=e.getDimLastUpdate();if(!t)return!1;var n=e.getParent(),r=(0,i.S9)(),a=n?n.getDimLastUpdate():0;return(a>r?a:r)>t}}),f(y,"allEventMap",{onStart:function(e){return(0,i.kQ)().isStartHandler(e)},onEnd:function(e){return(0,i.kQ)().isEndHandler(e)},onAnySwipe:function(){return(0,i.kQ)().isSwipeEvent()&&a.d.isDefined((0,i.kQ)().swipeStartX)},onHover:function(e){return(0,i.kQ)().isMoveEvent()&&(0,i.kQ)().isHoverHandler(e)},onClick:function(e){return(0,i.kQ)().isClickEvent()&&(0,i.kQ)().isClickHandler(e)},onAnyClick:function(){return(0,i.kQ)().isClickEvent()},onEnter:function(e){return(0,i.kQ)().isEnterHandler(e)},onLeave:function(e){return(0,i.kQ)().isLeaveHandler(e)},onSwipe:function(e){return(0,i.kQ)().isSwipeHandler(e)&&(0,i.kQ)().isSwipeEvent()&&a.d.isDefined((0,i.kQ)().swipeStartX)},onFocus:function(e){return(0,i.kQ)().onFocus(e)},onBlur:function(e){return(0,i.kQ)().onBlur(e)},onPinch:function(e){return(0,i.kQ)().isPinchHandler(e)},onKey:function(e){return"key"===(0,i.kQ)().getEventType()&&(0,i.kQ)().currentKey&&(0,i.kQ)().currentHandlers.focus===e&&(0,i.kQ)().currentHandlers.justFocused!==e},onKeyDown:function(e){return"keydown"===(0,i.kQ)().getEventType()&&(0,i.kQ)().currentKey&&(0,i.kQ)().currentHandlers.focus===e&&(0,i.kQ)().currentHandlers.justFocused!==e},onAnyKey:function(){return"key"===(0,i.kQ)().getEventType()&&(0,i.kQ)().currentKey},onScroll:function(e){return(0,i.kQ)().isScrollLeftHandler(e)&&(0,i.kQ)().deltaX()||(0,i.kQ)().isScrollTopHandler(e)&&(0,i.kQ)().deltaY()},onScrollTop:function(e){return"horizontal"!==(0,i.kQ)().getOrientation()&&(0,i.kQ)().isScrollTopHandler(e)&&(0,i.kQ)().deltaY()},onScrollLeft:function(e){return"vertical"!==(0,i.kQ)().getOrientation()&&(0,i.kQ)().isScrollLeftHandler(e)&&(0,i.kQ)().deltaX()},onWindowScroll:function(){return"scroll"===(0,i.kQ)().getEventType()},onPopState:function(){return"popstate"===(0,i.kQ)().getEventType()},onChange:function(e){return"change"===(0,i.kQ)().getEventType()&&(0,i.kQ)().isFormHandler(e)},onInput:function(e){return"input"===(0,i.kQ)().getEventType()&&(0,i.kQ)().isFormHandler(e)},onSubmit:function(){return"submit"===(0,i.kQ)().getEventType()}}),f(y,"excludedTargetKeys",new Set(["originalTargetName","originalTModel","activateNextTarget","active","childAction","fetchAction"])),f(y,"lifecycleCallbackSet",new Set(["onValueChange","onImperativeEnd","onImperativeStep","onStepsEnd","onSuccess","onError"])),f(y,"lifecycleCoreSet",new Set(["value","steps","cycles","enabledOn","loop","interval"])),f(y,"lifecycleMethodSet",new Set([].concat(l(r.lifecycleCallbackSet),l(r.lifecycleCoreSet)))),f(y,"lifecyclePatterns",{step:/^on[A-Za-z]+Step$/,end:/^on[A-Za-z]+End$/}),f(y,"eventSet",new Set([].concat(l(Object.keys(r.allEventMap)),l(Object.keys(r.internalEventMap))))),f(y,"styleSet",new Set([].concat(l(Object.keys(r.styleTargetMap)),l(Object.keys(r.asyncStyleTargetMap)),l(Object.keys(r.attributeTargetMap))))),f(y,"reservedKeywordSet",new Set([].concat(l(r.styleSet),l(Object.keys(r.defaultActualValues())),l(Object.keys(r.allEventMap)),l(Object.keys(r.internalEventMap)),["html","isInFlow","domHolder","domParent","gap","widthFromDom","heightFromDom","requiresDom","preventDefault","canDeleteDom","textOnly","styling","$dom","defaultStyling","reuseDomDefinition","canHaveDom","excludeXYCalc","excludeX","excludeY","containerOverflowMode","itemOverflowMode","baseElement","element","otype","calculateChildren","domIsland","bracketThreshold","bracketSize","sourceDom"]))),f(y,"activationKeywordSet",new Set(["originalTModel","originalTargetName","activateNextTarget"]))},985:function(e,t,n){n.d(t,{j:function(){return m}});var r=n(956),i=n(347),a=n(432),o=n(528),l=n(129),s=n(144),u=n(736),c=n(142);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function p(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"prepareTarget",value:function(e,t){r.g.currentTargetName=t,r.g.currentTModel=e,e.isExecuted(t)&&e.getTargetCycles(t)>0&&(e.getTargetCycle(t)<e.getTargetCycles(t)?e.incrementTargetCycle(t,e.getTargetCycle(t)):e.resetTargetCycle(t),e.resetTargetStep(t),e.resetTargetInitialValue(t))}},{key:"executeDeclarativeTarget",value:function(t,n){t.allTargetMap[n]=n,e.resolveTargetValue(t,n),e.updateTarget(t,t.targetValues[n],n,!1),t.isTargetDone(n)&&r.g.shouldActivateNextTarget(t,n)}},{key:"assignImperativeTargetValue",value:function(e,t,n,i){var a;e.targetValues[t]=e.targetValues[t]||r.g.emptyValue();var o=e.targetValues[t];return o.isImperative=!0,o.originalTargetName=n,o.originalTModel=i,(null===(a=e.animatingMap)||void 0===a?void 0:a.has(t))&&e.getTargetSteps(t)>0&&(0,c.s)().cancelKey(e,t),o}},{key:"executeImperativeTarget",value:function(t,n,o,s,u,c,h,f){var y;if("string"==typeof n){var g=r.g.getTargetName(n);n=n.endsWith("+")?n:n+"+",t.allTargetMap[g]=n}if(i.D.isListTarget(o))y=e.assignImperativeTargetValue(t,n,h,f),e.assignListTarget(t,n,y,o.list,o.list[0],s,u,c);else if(i.D.isObjectTarget(n,o)){var p=a.u.cssFunctionMap[n]?v(v({},a.u.cssFunctionMap[n]),o):o;Object.keys(p).forEach((function(a){var o=p[a];if("object"===d(o)&&!i.D.isListTarget(o)){var v=r.g.getValueStepsCycles(t,p[a],n);o=v[0],s=l.d.isDefined(v[1])?v[1]:s,u=l.d.isDefined(v[2])?v[2]:u}e.executeImperativeTarget(t,a,o,s,u,c,h,f)}))}else if("object"!==d(o)||i.D.isListTarget(o))y=e.assignImperativeTargetValue(t,n,h,f),e.assignSingleTarget(y,o,void 0,s,0,u,c),y.step=0;else{var m=r.g.getValueStepsCycles(t,o,n);o!==m[0]?(o=m[0],s=l.d.isDefined(m[1])?m[1]:s,u=l.d.isDefined(m[2])?m[2]:u,e.executeImperativeTarget(t,n,o,s,u,c,h,f)):(y=e.assignImperativeTargetValue(t,n,h,f),e.assignSingleTarget(y,o,void 0,s,0,u,c),y.step=0)}y&&(e.updateTarget(t,y,n,!0),t.isTargetDone(n)&&r.g.shouldActivateNextTarget(t,n))}},{key:"updateTarget",value:function(t,n,r,i){t.setLastUpdate(r),0===t.getTargetSteps(r)&&e.snapActualToTarget(t,r),n.executionCount++,n.executionFlag=!0,t.addToStyleTargetList(r,i),t.setTargetMethodName(r,"value"),t.updateTargetStatus(r),!a.u.ignoreRerun[r]&&t.shouldScheduleRun(r)&&(0,c.fB)().schedule(30,"updateTarget2-"+t.oid+"-"+r)}},{key:"assignListTarget",value:function(e,t,n,r,i,a,o,s){var c;n.valueList=r,n.stepList=Array.isArray(a)?a:l.d.isDefined(a)&&a>0?[a]:[1],n.intervalList=Array.isArray(o)?o:o?[o]:void 0,n.easingList=Array.isArray(s)?s:l.d.isDefined(s)?[s]:[u.G.linear],n.cycle=1,n.value=r[1],n.initialValue=i,n.steps=n.stepList[0],n.interval=null!==(c=n.intervalList)&&void 0!==c?c:0,n.easing=n.easingList[0],n.step=0,n.cycles=0,e.val(t,i),e.setActual(t,i)}},{key:"assignSingleTarget",value:function(e,t,n,r,i,a,o){delete e.valueList,delete e.stepList,delete e.intervalList,delete e.easingList,e.initialValue=n,e.lastValue=e.value,e.value=t,e.steps=r||0,e.cycles=i||0,e.interval=a||0,e.easing=o}},{key:"snapActualToTarget",value:function(e,t){var n=e.targetValues[t].value,i="function"==typeof n?n.call(e):n;if(e.val(t)!==i)return e.hasValidAnimation()&&e.canBeAnimated(t)?void s.a.overrideAnimatedKeyWithSnap(e,t,i):(e.val(t,i),e.setActual(t,i),void r.g.handleValueChange(e,t))}},{key:"resolveTargetValue",value:function(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.getTargetCycle(n),u=!t.targetValues[n]&&l.d.isDefined(t.targets[n].initialValue)?t.targets[n].initialValue:void 0,f=r.g.getValueStepsCycles(t,t.targets[n],n,s),v=f[0],y=f[1]||0,g=f[2]||0,p=f[3]||0,m=t.targetValues[n]||r.g.emptyValue();t.targetValues[n]=m;var b=l.d.isDefined(t.targets[n].easing)?t.targets[n].easing:void 0;if(i.D.isChildTarget(n,v))t.addChild(v),e.assignSingleTarget(m,v,void 0,0,p,g);else if(i.D.isChildrenTarget(n,v))(Array.isArray(v)?v:v?[v]:[]).forEach((function(e){t.addChild(e)})),e.assignSingleTarget(m,v,void 0,0,p,g);else if(i.D.isChildObjectTarget(n,t.targets[n])){var T=new o.c(n,t.targets[n]);t.addChild(T);var w=Object.fromEntries(Object.entries(v).filter((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0];return!a.u.excludedTargetKeys.has(t)})));e.assignSingleTarget(m,w,void 0,0,p,g)}else if("object"===d(v)&&!0===v.asChild){var k=new o.c(n,v);t.addChild(k),e.assignSingleTarget(m,v,void 0,0,p,g)}else if(i.D.isFetchTarget(n,v))(0,c.qI)().fetch(t,v),e.assignSingleTarget(m,v,void 0,0,p,g);else if(i.D.isFetchImageTarget(n,v))(0,c.qI)().fetchImage(t,v),e.assignSingleTarget(m,v,void 0,0,p,g);else if(i.D.isListTarget(v))e.assignListTarget(t,n,m,v.list,v.list[0],y,g,b);else{var S,M;y>0&&!l.d.areEqual(t.val(n),v,null!==(S=null===(M=t.targets[n])||void 0===M?void 0:M.deepEquality)&&void 0!==S&&S)&&t.resetTargetStep(n),e.assignSingleTarget(m,v,u,y,p,g,b)}}}],null&&g(t.prototype,null),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}()},347:function(e,t,n){n.d(t,{D:function(){return c}});var r=n(956),i=n(432),a=n(129),o=n(528);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"isPlainObject",value:function(e){return!!e&&"object"===l(e)&&!Array.isArray(e)&&e.constructor===Object}},{key:"hasLifecycle",value:function(e){for(var t in e)if("function"==typeof e[t]&&i.u.isLifeCycleMethod(t))return!0;return!1}},{key:"hasTargetSuffix",value:function(e){return/\${1,2}$/.test(e)||e.startsWith("_")}},{key:"isTargetKey",value:function(e){return e=r.g.getTargetName(e),i.u.reservedKeywordSet.has(e)}},{key:"scoreChild",value:function(t){var n=0,r=0;for(var a in t){var o=t[a];if(!i.u.defaultTargetStyles[a]&&!i.u.excludedTargetKeys.has(a)&&"active"!==a){if(e.hasTargetSuffix(a))return!0;if(this.hasLifecycle(o))return!0;e.isTargetKey(a)?n++:i.u.activationKeywordSet.has(a)||"function"==typeof t[a]||r++}}return n-r>=1}},{key:"classifyEntry",value:function(t,n){return e.isPlainObject(n)?e.isTargetKey(t)?"target2":"originalTModel"===t?"target3":n instanceof o.c?"children":e.isListTarget(n)||e.isFetchTarget(t,n)||e.isFetchImageTarget(t,n)?"target4":this.hasLifecycle(n)?"target5":this.scoreChild(n)?"children":"target6":"target1"}},{key:"isChildrenTarget",value:function(e,t){return"children"===r.g.getTargetName(e)&&"object"===l(t)}},{key:"isChildTarget",value:function(e,t){return"child"===r.g.getTargetName(e)&&"object"===l(t)}},{key:"isChildObjectTarget",value:function(t,n){return"children"===e.classifyEntry(t,n)}},{key:"isValueStepsCycleArray",value:function(t){if(!Array.isArray(t)||0===t.length||t.length>4)return!1;if("number"!=typeof t[0]&&"string"!=typeof t[0]&&!e.isListTarget(t[0]))return!1;for(var n=1;n<t.length;n++){var r=t[n],i=n===t.length-1;if(!("function"==typeof r&&i&&t.length>=4)&&"number"!=typeof r)return!1}return e.isListTarget(t[0])||t.length>=2}},{key:"isListTarget",value:function(e){return"object"===l(e)&&null!==e&&Array.isArray(e.list)}},{key:"isFetchTarget",value:function(e,t){return!("fetch"!==r.g.getTargetName(e)||"string"!=typeof t&&!Array.isArray(t)&&(!t||"object"!==l(t)||"string"!=typeof t.url))}},{key:"isFetchImageTarget",value:function(e,t){return"fetchImage"===r.g.getTargetName(e)&&t&&("string"==typeof t||Array.isArray(t))}},{key:"isObjectTarget",value:function(e,t){return"style"!==r.g.getTargetName(e)&&"object"===l(t)&&null!==t&&!Array.isArray(t)&&Object.getPrototypeOf(t)===Object.prototype}},{key:"isIntervalTarget",value:function(e){return!!e.isInterval||a.d.isDefined(e.interval)&&!a.d.isDefined(e.steps)&&!a.d.isDefined(e.cycles)&&!a.d.isDefined(e.value)}}],null&&s(t.prototype,null),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}()},956:function(e,t,n){n.d(t,{g:function(){return y}});var r=n(142),i=n(129),a=n(347),o=n(432),l=n(144);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"emptyValue",value:function(){return{value:void 0,actual:void 0,step:0,steps:0,cycle:0,cycles:0,interval:0,initialValue:void 0,scheduleTimeStamp:void 0,lastUpdate:0,status:"",executionCount:0,executionFlag:!1,isImperative:!1,originalTargetName:void 0,easing:void 0,activationTime:i.d.now(),creationTime:i.d.now()}}},{key:"getTargetName",value:function(e){if(e){for(var t=e.startsWith("_")?1:0,n=e.length;n>t&&"$"===e[n-1];)n--;return"+"===e[n-1]&&n--,e.slice(t,n)}}},{key:"bindTarget",value:function(t,n,i,a,l){var s=t.targets[n],u=void 0!==i?t.getLastUpdate(i):void 0,c=function(){return void 0!==i?t.getLastUpdate(i):void 0},h=function(){var e=c();return(void 0!==u||void 0!==e)&&(void 0===u&&void 0!==e||e!==u)};s.originalTargetName=e.currentTargetName,s.originalTModel=e.currentTModel;var d=n.startsWith("_")?n.slice(1):n,f=!(!a||!a.endsWith("$"));s.activateNextTarget||(s.activateNextTarget=f?a:t.originalTargetNames.slice(l+1).find((function(e){return e.endsWith("$$")}))),Object.keys(s).forEach((function(a){var l=s[a];("value"===a||"function"==typeof l&&o.u.isLifeCycleMethod(a))&&(s[a]=function(){var s;o.u.lifecycleCoreSet.has(a)||(e.currentTargetName=n,e.currentTModel=t),this.key=d,this.value=this.val(d),this.prevTargetValue=function(){if(i)return(0,r.qI)().isLoading(t,i)?(0,r.qI)().getLoadingItemValue(t,i,n):t.targetValues[i]?t.targetValues[i].actual:t.val(i)}(),this.isPrevTargetUpdated=h;var f="function"==typeof l?l.apply(this,arguments):l;return u=null!==(s=c())&&void 0!==s?s:u,f})}))}},{key:"shouldActivateNextTarget",value:function(t,n){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!(o>4)&&t){if(t.isTargetImperative(n)){var u=t.targetValues[n],c=u.originalTModel,h=u.originalTargetName;return e.shouldActivateNextTarget(c,h,o+1,l,!0),void e.cleanupTarget(t,n)}var d=t.targets[n];if(d){var f=d.activateNextTarget,v=null!==(a=null==f?void 0:f.endsWith("$$"))&&void 0!==a&&a,y=d.fetchAction,g=!1;if(f){var p=t.getLastUpdate(n)>t.getTargetActivationTime(f)||t.getTargetActivationTime(f)===i.d.now();if(!v&&0===l&&(p||s)||v&&p)if(y)if(v)!0===e.arePreviousTargetsComplete(t,f)&&(e.activateTarget(t,f),g=!0);else for(;(0,r.qI)().isNextLoadingItemSuccessful(t,n);)t.activatedTargets.indexOf(f)>=0?t.activatedTargets.push(f):e.activateTarget(t,f),(0,r.qI)().nextActiveItem(t,n),g=!0;else v?!0===e.arePreviousTargetsComplete(t,f)&&(t.removeFromActiveTargets(f),e.activateTarget(t,f),g=!0):v||(t.activatedTargets.indexOf(f)>=0&&!t.isTargetUpdating(n)?t.activatedTargets.push(f):(e.activateTarget(t,f),g=!0));else t.isTargetDone(f)&&e.cleanupTarget(t,f)}if(!g&&!t.hasAnyUpdates()){var m=d.originalTModel,b=d.originalTargetName,T=d.activateNextTarget;T&&!y?e.shouldActivateNextTarget(t,T,o,l+1,s):m&&e.shouldActivateNextTarget(m,b,o+1,l,s)}e.cleanupTarget(t,n)}}}},{key:"cleanupTarget",value:function(t,n){if(!t.isTargetComplete(n)&&e.isTargetFullyCompleted(t,n)){t.setTargetComplete(n);var i=t.targets[n];if((null==i?void 0:i.fetchAction)&&(0,r.qI)().isLoadingComplete(t,n)){var a=t.fetchActionTargetList.indexOf(n);a>=0&&t.fetchActionTargetList.splice(a,1),i.fetchAction=!1}}}},{key:"activateTargets",value:function(t,n){for(;n;){t.isTargetActive(n)||t.isTargetUpdating(n)||e.activateTarget(t,n);var r=t.targets[n].activateNextTarget;n=r&&!r.endsWith("$$")&&r.endsWith("$")?r:void 0}}},{key:"activateTarget",value:function(e,t){e.activateTarget(t)}},{key:"isTModelComplete",value:function(t){var n,r,i,a,o=t.state();return!(null!==(n=o.updatingTargetList)&&void 0!==n&&n.length)&&!(null!==(r=o.activeTargetList)&&void 0!==r&&r.length)&&!t.hasAnimatingTargets()&&e.isFetchingComplete(t)&&!t.hasAnimatingChildren()&&!t.hasUpdatingChildren()&&!t.hasActiveChildren()&&!(null!==(i=o.lastChildrenUpdate)&&void 0!==i&&null!==(i=i.deletions)&&void 0!==i&&i.length)&&!(null!==(a=o.lastChildrenUpdate)&&void 0!==a&&null!==(a=a.additions)&&void 0!==a&&a.length)&&!t.pausedBatch}},{key:"isFetchingComplete",value:function(e){var t=e.state().fetchActionTargetList;if(!t)return!0;var n,i=c(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(!(0,r.qI)().isLoadingComplete(e,a))return!1}}catch(e){i.e(e)}finally{i.f()}return!0}},{key:"isTargetFullyCompleted",value:function(t,n){var r=!t.isTargetUpdating(n)&&!0===t.isTargetCompleteDeep(n);return r&&!t.isTargetImperative(n)&&(r=!t.hasUpdatingImperativeTargets(n)),r&&n.endsWith("$$")&&(r=!0===e.arePreviousTargetsComplete(t,n)),r}},{key:"arePreviousTargetsComplete",value:function(t,n){for(var r=t.functionTargetNames.findIndex((function(e){return n===e}))-1;r>=0;r--){var i=t.functionTargetNames[r];if(!t.isTargetImperative(i)){if(t.hasUpdatingImperativeTargets(i))return t.oid+"."+i+": "+t.getUpdatingImperativeTargets(i);if(!0!==t.isTargetCompleteDeep(i)){var a,o,l=u(null!==(a=null===(o=t.activeChildrenMap)||void 0===o?void 0:o.values())&&void 0!==a?a:[]);return t.oid+"."+i+" ==> "+t.isTargetCompleteDeep(i)+" -1- "+t.getTargetStatus(i)+" -2- "+e.getUpdatingChildren(t,i)+" -3- "+l.map((function(e){return e.oid+":"+e.hasAnyUpdates()}))}}}return!0}},{key:"isTargetCompleteDeep",value:function(t,n){var i=t.targets[n];if(i){var a=s(i.value);if(o.u.controlTargetMap[n])return!0;if(!i.fetchAction&&("string"===a||"number"===a||"boolean"===a))return!0;if(!t.isTargetComplete(n)&&!t.isTargetDone(n))return 1;if(i.childAction&&e.getUpdatingChildren(t,n)>0)return 2;if(i.childAction&&t.hasActiveChildren())return 3;if(i.childAction&&!0!==e.areTargetChildrenComplete(i.childAction))return 4;if(i.fetchAction&&!(0,r.qI)().isLoadingSuccessful(t,n))return 5}return!0}},{key:"areTargetChildrenComplete",value:function(t){if(!t)return!0;var n,i=c(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.isVisible()||!a.visibilityStatus){if(r.qw.tmodelIdMap[a.oid]&&!e.isTModelComplete(a))return!1;if(a.hasChildren()&&!e.areTargetChildrenComplete(a.getChildren()))return!1}}}catch(e){i.e(e)}finally{i.f()}return!0}},{key:"getUpdatingChildren",value:function(e,t){var n,r,i,a,o=0;return[].concat(u(null!==(n=null===(r=e.updatingChildrenMap)||void 0===r?void 0:r.values())&&void 0!==n?n:[]),u(null!==(i=null===(a=e.animatingChildrenMap)||void 0===a?void 0:a.values())&&void 0!==i?i:[])).filter((function(e){return e.isVisible()||!e.visibilityStatus})).forEach((function(e){var n;[].concat(u(null!==(n=e.updatingTargetList)&&void 0!==n?n:[]),u(e.animatingMap?u(e.animatingMap.keys()):[])).forEach((function(n){var r;if(e.isTargetImperative(n)){var i,a=null===(i=e.targetValues[n])||void 0===i?void 0:i.originalTargetName;if(a===t)o++;else if(a){var l,s;(null===(s=(null===(l=e.targetValues[n])||void 0===l?void 0:l.originalTModel).targets[a])||void 0===s?void 0:s.originalTargetName)===t&&o++}}else(null===(r=e.targets[n])||void 0===r?void 0:r.originalTargetName)===t&&o++}))})),o}},{key:"isTargetAlreadyUpdating",value:function(t,n){var r=e.getTargetName(n);return!(n===r||t.isTargetImperative(n)||!t.isTargetImperative(r)||t.isTargetComplete(r))}},{key:"activateSingleTarget",value:function(e,t){e.targets[t]&&e.canTargetBeActivated(t)&&(e.isTargetEnabled(t)?e.activateTarget(t):e.addToActiveTargets(t))}},{key:"markChildAction",value:function(t,n){var r=e.currentTargetName,i=t.targets[r];"object"===s(i)&&(i.childAction?i.childAction.includes(n)||i.childAction.push(n):i.childAction=[n])}},{key:"markFetchAction",value:function(t){if(t){var n=e.currentTargetName,r=t.targets[n];"object"===s(r)&&(r.fetchAction=!0,t.fetchActionTargetList.includes(n)||t.fetchActionTargetList.push(n))}}},{key:"wrapTarget",value:function(t,n,r){return o.u.controlTargetMap[r]||(t.targets[r]={value:n,originalTargetName:e.currentTargetName,originalTModel:e.currentTModel},n=t.targets[r]),n}},{key:"getValueStepsCycles",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.getTargetCycle(r),l=n&&n.valueOnly,u=t.val(r),c=null,h=0,d=0,f=0;return function v(y){return Array.isArray(y)?l||!a.D.isValueStepsCycleArray(y)?[y,h,d,f]:Array.isArray(n)?n:(c=y[0],h=y.length>=2?y[1]:h,d=y.length>=3?y[2]:d,f=y.length>=4?y[3]:f,[c,h,d,f]):"object"===s(y)&&null!==y&&Object.getPrototypeOf(y)===Object.prototype?(c=e.runTargetValue(t,y,r,o,u),h="function"==typeof y.steps?y.steps.call(t,o):i.d.isDefined(y.steps)?y.steps:0,d="function"==typeof y.interval?y.interval.call(t,o):i.d.isDefined(y.interval)?y.interval:0,f="function"==typeof y.cycles?y.cycles.call(t,o,t.getTargetCycles(r)):i.d.isDefined(y.cycles)?y.cycles:0,Array.isArray(c)?v(c):[c,h,d,f]):"function"==typeof y?v(y.call(t,o,u)):[y,h,d,f]}(n)}},{key:"runTargetValue",value:function(t,n,a,l,s){var u=e.getTargetName(a);return o.u.allEventMap[u]?"function"==typeof n.value?n.value.call(t,(0,r.kQ)().getCurrentOriginalEvent(),l,s):i.d.isDefined(n.value)?n.value:n:t.val("___".concat(a))?"function"==typeof n.value?n.value.call(t,t.val("___".concat(a)),l,s):i.d.isDefined(n.value)?n.value:n:"function"==typeof n.value?n.value.call(t,l,s):i.d.isDefined(n.value)?n.value:n}},{key:"resetBeforeDeletion",value:function(e){var t;e.updatingTargetList.length=0,e.activeTargetList.length=0,null===(t=e.animatingMap)||void 0===t||t.clear(),e.clearUpdatingChildren(),e.clearActiveChildren(),e.clearAnimatingChildren(),(0,r.zw)().domIslandSet.delete(e),delete r.qw.tmodelIdMap[e.oid]}},{key:"getIntervalValue",value:function(e,t,n){var r="function"==typeof n?n.call(e,t):n;return i.d.isNumber(r)?r:0}},{key:"scheduleExecution",value:function(e,t){var n=e.getTargetInterval(t),r=i.d.now();if(n<=0)return 0;if(e.isTargetImperative(t)&&0===e.getTargetStep(t))return e.setScheduleTimeStamp(t,r),0;var a=e.getScheduleTimeStamp(t);if(i.d.isDefined(a)){var o=r-a;return Math.max(n-o,0)}return e.setScheduleTimeStamp(t,r),n}},{key:"getTargetSchedulePeriod",value:function(e,t,n){var r,a=i.d.now(),o=0;return n>0?i.d.isDefined(e.getTargetTimeStamp(t))?o=(r=a-e.getTargetTimeStamp(t))<n?n-r:0:(e.setTargetTimeStamp(t,a),o=n):i.d.isDefined(e.getTargetTimeStamp(t))&&(o=(r=a-e.getTargetTimeStamp(t))<0?-r:0),o}},{key:"getAnimationHooks",value:function(){return{morph:function(e,t,n,r,i,a){return l.a.morph(e,t,n,r,i,a)},fireOnStep:function(e,t,n){return(0,r.HJ)().fireOnStep(e,t,n)},fireOnEnd:function(e,t){return(0,r.HJ)().fireOnEnd(e,t)}}}},{key:"getOriginalNames",value:function(e,t){var n,r,i,a,o,l;return e.isTargetImperative(t)?(n=null===(i=e.targetValues[t])||void 0===i?void 0:i.originalTModel,r=null===(a=e.targetValues[t])||void 0===a?void 0:a.originalTargetName):(n=null===(o=e.targets[t])||void 0===o?void 0:o.originalTModel,r=null===(l=e.targets[t])||void 0===l?void 0:l.originalTargetName),{originalTModel:n,originalTargetName:r}}},{key:"handleValueChange",value:function(t,n){var r=t.targets[n];r||(n=e.getTargetName(n),r=t.targets[n]);var a=t.val(n),o=t.lastVal(n);return"object"===s(r)&&"function"==typeof r.onValueChange&&(!i.d.areEqual(a,o,r.deepEquality)&&(r.onValueChange.call(t,a,o,t.getTargetCycle(n)),t.setTargetMethodName(n,"onValueChange")),!0)}}],null&&f(t.prototype,null),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}()},675:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}n.d(t,{L:function(){return o}});var o=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.xNext=0,this.xNorth=0,this.xWest=0,this.xEast=0,this.xSouth=0,this.scrollLeft=0,this.scrollTop=0,this.absX=0,this.absY=0,this.xOverflowReset=0,this.xOverflowLimit=0,this.yNext=0,this.yNorth=0,this.yWest=0,this.yEast=0,this.ySouth=0,this.container=void 0,this.time=0},(t=[{key:"setCurrentChild",value:function(e){this.currentChild=e}},{key:"setLocation",value:function(){var e=this.currentChild;e.targets.excludeXYCalc||(e.x=this.xNext+e.getLeftMargin(),e.y=this.yNext+e.getTopMargin())}},{key:"isOverflow",value:function(){return"BI"!==this.currentChild.type&&(!("always"!==this.container.getContainerOverflowMode()&&"always"!==this.currentChild.getItemOverflowMode()&&("auto"!==this.container.getContainerOverflowMode()||"auto"!==this.currentChild.getItemOverflowMode()||this.currentChild.useContentWidth()||!this.checkChildOverflow()))||void 0)}},{key:"checkChildOverflow",value:function(){var e=this.currentChild.getMinWidth();return this.currentChild.x+e+this.currentChild.getLeftMargin()>this.xOverflowLimit}},{key:"overflow",value:function(){this.xNext=this.scrollLeft-this.xOverflowReset,this.yNext=Math.max(this.currentChild.getRealParent().viewport.ySouth,this.ySouth)}},{key:"appendNewLine",value:function(){var e=this.currentChild,t=e.getMeasuringScale(),n=e.getHeight()*t+this.currentChild.getTopMargin()+this.currentChild.getBottomMargin();this.xNext=this.scrollLeft-this.xOverflowReset;var r=this.yNext+n+e.val("appendNewLine");this.yEast=this.yNext,this.xSouth=this.xNext,this.ySouth=Math.max(this.ySouth,r),this.yEast=this.ySouth,this.yNext=this.ySouth,e.getRealParent().viewport.xEast=Math.max(e.getRealParent().viewport.xEast,this.xEast),e.getRealParent().viewport.ySouth=Math.max(e.getRealParent().viewport.ySouth,this.ySouth)}},{key:"computeBoundary",value:function(e,t){var n,r,i,a,o,l,s=e.getMeasuringScale(),u=e.getBaseWidth()*s,c=e.getBaseHeight()*s;return"layout"===t?(n=e.x,r=e.y,i=n-e.getLeftMargin(),a=n+u+e.getRightMargin(),o=r-e.getTopMargin(),l=r+c+e.getBottomMargin()):"absolute"===t?(n=e.absX-this.absX,r=e.absY-this.absY,i=n,a=n+u+e.getRightMargin(),o=r,l=r+c+e.getBottomMargin()):(i=n=e.getX(),a=n+u,o=r=e.getY(),l=r+c),{left:i,top:o,right:a,bottom:l}}},{key:"nextLocation",value:function(){var e=this.currentChild,t=e.getMeasuringScale(),n=e.getTopBaseHeight()*t,r=e.getHeight()*t+this.currentChild.getTopMargin()+this.currentChild.getBottomMargin(),i="always"===e.getItemOverflowMode()?this.container.getWidth():e.getBaseWidth()*t+this.currentChild.getLeftMargin()+this.currentChild.getRightMargin();if("BI"!==e.type&&"BI"===this.container.type){var a=this.computeBoundary(e,"layout"),o=this.computeBoundary(e,"animated");r=Math.max(r,a.bottom-o.top,o.bottom-a.top,a.bottom-a.top,o.bottom-o.top),i=Math.max(i,a.right-o.left,o.right-a.left,a.right-a.left,o.right-o.left)}var l=this.yNext+r;if(this.xNext+=i,e.isDomIsland()&&e.hasDom()){var s=this.computeBoundary(e,"absolute");l=s.bottom,this.xNext=s.right,this.xWest=s.left,this.yWest=s.top}this.yNext+=n,this.xSouth=this.xNext,this.yEast=this.yNext,this.xEast=Math.max(this.xNext,this.xEast),this.ySouth=Math.max(l,this.ySouth),e.getRealParent().viewport.xEast=Math.max(e.getRealParent().viewport.xEast,this.xEast),e.getRealParent().viewport.ySouth=Math.max(e.getRealParent().viewport.ySouth,this.ySouth)}}])&&i(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{$Dom:function(){return $Dom.J},AnimationManager:function(){return AnimationManager._},App:function(){return App.qw},Bracket:function(){return Bracket.d},BracketGenerator:function(){return BracketGenerator.M},ColorUtil:function(){return ColorUtil.I},DomInit:function(){return DomInit.v},Easing:function(){return Easing.G},Moves:function(){return Moves},SearchUtil:function(){return SearchUtil.X},TModel:function(){return TModel.c},TModelUtil:function(){return TModelUtil.a},TUtil:function(){return TUtil.d},TargetData:function(){return TargetData.u},TargetExecutor:function(){return TargetExecutor.j},TargetParser:function(){return TargetParser.D},TargetUtil:function(){return TargetUtil.g},fetch:function(){return App.hd},fetchImage:function(){return App.aK},getAnimationManager:function(){return App.s},getDomTModelById:function(){return App.UR},getEvents:function(){return App.kQ},getLoader:function(){return App.qI},getLocationManager:function(){return App.zw},getManager:function(){return App.EI},getPager:function(){return App.cI},getResizeLastUpdate:function(){return App.S9},getRunScheduler:function(){return App.fB},getScreenHeight:function(){return App.c$},getScreenWidth:function(){return App.r5},getTModelById:function(){return App.iP},getTargetManager:function(){return App.HJ},getVisibles:function(){return App.U$},isRunning:function(){return App.W_},tApp:function(){return App.E_},tRoot:function(){return App.Bt}});var App=__webpack_require__(142),TModel=__webpack_require__(528),TUtil=__webpack_require__(129);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Moves=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"bounce",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.yStart,i=void 0===r?void 0:r,a=n.xStart,o=void 0===a?(0,App.r5)()/2:a,l=n.widthStart,s=void 0===l?50:l,u=n.heightStart,c=void 0===u?50:u,h=n.bFactor,d=void 0===h?.6:h,f=n.cFactor,v=void 0===f?.2:f,y=n.rotationStart,g=void 0===y?0:y,p=n.rIncrement,m=void 0===p?360:p,b=Math.max(10,(t-e)*d),T=TUtil.d.isDefined(i)?[i,e]:[e],w=[o],k=[s],S=[c],M=[g];Math.abs(0|b)>1;){T.push(t),T.push(t-b);var E=s*(1+v),C=c*(1-v);k.push(E),k.push(s),S.push(C),S.push(c),w.push(o-(E-s)/2),w.push(o),M.push(M[M.length-1]+m),b*=d,m*=.8,v*=d}w.push(o),T.push(t),k.push(s),S.push(c);var D=M[M.length-1]%360;return D>0&&D<360&&M.push(360),{x:{list:w},y:{list:T},width:{list:k},height:{list:S},rotate:{list:M}}}},{key:"bounceSimple",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.from,i=void 0===r?void 0:r,a=n.to,o=void 0===a?void 0:a,l=n.widthStart,s=void 0===l?void 0:l,u=n.heightStart,c=void 0===u?void 0:u,h=n.xStart,d=void 0===h?void 0:h,f=n.yStart,v=void 0===f?void 0:f,y=n.bFactor,g=void 0===y?.5:y,p=n.cFactor,m=void 0===p?.7:p;return i=TUtil.d.isDefined(i)?i:t.getY()-70,o=TUtil.d.isDefined(o)?o:t.getY(),s=TUtil.d.isDefined(s)?s:t.getWidth(),c=TUtil.d.isDefined(c)?c:t.getHeight(),v=TUtil.d.isDefined(v)?v:t.getY(),d=TUtil.d.isDefined(d)?d:t.getX(),e.bounce(i,o,{yStart:v,xStart:d,widthStart:s,heightStart:c,bFactor:g,cFactor:m,rIncrement:0})}},{key:"shake",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getWidth(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.getHeight(),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.bFactor,o=void 0===a?.6:a,l=i.cFactor,s=void 0===l?.3:l,u=i.strength,c=void 0===u?20:u,h=(t.getParentValue("width")-n)/2,d=t.getY(),f=n,v=r,y=e.bounce(d-c,d,{xStart:h,widthStart:f,heightStart:v,bFactor:o,cFactor:s});return{x:y.x,width:y.width}}},{key:"spiral",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startAngle,n=void 0===t?0:t,r=e.endAngle,i=void 0===r?360:r,a=e.angleStep,o=void 0===a?18:a,l=e.x,s=void 0===l?0:l,u=e.y,c=void 0===u?0:u,h=e.width,d=void 0===h?100:h,f=e.height,v=void 0===f?100:f,y=[],g=[],p=[],m=n;m<=i;m+=o){var b=m*(Math.PI/180);y.push(Math.floor(s+d*Math.cos(b))),g.push(Math.floor(c+v*Math.sin(b))),p.push(90+m)}return{x:{list:y},y:{list:g},rotate:{list:p}}}}])}();_defineProperty(Moves,"shakeMap",{});var SearchUtil=__webpack_require__(745),TargetData=__webpack_require__(432),TargetUtil=__webpack_require__(956),TargetParser=__webpack_require__(347),TModelUtil=__webpack_require__(144),DomInit=__webpack_require__(728),$Dom=__webpack_require__(185),Bracket=__webpack_require__(901),BracketGenerator=__webpack_require__(780),ColorUtil=__webpack_require__(210),Easing=__webpack_require__(736),TargetExecutor=__webpack_require__(985),AnimationManager=__webpack_require__(580);window.TargetJS=__webpack_exports__})();