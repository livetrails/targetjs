/*! For license information please see targetjs.js.LICENSE.txt */
(function(){"use strict";var __webpack_modules__={185:function(e,t,n){n.d(t,{J:function(){return s}});var r=n(129),i=n(287);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"==typeof t?(this.selector=t,this.element=e.query(t)):t&&(this.element=t),this.childrenCount=0,this.$domParent=void 0,this.originalContent=void 0,this.textOnly=!0}return t=e,n=[{key:"cloneTemplate",value:function(){var t;return new e(null===(t=this.element.content)||void 0===t?void 0:t.cloneNode(!0).children[0])}},{key:"exists",value:function(){return this.selector&&(this.element=e.query(this.selector)),!!this.element}},{key:"contains",value:function(e){return e instanceof Node&&this.element.contains(e)}},{key:"create",value:function(e){this.element=document.createElement(e)}},{key:"getTagName",value:function(){return this.element.tagName.toLowerCase()}},{key:"setSelector",value:function(e){this.selector=e}},{key:"setId",value:function(e){this.attr("id","#"===e[0]?e.slice(1):e)}},{key:"focus",value:function(){this.element.focus()}},{key:"blur",value:function(){this.element.blur()}},{key:"attr",value:function(e,t){if(this.element)return r.d.isDefined(t)?void this.element.setAttribute(e,t):this.element.getAttribute(e)}},{key:"value",value:function(e){if(this.element){var t=this.element.value;return r.d.isDefined(e)&&(this.element.value=e),t}}},{key:"select",value:function(){this.element&&"function"==typeof this.element.select&&this.element.select()}},{key:"width",value:function(e){if(!r.d.isDefined(e))return this.element.offsetWidth;this.element.style.width=r.d.isNumber(e)?"".concat(e,"px"):e}},{key:"height",value:function(e){if(!r.d.isDefined(e))return this.element.offsetHeight;this.element.style.height=r.d.isNumber(e)?"".concat(e,"px"):e}},{key:"css",value:function(e){if(!r.d.isDefined(e))return this.element.className;this.element.className=e}},{key:"setStyleByMap",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.style(n,e[n])}))}},{key:"style",value:function(e,t){if(2!==arguments.length)return 1===arguments.length?this.element.style[e]:this.element.style;this.element.style[e]=t}},{key:"getStyleValue",value:function(e){var t=this.style(e),n=r.d.isDefined(t)?t.replace(/[^-\d.]/g,""):0;return parseFloat(n)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"isXYWithinElement",value:function(e,t){var n=this.getBoundingClientRect();return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}},{key:"parent",value:function(){return this.element?this.element.parentElement:null}},{key:"detach",value:function(){e.detach(this.element),this.$domParent&&this.$domParent.childrenCount>0&&this.$domParent.childrenCount--}},{key:"child",value:function(e){return this.element.children[e]}},{key:"append$Dom",value:function(e){this.element.appendChild(e.element)}},{key:"appendElement",value:function(e){this.element.appendChild(e)}},{key:"removeElement",value:function(e){this.element.removeChild(e)}},{key:"elementCount",value:function(){return this.element.children.length}},{key:"swapElements",value:function(e,t){var n=t.nextSibling;n===e?this.element.insertBefore(e,t):(this.element.insertBefore(t,e),this.element.insertBefore(e,n))}},{key:"insertFirst$Dom",value:function(e){this.element.firstChild?this.element.insertBefore(e.element,this.element.firstChild):this.append$Dom(e)}},{key:"relocate",value:function(e,t){this.element.insertBefore(e.$dom.element,this.element.children[t])}},{key:"appendTModel$Dom",value:function(e){0===this.childrenCount&&this.element.children.length>1&&e.getDomParent()&&e.getDomParent().getHtml()&&e.getDomParent().getHtml()===this.originalContent&&(this.element.innerHTML="<div>".concat(this.html(),"</div>")),this.element.appendChild(e.$dom.element),e.$dom.$domParent=this,this.childrenCount++}},{key:"deleteAll",value:function(){this.element.innerHTML=this.originalContent||"",this.childrenCount=0}},{key:"html",value:function(e){if(!r.d.isDefined(e))return r.d.isDefined(this.originalContent)?this.originalContent:this.element.innerHTML;if(this.childrenCount>0){var t=document.createElement("div");t.innerHTML=e,r.d.isDefined(this.originalContent)?this.element.replaceChild(t,this.element.firstChild):this.element.insertBefore(t,this.element.firstChild),this.originalContent=e,this.textOnly=!1}else this.element.innerHTML=e,this.originalContent=e,this.textOnly=!1}},{key:"text",value:function(e){if(!r.d.isDefined(e))return r.d.isDefined(this.originalContent)?this.originalContent:this.element.textContent;if(this.childrenCount>0){var t=document.createTextNode(e);r.d.isDefined(this.originalContent)?this.element.replaceChild(t,this.element.firstChild):this.element.insertBefore(t,this.element.firstChild),this.originalContent=e,this.textOnly=!0}else this.element.textContent=e,this.originalContent=e,this.textOnly=!0}},{key:"outerHTML",value:function(e){this.element.outerHTML=e}},{key:"isEmpty",value:function(){return""===this.element.innerHTML}},{key:"innerHTML",value:function(e){if(!r.d.isDefined(e))return this.element.innerHTML;this.element.innerHTML=e}},{key:"innerText",value:function(e){if(!r.d.isDefined(e))return this.element.innerText;this.element.innerText=e}},{key:"addClass",value:function(e){var t=this.attr("class"),n=t?t.includes(e)?t:"".concat(t," ").concat(e):e;n!==t&&this.attr("class",n)}},{key:"addEvent",value:function(e,t){this.element.addEventListener?this.element.addEventListener(e,t,{capture:!1,passive:!1}):this.element.attachEvent("on".concat(e),t)}},{key:"detachEvent",value:function(e,t){this.element.removeEventListener?this.element.removeEventListener(e,t,!1):this.element.detachEvent?this.element.detachEvent("on".concat(e),t):this.element["on".concat(e)]=null}},{key:"transform",value:function(e){this.element.style[(0,i.X5)().style.transform]=e}},{key:"animate",value:function(e,t){return this.element.animate(e,t)}},{key:"getContext",value:function(t,n){var i=r.d.isDefined(n)?e.query(n):this.query("canvas");return i?i.getContext(t):void 0}},{key:"query",value:function(e){return this.element.querySelector(e)}},{key:"queryAll",value:function(e){return this.element.querySelectorAll(e)}},{key:"findFirstByClass",value:function(t){return e.findFirstByClass(t,this.element)}},{key:"findFirstByTag",value:function(t){return e.findFirstByTag(t,this.element)}}],a=[{key:"createTemplate",value:function(t){var n=new e;return n.create("template"),n.innerHTML(t.trim()),n}},{key:"query",value:function(t){return"#"===t[0]?e.findById(t):"."===t[0]?e.findFirstByClass(t):e.findFirstByTag(t)}},{key:"findById",value:function(e){return document.getElementById("#"===e[0]?e.slice(1):e)}},{key:"findFirstByClass",value:function(t,n){var r=e.findByClass(t,n);return r.length>0?r[0]:null}},{key:"findFirstByTag",value:function(t,n){var r=e.findByTag(t,n);return r.length>0?r[0]:null}},{key:"findByTag",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByTagName(e)}},{key:"findByClass",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementsByClassName("."===e[0]?e.slice(1):e)}},{key:"findNearestParentWithId",value:function(e){for(;e;){var t="function"==typeof e.getAttribute&&e.getAttribute("id")?e.getAttribute("id"):null;if(t&&(0,i.EI)().visibleOidMap[t])return t;e=e.parentElement}}},{key:"detach",value:function(e){var t=r.d.isDefined(e)?e.parentElement:null;t&&t.removeChild(e)}},{key:"hasFocus",value:function(e){return e.hasDom()&&document.activeElement===e.$dom.element}},{key:"getWindowScrollTop",value:function(){return window.pageYOffset||document.documentElement.scrollTop||0}},{key:"getWindowScrollLeft",value:function(){return window.pageXOffset||document.documentElement.scrollLeft||0}},{key:"getScreenWidth",value:function(){return document.documentElement.clientWidth||document.body.clientWidth}},{key:"getScreenHeight",value:function(){return document.documentElement.clientHeight||document.body.clientHeight}},{key:"ready",value:function(t){new e(document).addEvent("DOMContentLoaded",t)}},{key:"ajax",value:function(e){var t=new XMLHttpRequest,n="";e.data&&(n=Object.keys(e.data).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e.data[t]))})).join("&")),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var n="json"===e.dataType?JSON.parse(this.responseText):this.responseText;e.success(n)}else e.error(t.status)},"POST"===e.type?(t.open(e.type,e.url,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(n)):(e.url+=n?e.url>""&&e.url.indexOf("?")>=0?"&".concat(n):"?".concat(n):"",t.open(e.type,e.url,!0),t.send())}}],n&&o(t.prototype,n),a&&o(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,a}()},287:function(e,t,n){n.d(t,{qw:function(){return Ce},hd:function(){return Oe},aK:function(){return je},X5:function(){return He},UR:function(){return Xe},kQ:function(){return _e},qI:function(){return Pe},zw:function(){return Ve},EI:function(){return Ae},cI:function(){return Le},S9:function(){return Ue},fB:function(){return Ie},c$:function(){return Fe},r5:function(){return Ne},iP:function(){return Be},U$:function(){return Re},W_:function(){return De},E_:function(){return be},Bt:function(){return xe}});var r=n(185),i=n(528);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var s=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.style=void 0},(t=[{key:"setup",value:function(){this.style={transform:this.prefixStyle("transform"),transitionTimingFunction:this.prefixStyle("transitionTimingFunction"),transitionDuration:this.prefixStyle("transitionDuration")}}},{key:"prefixStyle",value:function(e){var t=new r.J;t.create("div");for(var n=t.style(),i="",a=["webkitT","MozT","msT","OT","t"],o=0;o<a.length;o++)a[o]+"ransform"in n&&(i=a[o].substr(0,a[o].length-1));return""===i?e:i+e.charAt(0).toUpperCase()+e.substr(1)}}])&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),u=n(745),c=n(129),h=n(432),d=n(985);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function p(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}var b=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$document=new r.J(document),this.currentTouch={deltaY:0,deltaX:0,prevDeltaX:0,prevDeltaY:0,pinchDelta:0,key:"",manualMomentumFlag:!1,orientation:"none",dir:"",source:""},this.lastEvent=void 0,this.touchTimeStamp=0,this.cursor={x:0,y:0},this.start0=void 0,this.start1=void 0,this.end0=void 0,this.end1=void 0,this.touchCount=0,this.canFindHandlers=!0,this.swipeStartX=0,this.swipeStartY=0,this.currentEventName="",this.currentEventType="",this.currentEventTarget=void 0,this.currentHandlers={touch:null,scrollLeft:null,scrollTop:null,swipe:null,pinch:null,focus:null,justFocused:null,blur:null,leave:null,enter:null,start:null,end:null,hover:null},this.eventQueue=[],this.attachedEventMap={},this.eventTargetMap={},this.allEvents={},Object.values(h.u.events).forEach((function(e){Object.assign(t.allEvents,e)})),this.bindedHandleEvent=this.handleEvent.bind(this),this.bindedParentHandleEvent=this.handleDocEvent.bind(this)}return t=e,n=[{key:"detachWindowEvents",value:function(){var e=this;Object.keys(h.u.events.windowEvents).forEach((function(t){be.$window.detachEvent(t,e.bindedHandleEvent)}))}},{key:"attachWindowEvents",value:function(){var e=this;Object.keys(h.u.events.windowEvents).forEach((function(t){be.$window.addEvent(t,e.bindedHandleEvent)}))}},{key:"detachDocumentEvents",value:function(){var e=this;Object.keys(h.u.events.documentEvents).forEach((function(t){e.$document.detachEvent(t,e.bindedParentHandleEvent)}))}},{key:"attachDocumentEvents",value:function(){var e=this;Object.keys(h.u.events.documentEvents).forEach((function(t){e.$document.addEvent(t,e.bindedParentHandleEvent)}))}},{key:"attachEvents",value:function(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.state().externalEventList;if((null==i?void 0:i.length)>0){var a,o=v(i);try{for(o.s();!(a=o.n()).done;){var l=a.value;this.attachTargetEvents(r,l)}}catch(e){o.e(e)}finally{o.f()}}}}catch(e){n.e(e)}finally{n.f()}}},{key:"attachTargetEvents",value:function(e,t){var n=this,r="".concat(e.oid," ").concat(t);!e.hasDom()||this.eventTargetMap[r]&&this.eventTargetMap[r]===e.$dom||(this.eventTargetMap[r]=e.$dom,h.u.targetToEventsMapping[t].forEach((function(t){var r=h.u.events[t];Object.keys(r).forEach((function(t){var i="".concat(e.oid," ").concat(t),a=r[t].windowEvent?be.$window:e.$dom;a.detachEvent(t,n.bindedHandleEvent),a.addEvent(t,n.bindedHandleEvent),n.attachedEventMap[i]={$dom:a,event:t}}))})))}},{key:"detachAll",value:function(){var e=this;Object.keys(this.attachedEventMap).forEach((function(t){var n=e.attachedEventMap[t],r=n.$dom,i=n.event;r.exists()&&r.detachEvent(i,e.bindedHandleEvent)})),this.attachedEventMap={},this.eventTargetMap={}}},{key:"resetEventsOnTimeout",value:function(){if(this.currentTouch.deltaY||this.currentTouch.deltaX||this.currentTouch.pinchDelta){var e=this.touchTimeStamp-c.d.now();e>100&&(this.currentTouch.deltaY*=.95,this.currentTouch.deltaX*=.95,this.currentTouch.pinchDelta*=.95,Math.abs(this.currentTouch.deltaY)<.1&&(this.currentTouch.deltaY=0),Math.abs(this.currentTouch.deltaX)<.1&&(this.currentTouch.deltaX=0),Math.abs(this.currentTouch.pinchDelta)<.1&&(this.currentTouch.pinchDelta=0),0===this.currentTouch.deltaX&&0===this.currentTouch.deltaY&&0===this.currentTouch.pinchDelta&&(this.touchTimeStamp=0)),(e<=0||0===this.touchTimeStamp)&&(this.currentTouch.deltaY=0,this.currentTouch.deltaX=0,this.currentTouch.pinchDelta=0,this.touchTimeStamp=0),Ie().schedule(10,"scroll decay")}}},{key:"findEventHandlers",value:function(e){var t,n,i,a,o,l,s,c,h=e.tmodel,d=e.eventType;h&&(t=u.X.findFirstClickHandler(h),n=u.X.findFirstSwipeHandler(h),s=u.X.findFirstEnterHandler(h),c=u.X.findFirstLeaveHandler(h),i=u.X.findFirstScrollLeftHandler(h,d),a=u.X.findFirstScrollTopHandler(h,d),o=u.X.findFirstPinchHandler(h),l=r.J.hasFocus(h)?h:this.currentHandlers.focus),this.currentHandlers.scrollLeft===i&&this.currentHandlers.scrollTop===a||this.clearTouch(),this.currentHandlers.focus!==l&&(this.currentHandlers.justFocused=l,this.currentHandlers.blur=this.currentHandlers.focus),this.currentHandlers.start=null!=h&&h.canHandleEvent("onStart")?h:void 0,this.currentHandlers.end=null!=h&&h.canHandleEvent("onEnd")?h:void 0,this.currentHandlers.hover=null!=h&&h.canHandleEvent("onHover")?h:void 0,this.currentHandlers.click=t,this.currentHandlers.swipe=n,this.currentHandlers.scrollLeft=i,this.currentHandlers.scrollTop=a,this.currentHandlers.pinch=o,this.currentHandlers.focus=l,this.currentHandlers.enter=s,this.currentHandlers.leave=c}},{key:"captureEvents",value:function(){if(this.currentTouch.prevDeltaX=0,this.currentTouch.prevDeltaY=0,this.currentHandlers.enter=void 0,this.currentHandlers.leave=void 0,this.currentHandlers.justFocused=void 0,this.currentHandlers.blur=void 0,0===this.eventQueue.length)return this.currentEventName="",this.currentEventType="",this.currentEventTarget=void 0,void(this.currentKey="");var e=this.eventQueue.shift();this.canFindHandlers&&this.findEventHandlers(e),"end"!==e.eventType&&"click"!==e.eventType||(this.canFindHandlers=!0),this.currentEventName=e.eventName,this.currentEventType=e.eventType,this.currentEventTarget=e.eventTarget,this.currentKey=this.currentTouch.key,this.currentTouch.key=""}},{key:"handleDocEvent",value:function(e){this.handleEvent(e,!0)}},{key:"handleEvent",value:function(t,n){var r,i,a;if(t){var o=t.type,l=t.target,s=this.allEvents[o];if(s){var h,d=s.eventName,f=s.inputType,v=s.eventType,g=s.order,y=s.queue,p=s.rateLimit,m=c.d.now(),b=this.getTModelFromEvent(t),T={eventName:d,eventItem:s,eventType:v,originalName:o,tmodel:b,eventTarget:l,timeStamp:m};if(null!==(r=this.lastEvent)&&void 0!==r&&r.eventItem){var w=this.lastEvent,k=w.eventItem,S=m-w.timeStamp;if(f&&k.inputType&&k.inputType!==f&&g>k.order)return;if(this.eventQueue.length>e.MAX_EVENT_QUEUE_SIZE&&p>0&&S<p)for(var E=0,M=this.eventQueue.length-1;M>=0;M--){var C;if((null===(C=this.eventQueue[M].eventItem)||void 0===C?void 0:C.eventType)!==v)break;if(++E>e.MAX_EVENT_TYPE_CAPACITY)return}}switch(this.lastEvent=T,y&&this.eventQueue.push(this.lastEvent),d){case"mousedown":case"touchstart":return this.clearStart(),this.clearEnd(),this.clearTouch(),this.touchCount=this.countTouches(t)||1,this.preventDefault(b,d)&&t.cancelable&&t.preventDefault(),this.start0=this.getTouch(t),this.start1=this.getTouch(t,1),this.cursor.x=this.start0.x,this.cursor.y=this.start0.y,this.findEventHandlers(T),this.canFindHandlers=!1,this.swipeStartX=this.start0.x-(null===(i=this.currentHandlers.swipe)||void 0===i?void 0:i.getX()),this.swipeStartY=this.start0.y-(null===(a=this.currentHandlers.swipe)||void 0===a?void 0:a.getY()),t.stopPropagation(),this.detachDocumentEvents(),void this.attachDocumentEvents();case"mousemove":case"touchmove":h=this.getTouch(t),this.cursor.x=h.x,this.cursor.y=h.y,this.preventDefault(b,d)&&t.cancelable&&t.preventDefault(),this.touchCount>0?(this.touchTimeStamp=m+10,this.move(t),t.stopPropagation()):this.isCurrentSource("wheel")&&this.clearTouch();break;case"mouseup":case"touchend":this.detachDocumentEvents(),this.preventDefault(b,d)&&t.cancelable&&t.preventDefault(),h=this.getTouch(t),this.cursor.x=h.x,this.cursor.y=h.y,this.end(t),this.clearEnd(),this.touchCount=0,t.stopPropagation();break;case"click":if(this.preventDefault(b,d)&&t.preventDefault(),this.end0=this.getTouch(t),this.start0){var D=u.X.findFirstClickHandler(b);D&&D===this.currentHandlers.click&&(D!==this.currentHandlers.swipe||this.getSwipeDistance()<5)&&(this.eventQueue.length=0,this.eventQueue.push({eventName:d,eventItem:s,eventType:v,originalName:o,tmodel:b,eventTarget:l,timeStamp:m}))}this.clearEnd(),this.touchCount=0,t.stopPropagation();break;case"wheel":this.preventDefault(b,d)&&t.preventDefault(),this.touchTimeStamp=m+500,this.wheel(t);break;case"mouseleave":n&&this.touchCount>0&&(this.detachDocumentEvents(),h=this.getTouch(t),this.cursor.x=h.x,this.cursor.y=h.y,this.end(t),this.clearEnd(),this.touchCount=0,t.stopPropagation());break;case"key":this.currentTouch.key=t.which||t.keyCode;break;case"resize":this.resizeRoot()}Ie().schedule(0,"".concat(o,"-").concat(d,"-").concat((t.target.tagName||"").toUpperCase()))}}}},{key:"resizeRoot",value:function(){d.j.executeDeclarativeTarget(xe(),"screenWidth"),d.j.executeDeclarativeTarget(xe(),"screenHeight")}},{key:"preventDefault",value:function(e,t){return!(!e||!(!0===e.preventDefault()||Array.isArray(e.preventDefault())&&e.preventDefault().includes(t)))}},{key:"getTModelFromEvent",value:function(e){var t,n=null===(t=e.target)||void 0===t?void 0:t.id;return n&&be.manager.visibleOidMap[n]||(n=r.J.findNearestParentWithId(e.target)),be.manager.visibleOidMap[n]}},{key:"clearStart",value:function(){this.start0=void 0,this.start1=void 0}},{key:"clearEnd",value:function(){this.end0=void 0,this.end1=void 0}},{key:"clearTouch",value:function(){this.currentTouch={deltaY:0,deltaX:0,prevDeltaX:0,prevDeltaY:0,pinchDelta:0,key:"",manualMomentumFlag:!1,orientation:"none",dir:"",source:""}}},{key:"clearAll",value:function(){this.clearStart(),this.clearEnd(),this.clearTouch(),this.eventQueue.length=0,this.touchTimeStamp=0,this.touchCount=0,this.canFindHandlers=!0,this.lastEvent=void 0,this.attachedEventMap={},this.eventTargetMap={},this.swipeStartX=0,this.swipeStartY=0}},{key:"deltaX",value:function(){return this.currentTouch.deltaX}},{key:"deltaY",value:function(){return this.currentTouch.deltaY}},{key:"cursorX",value:function(){return this.cursor.x}},{key:"cursorY",value:function(){return this.cursor.y}},{key:"swipeX",value:function(){return this.cursor.x-this.swipeStartX}},{key:"swipeY",value:function(){return this.cursor.y-this.swipeStartY}},{key:"getSwipeDistance",value:function(){return this.start0&&this.end0?c.d.distance(this.start0.originalX,this.start0.originalY,this.end0.x,this.end0.y):0}},{key:"pinchDelta",value:function(){return this.currentTouch.pinchDelta}},{key:"dir",value:function(){return this.currentTouch.dir}},{key:"getScrollLeftHandler",value:function(){return this.currentHandlers.scrollLeft}},{key:"getScrollTopHandler",value:function(){return this.currentHandlers.scrollTop}},{key:"getPinchHandler",value:function(){return this.currentHandlers.pinch}},{key:"getClickHandler",value:function(){return this.currentHandlers.click}},{key:"getTouchCount",value:function(){return this.touchCount}},{key:"isClickEvent",value:function(){return"click"===this.getEventType()}},{key:"isMoveEvent",value:function(){return"move"===this.getEventType()}},{key:"isResizeEvent",value:function(){return"resize"===this.getEventType()}},{key:"isSwipeEvent",value:function(){return this.hasDelta()&&1===this.touchCount}},{key:"isScrollEvent",value:function(){return this.hasDelta()&&this.isCurrentSource("wheel")}},{key:"hasDelta",value:function(){return 0!==this.deltaX()||0!==this.deltaY()}},{key:"isEndEvent",value:function(){return"end"===this.getEventType()||"click"===this.getEventType()}},{key:"isStartEvent",value:function(){return"start"===this.getEventType()}},{key:"getEventName",value:function(){return this.currentEventName}},{key:"getEventTarget",value:function(){return this.currentEventTarget}},{key:"getEventType",value:function(){return this.currentEventType}},{key:"isClickHandler",value:function(e){return this.getClickHandler()===e&&this.isClickEvent()}},{key:"isEnterHandler",value:function(e){return e===this.currentHandlers.enter&&"mouseenter"===this.getEventName()}},{key:"isLeaveHandler",value:function(e){return e===this.currentHandlers.leave&&"mouseleave"===this.getEventName()}},{key:"isHoverHandler",value:function(e){return e===this.currentHandlers.hover}},{key:"isSwipeHandler",value:function(e){return e===this.currentHandlers.swipe}},{key:"isStartHandler",value:function(e){return e===this.currentHandlers.start}},{key:"isEndHandler",value:function(e){return e===this.currentHandlers.end}},{key:"onFocus",value:function(e){return this.currentHandlers.justFocused===e}},{key:"onBlur",value:function(e){return this.currentHandlers.blur===e}},{key:"hasFocus",value:function(e){return this.currentHandlers.focus===e}},{key:"isScrollLeftHandler",value:function(e){return this.currentHandlers.scrollLeft===e}},{key:"isScrollTopHandler",value:function(e){return this.currentHandlers.scrollTop===e}},{key:"isPinchHandler",value:function(e){return this.currentHandlers.pinch===e}},{key:"isCurrentSource",value:function(e){return this.currentTouch.source===e}},{key:"getOrientation",value:function(){return this.currentTouch.orientation}},{key:"countTouches",value:function(e){var t,n;return(null===(t=e.touches)||void 0===t?void 0:t.length)||(null===(n=e.originalEvent)||void 0===n||null===(n=n.touches)||void 0===n?void 0:n.length)}},{key:"getTouch",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(null===(t=e.touches)||void 0===t?void 0:t[r])||(null===(n=e.originalEvent)||void 0===n||null===(n=n.touches)||void 0===n?void 0:n[r])||e,a=c.d.isDefined(i.clientX)?i.clientX:i.pageX||0,o=c.d.isDefined(i.clientY)?i.clientY:i.pageY||0;return{x:a,y:o,originalX:a,originalY:o,target:i.target,timeStamp:c.d.now()}}},{key:"move",value:function(e){if(1===this.touchCount){if(this.start0.y=this.end0?this.end0.y:this.start0.y,this.start0.x=this.end0?this.end0.x:this.start0.x,this.end0=this.getTouch(e),c.d.isDefined(this.end0)){var t=this.start0.x-this.end0.x,n=this.start0.y-this.end0.y;this.setDeltaXDeltaY(t,n,"touch")}}else if(this.touchCount>=2){this.end0=this.getTouch(e),this.end1=this.getTouch(e,1);var r=c.d.distance(this.start0.x,this.start0.y,this.start1.x,this.start1.y),i=c.d.distance(this.end0.x,this.end0.y,this.end1.x,this.end1.y)-r;this.currentTouch.pinchDelta=i>0?.3:i<0?-.3:0}}},{key:"end",value:function(){if(this.touchCount<=1&&this.start0){var e,t=0,n=0,r=0;c.d.isDefined(this.end0)&&(t=this.start0.originalX-this.end0.x,n=this.start0.originalY-this.end0.y,r=c.d.now()-this.start0.timeStamp<250?c.d.now()-this.start0.timeStamp:0),"horizontal"===this.currentTouch.orientation&&Math.abs(t)>0&&r>0?(e=c.d.momentum(0,t,r),this.touchTimeStamp=this.end0.timeStamp+e.duration,this.touchTimeStamp-c.d.now()>0&&(this.currentTouch.deltaX=e.distance,this.currentTouch.manualMomentumFlag=!0)):"vertical"===this.currentTouch.orientation&&Math.abs(n)>0&&r>0&&(e=c.d.momentum(0,n,r),this.touchTimeStamp=this.end0.timeStamp+e.duration,this.touchTimeStamp-c.d.now()>0&&(this.currentTouch.deltaY=e.distance,this.currentTouch.manualMomentumFlag=!0))}}},{key:"setDeltaXDeltaY",value:function(e,t,n){var r=Math.abs(e)-Math.abs(t);r>=1?("none"===this.currentTouch.orientation||"vertical"===this.currentTouch.orientation&&r>=2||"horizontal"===this.currentTouch.orientation)&&(this.currentTouch.orientation="horizontal",this.currentTouch.dir=e<=-1?"left":e>=1?"right":this.currentTouch.dir,this.currentTouch.source=n):("none"===this.currentTouch.orientation||"horizontal"===this.currentTouch.orientation&&r<=-2||"vertical"===this.currentTouch.orientation)&&(this.currentTouch.orientation="vertical",this.currentTouch.dir=t<=-1?"up":t>=1?"down":this.currentTouch.dir,this.currentTouch.source=n),this.currentTouch.prevDeltaX+=e,this.currentTouch.prevDeltaY+=t,this.currentTouch.deltaX=this.currentTouch.prevDeltaX,this.currentTouch.deltaY=this.currentTouch.prevDeltaY}},{key:"wheel",value:function(e){var t=0,n=0;this.currentTouch.pinchDelta=0,this.start0=this.getTouch(e),e.ctrlKey&&"deltaY"in e?this.currentTouch.pinchDelta=-e.deltaY/10:"deltaX"in e?(t=e.deltaX,n=e.deltaY):"wheelDeltaX"in e?(t=-e.wheelDeltaX/120,n=-e.wheelDeltaY/120):"wheelDelta"in e?t=-e.wheelDelta/120:"detail"in e&&(t=e.detail/3),this.setDeltaXDeltaY(t,n,"wheel")}}],n&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();p(b,"MAX_EVENT_QUEUE_SIZE",10),p(b,"MAX_EVENT_TYPE_CAPACITY",2);var T=n(956);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function C(e){var t=function(e){if("object"!=w(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==w(t)?t:t+""}var D=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cacheMap={},this.tmodelKeyMap={},this.fetchingAPIMap={},this.fetchingImageMap={}},t=[{key:"fetchCommon",value:function(e,t,n,r,i){return T.g.markTargetAction(n,"fetchAction"),t&&this.isFetched(t)?r[e]||(r[e]={fetchId:e,cacheId:t,fetchingFlag:!0,startTime:c.d.now(),targets:[{tmodel:n,targetName:n.key}],fetchMap:r}):r[e]?r[e].targets.push({tmodel:n,targetName:n.key}):(r[e]={fetchId:e,cacheId:t,fetchingFlag:!0,startTime:c.d.now(),targets:[{tmodel:n,targetName:n.key}],fetchMap:r},i()),this.addToTModelKeyMap(n,n.key,e,t),e}},{key:"fetch",value:function(e,t,n,r){var i=this;(Array.isArray(t)?t:[t]).forEach((function(t){var a=n?"".concat(e.oid,"_").concat(t,"_").concat(JSON.stringify(n)):"".concat(e.oid,"_").concat(t);i.fetchCommon(a,r,e,i.fetchingAPIMap,(function(){i.ajaxAPI(t,n,i.fetchingAPIMap[a])}))}))}},{key:"fetchImage",value:function(e,t,n){var r=this,i="".concat(e.oid,"_").concat(t);return this.fetchCommon(i,n,e,this.fetchingImageMap,(function(){r.loadImage(t,r.fetchingImageMap[i])}))}},{key:"getTModelKey",value:function(e,t){return"".concat(document.URL," ").concat(e.oid," ").concat(t)}},{key:"getLoadTargetName",value:function(e){return"load-".concat(e)}},{key:"addToTModelKeyMap",value:function(e,t,n,r){var i=this.getTModelKey(e,t),a=this.getLoadTargetName(t);this.tmodelKeyMap[i]||(this.tmodelKeyMap[i]={fetchMap:{},entryCount:0,resultCount:0,errorCount:0,activeIndex:0,accessIndex:0},e.val(a,[])),this.tmodelKeyMap[i].fetchMap[n]||(this.tmodelKeyMap[i].fetchMap[n]={fetchId:n,order:this.tmodelKeyMap[i].entryCount},this.tmodelKeyMap[i].entryCount++,e.val(a).push(void 0)),r&&this.isFetched(r)&&this.handleSuccess(this.fetchingAPIMap[n],this.cacheMap[r].result)}},{key:"removeFromTModelKeyMap",value:function(e,t){var n=this.getTModelKey(e,t);delete this.tmodelKeyMap[n]}},{key:"isLoading",value:function(e,t){var n=this.getTModelKey(e,t),r=this.tmodelKeyMap[n];if(r&&r.accessIndex<r.resultCount)return!0}},{key:"isLoadingSuccessful",value:function(e,t){var n=this.getTModelKey(e,t);return this.tmodelKeyMap[n]&&this.tmodelKeyMap[n].resultCount===this.tmodelKeyMap[n].entryCount&&0===this.tmodelKeyMap[n].errorCount}},{key:"resetLoadingError",value:function(e,t){var n=this.getTModelKey(e,t),r=this.tmodelKeyMap[n];r&&(r.errorCount=0)}},{key:"nextActiveItem",value:function(e,t){var n=this.getTModelKey(e,t),r=this.tmodelKeyMap[n];return!!r&&r.activeIndex++}},{key:"isNextLoadingItemSuccessful",value:function(e,t){var n=this.getTModelKey(e,t),r=this.tmodelKeyMap[n];if(!r)return!1;var i=this.getLoadTargetName(t),a=e.val(i);return 0===r.errorCount&&Array.isArray(a)&&c.d.isDefined(a[r.activeIndex])}},{key:"getLoadingItemValue",value:function(e,t){var n=e.targets[t],r=this.getTModelKey(e,t),i=this.tmodelKeyMap[r];if(i&&n&&!(i.accessIndex>=i.resultCount)){var a,o=this.getLoadTargetName(t),l=e.val(o);return l&&("onEnd"===n.fetchAction?(a=l.slice(i.accessIndex),i.accessIndex+=a.length):(a=l[i.accessIndex],i.accessIndex++)),a}}},{key:"isFetching",value:function(e){var t,n;return null!==(t=null===(n=this.fetchingAPIMap[e])||void 0===n?void 0:n.fetchingFlag)&&void 0!==t&&t}},{key:"isFetched",value:function(e){var t,n;return null!==(t=null===(n=this.cacheMap[e])||void 0===n?void 0:n.success)&&void 0!==t&&t}},{key:"getFetchingPeriod",value:function(e){return this.fetchingAPIMap[e]?c.d.now()-this.fetchingAPIMap[e].startTime:void 0}},{key:"fetchCache",value:function(e){return this.cacheMap[e]}},{key:"handleSuccess",value:function(e,t){var n=this,r=c.d.now(),i=e.fetchId,a=e.cacheId,o=e.startTime,l=e.targets,s=e.fetchMap,u={fetchingPeriod:r-o,success:!0,result:t};l.forEach((function(e){var t=e.tmodel,r=e.targetName,a=n.getTModelKey(t,r),o=n.tmodelKeyMap[a],l=n.getLoadTargetName(r);if(o){var s=o.fetchMap[i];n.callOnSuccessHandler(t,r,S(S({},u),{},{order:s.order}));var c=t.val(l);c&&(c[s.order]=u.result),t.val(r,1===(null==c?void 0:c.length)?c[0]:c),o.resultCount++,0===o.errorCount&&T.g.shouldActivateNextTarget(t,r)}})),delete s[i],a&&(this.cacheMap[a]=u),Ie().schedule(0,"api_success_".concat(i))}},{key:"handleError",value:function(e,t){var n=this,r=c.d.now(),i=e.fetchId,a=e.cacheId,o=e.startTime,l=e.targets,s=e.fetchMap;l.forEach((function(e){var a=e.tmodel,l=e.targetName,s="".concat(a.oid," ").concat(l),u=n.tmodelKeyMap[s],c=n.getLoadTargetName(l);if(u){var h=u.fetchMap[i],d={fetchingPeriod:r-o,success:!1,order:h.order,error:t},f=a.val(c);f[h.order]=d,a.val(l,1===f.length?f[0]:f),u.resultCount++,u.errorCount++,n.callOnErrorHandler(a,l)}})),delete s[i],a&&delete this.cacheMap[a],Ie().schedule(0,"api_error_".concat(i))}},{key:"callOnSuccessHandler",value:function(e,t,n){var r,i=null===(r=e.targets[t])||void 0===r?void 0:r.onSuccess;i&&("function"==typeof i?(e.setTargetMethodName(t,"onSuccess"),i.call(e,n)):Array.isArray(i)?i.forEach((function(t){return T.g.activateSingleTarget(e,t)})):T.g.activateSingleTarget(e,i))}},{key:"callOnErrorHandler",value:function(e,t){var n,r=null===(n=e.targets[t])||void 0===n?void 0:n.onError;r&&("function"==typeof r?(e.setTargetMethodName(t,"onSuccess"),r.call(e,e.val(t))):Array.isArray(r)?r.forEach((function(t){return T.g.activateSingleTarget(e,t)})):T.g.activateSingleTarget(e,r))}},{key:"ajaxAPI",value:function(e,t,n){var i=this,a={dataType:"json",type:"GET",success:function(e){return i.handleSuccess(n,e)},error:function(e){return i.handleError(n,e)}};null!=t&&t.dataType&&(a.dataType=t.dataType,delete t.dataType),null!=t&&t.requestType&&(a.type=t.requestType,delete t.requestType),r.J.ajax(S(S({},a),{},{url:e},{data:t}))}},{key:"loadImage",value:function(e,t){var n=this,r=new Image;r.src=e,r.onload=function(){var e={width:r.width,height:r.height,src:r.src};n.handleSuccess(t,e)},r.onerror=function(){n.handleError(t,"not found")}}}],t&&M(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),x=n(780),_=n(144);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function P(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function A(e){var t=function(e){if("object"!=L(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==L(t)?t:t+""}var I=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hasLocationList=[],this.hasLocationMap={},this.visibleChildrenLengthMap={},this.updatedContainerMap={},this.locationListStats=[],this.activatedList=[],this.activatedMap={}},t=[{key:"clear",value:function(){this.visibleChildrenLengthMap={},this.updatedContainerMap={},this.activatedList=[],this.activatedMap={}}},{key:"calculateAll",value:function(){var e=this;this.hasLocationList.length=0,this.hasLocationMap={},this.locationListStats=[],this.startTime=c.d.now(),this.calculate(),Object.keys(this.visibleChildrenLengthMap).forEach((function(t){var n=e.visibleChildrenLengthMap[t],r=n.tmodel,i=n.length;!r.isVisible()||i===r.visibleChildren.length&&0!==r.visibleChildren.length||(e.runEventTargets(r,"onVisibleChildrenChange"),e.visibleChildrenLengthMap[t].length=r.visibleChildren.length)})),Object.keys(this.updatedContainerMap).forEach((function(t){var n=e.updatedContainerMap[t];n.isVisible()&&(e.runEventTargets(n,"onChildrenChange"),delete e.updatedContainerMap[t])}))}},{key:"calculate",value:function(){this.calculateContainer(be.tRoot)}},{key:"calculateActivated",value:function(){for(var e=this,t=0,n=function(){var n=e.activatedList[t++];be.targetManager.applyTargetValues(n,n.activatedTargets),n.updatingTargetList.length>0&&be.targetManager.setActualValues(n,n.updatingTargetList.filter((function(e){return 0===n.getTargetStep(e)}))),e.hasLocationMap[n.oid]||e.addToLocationList(n),n.activatedTargets.length=0};t<this.activatedList.length;)n();this.activatedList.length=0,this.activatedMap={}}},{key:"getChildren",value:function(e){return e.getChildren(),e.shouldBeBracketed()?x.M.generate(e):(e.lastChildrenUpdate.additions.length=0,e.lastChildrenUpdate.deletions.length=0,x.M.bracketMap[e.oid]&&(delete x.M.bracketMap[e.oid],delete x.M.pageMap[e.oid]),e.getChildren())}},{key:"calculateContainer",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.getChildren(e),i=e.createViewport();e.childrenUpdateFlag&&(e.childrenUpdateFlag=!1,e.targets.onChildrenChange&&(this.updatedContainerMap[e.oid]=e)),e.visibleChildren.length=0;var a,o=P(r);try{var l=function(){var r=a.value;if(!r)return 1;t.locationListStats.push(r.oid),i.setCurrentChild(r),i.setLocation(),r.isIncluded()&&e.manageChildTargetExecution(r,n)&&t.calculateTargets(r),("always"===e.getContainerOverflowMode()||"auto"===e.getContainerOverflowMode()&&"auto"===r.getItemOverflowMode()&&i.isOverflow())&&(i.overflow(),i.setLocation()),r.isIncluded()&&(r.targets.onVisibleChildrenChange&&!t.visibleChildrenLengthMap[r.oid]&&(t.visibleChildrenLengthMap[r.oid]={tmodel:r,length:r.visibleChildren.length}),t.addToLocationList(r));var o=r.getCoreTargets();o&&o.forEach((function(e){!r.isTargetEnabled(e)||r.isTargetUpdating(e)||r.isTargetImperative(e)||d.j.executeDeclarativeTarget(r,e,r.getTargetCycle(e))})),(r.isTargetImperative("x")||r.targets.x)&&c.d.isDefined(r.targetValues.x)||r.val("x",r.x),(r.isTargetImperative("y")||r.targets.y)&&c.d.isDefined(r.targetValues.y)||r.val("y",r.y),r.calcAbsolutePosition(r.getX(),r.getY()),r.excludeDefaultStyling()||(r.addToStyleTargetList("x"),r.addToStyleTargetList("y"));var l=r.visibilityStatus,s=!!l&&l.left&&l.right&&l.top&&l.bottom,u=r.isVisible(),h=!1;c.d.isDefined(r.targets.isVisible)&&!c.d.isDefined(r.targets.onVisible)||(h=r.calcVisibility()),c.d.isDefined(r.targets.isVisible)&&d.j.executeDeclarativeTarget(r,"isVisible"),r.isNowVisible=!s&&h||!u&&r.isVisible(),r.addToParentVisibleChildren(),r.shouldCalculateChildren()&&t.calculateContainer(r,n&&!1!==e.shouldCalculateChildTargets()),!r.isTargetImperative("height")&&!_.a.isHeightDefined(r)&&!c.d.isDefined(r.targets.heightFromDom)&&r.getContentHeight()>0&&(r.val("height",r.getContentHeight()),r.addToStyleTargetList("height")),!r.isTargetImperative("width")&&!_.a.isWidthDefined(r)&&!c.d.isDefined(r.targets.widthFromDom)&&r.getContentWidth()>0&&(r.val("width",r.getContentWidth()),r.addToStyleTargetList("width")),r.isInFlow()&&(c.d.isNumber(r.val("appendNewLine"))?(i.appendNewLine(),e.calcContentWidthHeight()):"always"===r.getItemOverflowMode()?(i.nextLocation(),i.overflow(),e.calcContentWidthHeight()):(e.calcContentWidthHeight(),i.nextLocation()))};for(o.s();!(a=o.n()).done;)l()}catch(e){o.e(e)}finally{o.f()}e.calcContentWidthHeight();var s,u=P(r);try{for(u.s();!(s=u.n()).done;){var h=s.value;this.checkExternalEvents(h)}}catch(e){u.e(e)}finally{u.f()}}},{key:"calculateTargets",value:function(e){this.checkInternalEvents(e),be.targetManager.applyTargetValues(e),be.targetManager.setActualValues(e),_.a.shouldMeasureWidthFromDom(e)&&(e.hasDom()?_.a.setWidthFromDom(e):e.addToActiveTargets("width")),_.a.shouldMeasureHeightFromDom(e)&&(e.hasDom()?_.a.setHeightFromDom(e):e.addToActiveTargets("height")),e.isNowVisible=!1,e.hasDomNow=!1,e.targetExecutionCount++}},{key:"checkExternalEvents",value:function(e){var t=[],n=h.u.allEventMap,r=e.state().externalEventList;if((null==r?void 0:r.length)>0){var i,a=P(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;n[o](e)&&t.push(o)}}catch(e){a.e(e)}finally{a.f()}}this.runEventTargets(e,t)}},{key:"checkInternalEvents",value:function(e){var t=[],n=h.u.internalEventMap,r=e.state().internalEventList;if((null==r?void 0:r.length)>0){var i,a=P(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;n[o](e)&&t.push(o)}}catch(e){a.e(e)}finally{a.f()}}this.runEventTargets(e,t)}},{key:"runEventTargets",value:function(e,t){Array.isArray(t)||(t=[t]);var n=_e().getEventTarget();t.forEach((function(t){var r=e.targets[t];if(e.isTargetEnabled(t)){if("function"==typeof r.value){var i=r.value.call(e,n);Array.isArray(i)?i.forEach((function(t){return T.g.activateSingleTarget(e,t)})):"string"==typeof i&&T.g.activateSingleTarget(e,i)}else Array.isArray(r.value)?r.value.forEach((function(t){return T.g.activateSingleTarget(e,t)})):Array.isArray(r)?r.forEach((function(t){return T.g.activateSingleTarget(e,t)})):T.g.activateSingleTarget(e,r.value);T.g.shouldActivateNextTarget(e,t)}}))}},{key:"addToLocationList",value:function(e){this.hasLocationMap[e.oid]||(this.hasLocationList.push(e),this.hasLocationMap[e.oid]=e)}},{key:"addToActivatedList",value:function(e){this.activatedMap[e.oid]||(this.activatedList.push(e),this.activatedMap[e.oid]=e)}},{key:"isActivated",value:function(e){return this.activatedMap[e.oid]}}],t&&j(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),V=n(347);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return(t=$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(){U=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),l=new L(r||[]);return i(o,"_invoke",{value:C(e,n,l)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",f="suspendedYield",v="executing",g="completed",y={};function p(){}function m(){}function b(){}var T={};u(T,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(P([])));k&&k!==n&&r.call(k,o)&&(T=k);var S=b.prototype=p.prototype=Object.create(T);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){function n(i,a,o,l){var s=h(e[i],e,a);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==H(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function C(t,n,r){var i=d;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var s=D(l,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=h(t,n,r);if("normal"===u.type){if(i=r.done?g:f,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=g,r.method="throw",r.arg=u.arg)}}}function D(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,D(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(H(t)+" is not iterable")}return m.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(M.prototype),u(M.prototype,l,(function(){return this})),t.AsyncIterator=M,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new M(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(S),u(S,s,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function B(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$(r.key),r)}}function $(e){var t=function(e){if("object"!=H(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==H(t)?t:t+""}var q=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lastLink=c.d.getFullLink(document.URL),this.pageCache={}},t=[{key:"initPage",value:function(e){be.tRoot.$dom.outerHTML(e),be.tRoot.$dom=r.J.query("#tgjs-root")?new r.J("#tgjs-root"):new r.J("body"),V.v.initPageDoms(be.tRoot.$dom)}},{key:"openPage",value:(n=U().mark((function e(t){return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.stop();case 2:be.reset(),t=c.d.getFullLink(t),this.pageCache[t]?(be.tRoot=this.pageCache[t].tRoot,Ce.oids=this.pageCache[t].oids,Ce.tmodelIdMap=this.pageCache[t].tmodelIdMap,be.tRoot.$dom=r.J.query("#tgjs-root")?new r.J("#tgjs-root"):new r.J("body"),be.tRoot.$dom.innerHTML(this.pageCache[t].html),V.v.initCacheDoms(this.pageCache[t].visibleList),this.pageCache[t].visibleList.forEach((function(e){e.visibilityStatus=void 0})),be.manager.lists.visible=B(this.pageCache[t].visibleList),this.lastLink=t,be.start()):(be.tRoot.$dom.innerHTML(""),be.tRoot=be.tRootFactory(),Ce.oids={},Ce.tmodelIdMap={},be.pageIsEmpty=!0,this.lastLink=t,be.start());case 5:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(e){W(a,r,i,o,l,"next",e)}function l(e){W(a,r,i,o,l,"throw",e)}o(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"openLinkFromHistory",value:function(e){e.link?(this.onPageClose(),this.openLink(e.link,!1)):e.browserUrl&&(history.replaceState({link:e.browserUrl},"",e.browserUrl),this.openPage(e.browserUrl))}},{key:"onPageClose",value:function(){be.resizeLastUpdate=c.d.now(),_e().resizeRoot(),be.manager.lists.visible.forEach((function(e){Ve().runEventTargets(e,["onPageClose"])}))}},{key:"openLink",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e=c.d.getFullLink(e),this.lastLink){be.tRoot.$dom=r.J.query("#tgjs-root")?new r.J("#tgjs-root"):new r.J("body");var n=be.tRoot.$dom.innerHTML();this.onPageClose(),this.pageCache[this.lastLink]={link:this.lastLink,html:n,oids:F({},Ce.oids),tmodelIdMap:F({},Ce.tmodelIdMap),visibleList:B(be.manager.lists.visible),tRoot:be.tRoot}}t&&history.pushState({link:e},"",e),this.openPage(e),Ie().schedule(0,"pagemanager-processOpenLink")}},{key:"updateBrowserUrl",value:function(e,t){be.tRoot.$dom=r.J.query("#tgjs-root")?new r.J("#tgjs-root"):new r.J("body"),this.pageCache[document.URL]={link:document.URL,html:be.tRoot.$dom.innerHTML(),oids:F({},Ce.oids),tmodelIdMap:F({},Ce.tmodelIdMap),visibleList:B(be.manager.lists.visible),tRoot:be.tRoot},t?history.pushState({browserUrl:e},"",e):history.replaceState({browserUrl:e},"",e),Ie().schedule(0,"pagemanager-processUpdateBrowserUrl")}},{key:"back",value:function(){return history.back()}}],t&&Y(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,i}();function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return(t=re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ee(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function ee(e,t){if(e){if("string"==typeof e)return te(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,re(r.key),r)}}function re(e){var t=function(e){if("object"!=K(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==K(t)?t:t+""}var ie=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()},(t=[{key:"init",value:function(){this.lists={visible:[],rerender:[],restyle:[],reasyncStyle:[],reattach:[],relocation:[],invisibleDom:[],noDom:[],updatingTModels:[],activeTModels:[],updatingTargets:[],activeTargets:[]},this.visibleTypeMap={},this.visibleOidMap={},this.targetMethodMap={},this.noDomMap={},this.doneTargets=[]}},{key:"clear",value:function(){this.lists.visible.length=0,this.lists.rerender.length=0,this.lists.restyle.length=0,this.lists.reasyncStyle.length=0,this.lists.reattach.length=0,this.lists.relocation.length=0,this.lists.noDom.length=0,this.lists.updatingTModels.length=0,this.lists.activeTModels.length=0,this.lists.updatingTargets.length=0,this.lists.activeTargets.length=0,this.visibleTypeMap={},this.visibleOidMap={},this.targetMethodMap={},this.noDomMap={}}},{key:"analyze",value:function(){var e,t=c.d.list2map(this.lists.visible);this.clear();var n,r=G(Ve().hasLocationList);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.getParent();if(!a||a.allChildrenMap[i.oid]){var o=i.isVisible();if(o&&(t[i.oid]=null,!i.hasDom()||i.canHaveDom()||this.lists.invisibleDom.includes(i)||this.lists.invisibleDom.push(i),this.lists.visible.push(i),this.visibleOidMap[i.oid]=i,this.visibleTypeMap[i.type]||(this.visibleTypeMap[i.type]=[]),this.visibleTypeMap[i.type].push(i)),o||i.isActivated()){var l,s,u;this.needsRerender(i),this.needsRestyle(i),this.needsReattach(i),this.needsRelocation(i);var h=i.state();(null===(l=h.updatingTargetList)||void 0===l?void 0:l.length)>0&&(this.lists.updatingTModels.push(i),this.lists.updatingTargets=[].concat(Z(this.lists.updatingTargets),Z(h.updatingTargetList))),(null===(s=h.activeTargetList)||void 0===s?void 0:s.length)>0&&(this.lists.activeTModels.push(i),this.lists.activeTargets=[].concat(Z(this.lists.activeTargets),Z(h.activeTargetList))),(null===(u=h.activeChildrenList)||void 0===u?void 0:u.length)>0&&(this.lists.activeTModels=[].concat(Z(this.lists.activeTModels),Z(h.activeChildrenList))),h.targetMethodMap&&Object.keys(h.targetMethodMap).length>0&&(this.targetMethodMap[i.oid]=Q({},h.targetMethodMap),h.targetMethodMap={}),i.deactivate()}!o&&i.canDeleteDom()||!i.canHaveDom()||i.hasDom()||this.noDomMap[i.oid]||(this.lists.noDom.push(i),this.noDomMap[i.oid]=!0)}else i.hasDom()&&!this.lists.invisibleDom.includes(i)&&this.lists.invisibleDom.push(i)}}catch(e){r.e(e)}finally{r.f()}var d=Object.values(t).filter((function(e){var t;return null!==e&&e.hasDom()&&(e.canDeleteDom()||!(null!==(t=e.getParent())&&void 0!==t&&t.allChildrenMap[e.oid]))}));return(e=this.lists.invisibleDom).push.apply(e,Z(d)),this.lists.noDom.length>0?0:this.lists.reattach.length>0?1:this.lists.relocation.length>0?2:this.lists.rerender.length>0?3:this.lists.reasyncStyle.length>0?4:this.lists.invisibleDom.length>0?5:this.lists.restyle.length>0?10:-1}},{key:"needsRelocation",value:function(e){return!(!e.hasDom()||!c.d.isDefined(e.domOrderIndex)||(this.lists.relocation.push(e),0))}},{key:"needsRerender",value:function(e){return!(!e.hasDom()||!c.d.isDefined(e.getHtml())||e.$dom.html()===e.getHtml()&&e.$dom.textOnly===e.isTextOnly()||(this.lists.rerender.push(e),0))}},{key:"needsRestyle",value:function(e){e.hasDom()&&(e.styleTargetList.length>0&&this.lists.restyle.push(e),e.asyncStyleTargetList.length>0&&this.lists.reasyncStyle.push(e))}},{key:"needsReattach",value:function(e){e.hasDom()&&!e.reuseDomDefinition()&&(e.hasDomHolderChanged()||e.hasBaseElementChanged())&&this.lists.reattach.push(e)}},{key:"renderTModels",value:function(){var e,t=G(this.lists.rerender);try{for(t.s();!(e=t.n()).done;){var n,r,i=e.value;i.isTextOnly()?null===(n=i.$dom)||void 0===n||n.text(i.getHtml()):null===(r=i.$dom)||void 0===r||r.html(i.getHtml()),i.setActualValueLastUpdate("html"),i.domHeightTimestamp=0,i.domWidthTimestamp=0}}catch(e){t.e(e)}finally{t.f()}}},{key:"reattachTModels",value:function(){var e,t=G(this.lists.reattach);try{for(t.s();!(e=t.n()).done;){var n,r=e.value;null===(n=r.$dom)||void 0===n||n.detach(),r.hasBaseElementChanged()&&_.a.createDom(r),r.getDomHolder(r)&&r.getDomHolder(r).appendTModel$Dom(r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"relocateTModels",value:function(){this.lists.relocation.sort((function(e,t){return t.domOrderIndex-e.domOrderIndex}));var e,t=G(this.lists.relocation);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.getDomParent().$dom.relocate(n,n.domOrderIndex),n.domOrderIndex=void 0}}catch(e){t.e(e)}finally{t.f()}}},{key:"deleteDoms",value:function(){var e,t=G(this.lists.invisibleDom);try{for(t.s();!(e=t.n()).done;){var n,r=e.value;r.styleMap={},r.transformMap={},r.val("isVisible",!1),r.hasDomNow=!1,null===(n=r.$dom)||void 0===n||n.detach(),r.$dom=null}}catch(e){t.e(e)}finally{t.f()}this.lists.invisibleDom.length=0}},{key:"fixStyles",value:function(){var e,t=G(this.lists.restyle);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.hasDom()&&_.a.fixStyle(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"fixAsyncStyles",value:function(){var e,t=G(this.lists.reasyncStyle);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.hasDom()&&_.a.fixAsyncStyle(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"completeDoneTModels",value:function(){this.doneTargets.forEach((function(e){var t=e.tmodel,n=e.key;t.isTargetDone(n)&&(t.setTargetComplete(n),t.removeFromActiveTargets(n),t.removeFromUpdatingTargets(n))}))}},{key:"createDoms",value:function(){if(0!==this.lists.noDom.length){var e=[];this.lists.noDom.sort((function(e,t){return e.getUIDepth()<t.getUIDepth()?-1:1}));var t,n=G(this.lists.noDom);try{for(n.s();!(t=n.n()).done;){var i=t.value,a=void 0;r.J.query("#".concat(i.oid))?(a=new r.J("#".concat(i.oid)),i.$dom=a,i.hasDomNow=!0,this.needsRestyle(i)):e.push(i)}}catch(e){n.e(e)}finally{n.f()}for(var o=0,l=e;o<l.length;o++){var s,u=l[o];null!==(s=u.getDomHolder(u))&&void 0!==s&&s.exists()&&(u.val("$dom")?u.$dom=u.val("$dom"):(u.$dom=new r.J,_.a.createDom(u),u.getDomHolder(u).appendTModel$Dom(u),u.hasDomNow=!0))}_e().attachEvents(this.lists.noDom)}}}])&&ne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function oe(){oe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),l=new L(r||[]);return i(o,"_invoke",{value:C(e,n,l)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",f="suspendedYield",v="executing",g="completed",y={};function p(){}function m(){}function b(){}var T={};u(T,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(P([])));k&&k!==n&&r.call(k,o)&&(T=k);var S=b.prototype=p.prototype=Object.create(T);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){function n(i,a,o,l){var s=h(e[i],e,a);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==ae(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function C(t,n,r){var i=d;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var s=D(l,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=h(t,n,r);if("normal"===u.type){if(i=r.done?g:f,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=g,r.method="throw",r.arg=u.arg)}}}function D(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,D(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(ae(t)+" is not iterable")}return m.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(M.prototype),u(M.prototype,l,(function(){return this})),t.AsyncIterator=M,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new M(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(S),u(S,s,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function le(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ue(r.key),r)}}function ue(e){var t=function(e){if("object"!=ae(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ae(t)?t:t+""}var ce,he,de,fe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nextRuns=[],this.domProcessing=0,this.runningFlag=!1,this.runId="",this.runStartTime=void 0,this.rerunId="",this.delayProcess=void 0,this.resetting=!1,this.activeStartTime=void 0}return t=e,n=[{key:"resetRuns",value:(r=oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.resetting=!0,e.next=3,new Promise((function(e){return requestAnimationFrame(e)}));case 3:null!==(t=this.delayProcess)&&void 0!==t&&t.timeoutId&&clearTimeout(this.delayProcess.timeoutId),this.nextRuns=[],this.domProcessing=0,this.runningFlag=!1,this.runId="",this.runStartTime=void 0,this.rerunId="",this.delayProcess=void 0,this.resetting=!1,this.activeStartTime=void 0;case 13:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,i){var a=r.apply(e,t);function o(e){le(a,n,i,o,l,"next",e)}function l(e){le(a,n,i,o,l,"throw",e)}o(void 0)}))},function(){return i.apply(this,arguments)})},{key:"schedule",value:function(e,t){!be.isRunning()||this.resetting||0===e&&this.rerunId||(0===e&&0===be.throttle?this.run(e,t):this.delayRun(0===be.throttle?e||0:be.throttle,t))}},{key:"run",value:function(e,t){if(be.isRunning()&&!this.resetting)if(this.runningFlag)this.rerunId||(this.rerunId="rerun ".concat(t));else{this.rerunId="",this.runId=t,this.runningFlag=!0,this.runStartTime=c.d.now(),_e().captureEvents(),Ae().doneTargets.length>0&&(Ae().completeDoneTModels(),Ae().doneTargets.length=0),be.targetManager.applyTargetValues(be.tRoot),Ve().calculateAll(),Ve().calculateActivated(),be.events.resetEventsOnTimeout();var n,r=be.manager.analyze();r>=0&&(0===this.domProcessing?this.domOperations(r):this.rerunId||(this.rerunId="domrun ".concat(t))),1===be.debugLevel&&c.d.log(!0)("Request from: ".concat(t," delay: ").concat(e," runningStep:").concat(r," dom:").concat(this.domProcessing," runs:").concat(this.nextRuns.length," D:").concat(null===(n=this.delayProcess)||void 0===n?void 0:n.delay)),0===this.domProcessing&&this.needsRerun()}}},{key:"needsRerun",value:function(){if(this.runningFlag=!1,this.rerunId)this.schedule(1,"rerun-".concat(this.rerunId));else{var e=this.nextRuns.length>0?this.nextRuns[0].delay-(c.d.now()-this.nextRuns[0].insertTime):void 0;if(void 0===e||Ae().lists.activeTModels.length>0){if(_e().eventQueue.length>0)this.schedule(15,"events-".concat(_e().eventQueue.length));else if(Ae().lists.updatingTModels.length>0)this.schedule(15,"getManager-needsRerun-updatingTModels");else if(Ae().lists.activeTModels.length>0){var t=Ae().lists.activeTModels.find((function(e){return 0===e.targetExecutionCount||e.activeTargetList.filter((function(t){return!e.isScheduledPending(t)})).some((function(t){return e.shouldScheduleRun(t)}))}));if(t){var n=!this.activeStartTime||c.d.now()-this.activeStartTime>15?1:15;this.activeStartTime=c.d.now(),this.schedule(n,"getManager-needsRerun-".concat(t.oid,"-").concat(t.activeTargetList))}}}else e<0&&e>=-15&&this.executeNextRun()}}},{key:"domOperations",value:function(t){var n=this;this.domProcessing=1,10===t?this.domFixStyles():Promise.all(e.domSteps.filter((function(e,n){return n>=t})).map((function(e){return Promise.resolve().then(e)}))).then((function(){Ae().lists.restyle.length?n.domFixStyles():(n.domProcessing=0,n.needsRerun())}))}},{key:"domFixStyles",value:function(){var e=this;this.domProcessing=2,requestAnimationFrame((function(){Ae().fixStyles(),e.domProcessing=0,e.needsRerun()}))}},{key:"setDelayProcess",value:function(e,t,n,r){var i=this;r>0?this.delayProcess={runId:e,insertTime:t,runTime:n,delay:r,timeoutId:setTimeout((function(){i.run(r,e),i.executeNextRun()}),r)}:(this.delayProcess={runId:e,insertTime:t,runTime:n,delay:0},this.run(r,e),this.executeNextRun())}},{key:"executeNextRun",value:function(){for(var e=null,t=null;this.nextRuns.length>0;){var n=this.nextRuns.shift(),r=c.d.now();if(!(n.delay-(r-n.insertTime)<0)){t=n;break}e=n}if(e)this.setDelayProcess(e.runId,e.insertTime,c.d.now(),0);else if(t){var i=c.d.now(),a=Math.max(1,t.delay-(i-t.insertTime));this.setDelayProcess(t.runId,t.insertTime,i+a,a)}else this.delayProcess=void 0}},{key:"delayRun",value:function(e,t){var n=this.runStartTime,r=n+e;this.delayProcess?this.delayProcess.timeoutId&&r<this.delayProcess.runTime?(clearTimeout(this.delayProcess.timeoutId),this.insertRun(this.delayProcess.runId,this.delayProcess.insertTime,this.delayProcess.delay),this.setDelayProcess(t,n,r,e)):this.insertRun(t,n,e):this.setDelayProcess(t,n,r,e)}},{key:"insertRun",value:function(e,t,n){for(var r=0,i=this.nextRuns.length;r<i;){var a=Math.floor((r+i)/2),o=this.nextRuns[a].delay,l=this.nextRuns[a].insertTime+o-(t+n);if(l>0)i=a;else{if(!(l<0))return;r=a+1}}this.nextRuns.splice(r,0,{runId:e,insertTime:t,delay:n})}}],n&&se(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r,i}();function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function ge(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ye(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,me(r.key),r)}}function me(e){var t=function(e){if("object"!=ve(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ve(t)?t:t+""}ce=fe,de=[function(){return Ae().createDoms()},function(){return Ae().reattachTModels()},function(){return Ae().relocateTModels()},function(){return Ae().renderTModels()},function(){return Ae().fixAsyncStyles()},function(){Ae().lists.invisibleDom.length>0&&Ae().deleteDoms()}],(he=ue(he="domSteps"))in ce?Object.defineProperty(ce,he,{value:de,enumerable:!0,configurable:!0,writable:!0}):ce[he]=de;var be,Te=function(){return function(e,t){return t&&pe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}),[{key:"applyTargetValues",value:function(e){var t,n=ge(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.activeTargetList.slice(0));try{for(n.s();!(t=n.n()).done;){var r=t.value;e.isTargetImperative(r)||this.applyTargetValue(e,r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"applyTargetValue",value:function(e,t){var n=e.targets[t];if(c.d.isDefined(n)){if(!e.isExecuted(t)||!e.hasUpdatingTargets(t)){if(e.isExecuted(t)&&e.getTargetStep(t)===e.getTargetSteps(t)){if(e.isScheduledPending(t)&&Ie().nextRuns.length>0)return;var r=T.g.scheduleExecution(e,t);if(r>0)return void Ie().schedule(r,"targetSchedule__".concat(e.oid,"__").concat(t,"_").concat(r))}if(e.isTargetEnabled(t))if(e.resetScheduleTimeStamp(t),e.shouldExecuteCyclesInParallel(t)){var i;i=e.isExecuted(t)?e.getTargetCycles(t):"function"==typeof n.cycles?n.cycles.call(e,0):n.cycles||0;for(var a=[],o=function(n){a.push(new Promise((function(r){d.j.executeDeclarativeTarget(e,t,n),r()})))},l=0;l<=i;l++)o(l);Promise.all(a).then((function(){e.targetValues[t].cycle=i,e.updateTargetStatus(t),e.shouldScheduleRun(t)&&Ie().schedule(e.getTargetInterval(t),"targetSchedule__".concat(e.oid,"__").concat(t,"_rerun"))}))}else e.isExecuted(t)&&e.getTargetCycles(t)>0&&(e.getTargetCycle(t)<e.getTargetCycles(t)?e.incrementTargetCycle(t,e.getTargetCycle(t)):e.resetTargetCycle(t),e.resetTargetStep(t),e.resetTargetInitialValue(t)),d.j.executeDeclarativeTarget(e,t);else n.needsReactivation&&e.removeFromActiveTargets(t)}}else e.removeFromActiveTargets(t)}},{key:"setActualValues",value:function(e){var t,n=0,r=ge(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.updatingTargetList.slice(0));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=e.getScheduleTimeStamp(i),o=e.getTargetInterval(i);if(a&&a+o>c.d.now()){var l=Ie().nextRuns.length>0?Ie().nextRuns[0]:void 0;if(l&&l.delay+l.insertTime<a+o)continue}(n=T.g.scheduleExecution(e,i))>0?Ie().schedule(n,"setActualValues-".concat(e.oid,"__").concat(i,"_").concat(n)):(e.resetScheduleTimeStamp(i),this.setActualValue(e,i))}}catch(e){r.e(e)}finally{r.f()}}},{key:"findOriginalTModel",value:function(e,t){return u.X.findParentByTarget(e,t)||Re().find((function(e){return e.targets[t]}))}},{key:"setActualValue",value:function(e,t){var n=e.targetValues[t];if(n)if(e.isTargetImperative(t)||e.isTargetEnabled(t)){var r,i,a,o=e.getTargetValue(t),l=e.getTargetStep(t),s=e.getTargetSteps(t),u=e.getTargetCycle(t),h=e.getTargetInterval(t),f=e.val(t),v=l,g=u,y=e.getTargetInitialValue(t),p=c.d.capitalizeFirstLetter(t),m=e.getActualValueLastUpdate(t),b=c.d.now();if(l<=s&&(c.d.isDefined(y)||(y=c.d.isDefined(e.val(t))?e.val(t):"number"==typeof o?0:void 0,e.setTargetInitialValue(t,y)),e.val(t,_.a.morph(e,t,y,o,l,s)),e.addToStyleTargetList(t),e.setActualValueLastUpdate(t),e.setTargetMethodName(t,"value"),e.isTargetImperative(t)?(r=n.originalTargetName,a=e,(i=e.targets[n.originalTargetName])||(i=(a=this.findOriginalTModel(e,r))?a.targets[n.originalTargetName]:null),i&&"function"==typeof i["on".concat(p,"Step")]?(i["on".concat(p,"Step")].call(a,a.val(t),o,l,s),a.setTargetMethodName(r,["on".concat(p,"Step")])):i&&"function"==typeof i.onImperativeStep&&(i.onImperativeStep.call(a,t,a.val(t),o,l,s),a.setTargetMethodName(r,"onImperativeStep"))):T.g.handleValueChange(e,t,e.val(t),f,v,g),e.incrementTargetStep(t,b,m,h,s),e.updateTargetStatus(t),e.getTargetStep(t)<s))return T.g.shouldActivateNextTarget(e,t),void Ie().schedule(h,"".concat(e.oid,"---").concat(t,"-").concat(l,"/").concat(s,"-").concat(u,"-").concat(h));e.val(t,o),e.addToStyleTargetList(t),e.setActualValueLastUpdate(t),l=e.getTargetStep(t);var w=0;n.valueList&&u<n.valueList.length-1?(e.incrementTargetCycle(t,e.getTargetCycle(t)),u=e.getTargetCycle(t),e.resetTargetStep(t),n.initialValue=n.value,n.value=n.valueList[u],n.steps=n.stepList[(u-1)%n.stepList.length],n.interval=n.intervalList[(u-1)%n.intervalList.length],n.easing=n.easingList[(u-1)%n.easingList.length],w=h):e.isTargetImperative(t)?(r=n.originalTargetName,a=e,(i=e.targets[n.originalTargetName])||(i=(a=this.findOriginalTModel(e,r))?a.targets[n.originalTargetName]:null),i&&"function"==typeof i["on".concat(p,"Step")]?(i["on".concat(p,"Step")].call(a,a.val(t),o,l,s),a.setTargetMethodName(r,["on".concat(p,"Step")])):i&&"function"==typeof i.onImperativeStep&&(i.onImperativeStep.call(a,t,a.val(t),o,l,s),a.setTargetMethodName(r,"onImperativeStep")),i&&"function"==typeof i["on".concat(p,"End")]?(i["on".concat(p,"End")].call(a,a.val(t),o,l,s),a.setTargetMethodName(r,["on".concat(p,"End")])):i&&"function"==typeof i.onImperativeEnd&&(i.onImperativeEnd.call(a,t,a.val(t)),a.setTargetMethodName(r,"onImperativeEnd"))):(!n.valueList&&e.getTargetCycle(t)<e.getTargetCycles(t)&&(e.incrementTargetCycle(t,e.getTargetCycle(t)),e.resetTargetStep(t).resetTargetInitialValue(t).resetTargetExecutionFlag(t),d.j.executeDeclarativeTarget(e,t)),"object"===ve(e.targets[t])&&"function"==typeof e.targets[t].onStepsEnd&&(e.targets[t].onStepsEnd.call(e,u),e.setTargetMethodName(t,"onStepsEnd"))),e.updateTargetStatus(t),T.g.hasTargetEnded(e,t)&&T.g.shouldActivateNextTarget(e,t),Ie().schedule(w,"".concat(e.oid,"---").concat(t,"-").concat(l,"/").concat(s,"-").concat(u,"-").concat(w))}else Ie().schedule(10,"setActualValue-disabled-".concat(e.oid,"__").concat(t))}}])}();function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function ke(){ke=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),l=new L(r||[]);return i(o,"_invoke",{value:C(e,n,l)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",f="suspendedYield",v="executing",g="completed",y={};function p(){}function m(){}function b(){}var T={};u(T,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(P([])));k&&k!==n&&r.call(k,o)&&(T=k);var S=b.prototype=p.prototype=Object.create(T);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){function n(i,a,o,l){var s=h(e[i],e,a);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==we(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function C(t,n,r){var i=d;return function(a,o){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var s=D(l,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var u=h(t,n,r);if("normal"===u.type){if(i=r.done?g:f,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=g,r.method="throw",r.arg=u.arg)}}}function D(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,D(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(we(t)+" is not iterable")}return m.prototype=b,i(S,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(M.prototype),u(M.prototype,l,(function(){return this})),t.AsyncIterator=M,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new M(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(S),u(S,s,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Se(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function Ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Se(a,r,i,o,l,"next",e)}function l(e){Se(a,r,i,o,l,"throw",e)}o(void 0)}))}}var Me=null,Ce=function(e){var t;if(null!==(t=be)&&void 0!==t&&t.tRoot){if(e){var n;null===(n=be)||void 0===n||n.tRoot.addChild(e)}}else Me=e};Ce.oids={},Ce.tmodelIdMap={},Ce.getOid=function(e){var t=Ce.oids;c.d.isDefined(t[e])||(t[e]=0);var n=t[e]++;return{oid:n>0||e.endsWith("_")?"".concat(e).concat(n):e,num:n}};var De=function(){return!!be&&be.runningFlag},xe=function(){var e;return null===(e=be)||void 0===e?void 0:e.tRoot},_e=function(){var e;return null===(e=be)||void 0===e?void 0:e.events},Le=function(){var e;return null===(e=be)||void 0===e?void 0:e.pager},Pe=function(){var e;return null===(e=be)||void 0===e?void 0:e.loader},Oe=function(e,t,n,r){var i;return null===(i=be)||void 0===i||null===(i=i.loader)||void 0===i?void 0:i.fetch(e,t,n,r)},je=function(e,t,n){var r;return null===(r=be)||void 0===r||null===(r=r.loader)||void 0===r?void 0:r.fetchImage(e,t,n)},Ae=function(){var e;return null===(e=be)||void 0===e?void 0:e.manager},Ie=function(){var e;return null===(e=be)||void 0===e?void 0:e.runScheduler},Ve=function(){var e;return null===(e=be)||void 0===e?void 0:e.locationManager},He=function(){var e;return null===(e=be)||void 0===e?void 0:e.browser},Ne=function(){var e,t;return null!==(e=null===(t=be)||void 0===t||null===(t=t.tRoot)||void 0===t?void 0:t.val("screenWidth"))&&void 0!==e?e:0},Fe=function(){var e,t;return null!==(e=null===(t=be)||void 0===t||null===(t=t.tRoot)||void 0===t?void 0:t.val("screenHeight"))&&void 0!==e?e:0},Re=function(){var e;return null===(e=be)||void 0===e||null===(e=e.manager)||void 0===e?void 0:e.lists.visible},Ue=function(){var e;return null===(e=be)||void 0===e?void 0:e.resizeLastUpdate},Be=function(e){return Ce.tmodelIdMap[e]},Xe=function(e){var t=Ce.tmodelIdMap[e];return t&&t.targets.sourceDom?t:void 0};window.t=window.t||Be;var We=function(){var e;e={throttle:0,debugLevel:0,runningFlag:!1,resizeLastUpdate:0,pageIsEmpty:!1,init:function(){return e.browser=new s,e.browser.setup(),e.$window=new r.J(window),e.$window.addEvent("popstate",(function(e){e.state&&be.pager.openLinkFromHistory(e.state)})),e.loader=new D,e.pager=new q,e.events=new b,e.locationManager=new I,e.targetManager=new Te,e.manager=new ie,e.runScheduler=new fe,e.tRootFactory=function(){var t=new i.c("tRoot",{styling:!1,domHolder:!0,isVisible:!0,screenWidth:function(){var n=r.J.getScreenWidth();return n!==t.val("screenWidth")&&(e.resizeLastUpdate=c.d.now()),n},screenHeight:function(){var n=r.J.getScreenHeight();return n!==t.val("screenHeight")&&(e.resizeLastUpdate=c.d.now()),n},initPageDom:function(){V.v.initPageDoms(this.$dom),Me&&(this.addChild(Me),Me=void 0)}});return t.$dom=r.J.query("#tgjs-root")?new r.J("#tgjs-root"):new r.J("body"),t.val("screenWidth",r.J.getScreenWidth()),t.val("screenHeight",r.J.getScreenHeight()),e.tRoot&&e.tRoot.getChildren().forEach((function(e){if(!e.val("sourceDom")){var n=new i.c(e.type,e.targets);t.addChild(n)}})),t},e.tRoot=e.tRootFactory(),window.history.pushState({link:document.URL},"",document.URL),e}},e.start=Ee(ke().mark((function t(){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.runningFlag=!1,d.j.executeDeclarativeTarget(e.tRoot,"screenWidth"),d.j.executeDeclarativeTarget(e.tRoot,"screenHeight"),e.events.detachAll(),e.events.detachWindowEvents(),e.events.attachWindowEvents(),e.events.clearAll(),e.events.attachEvents(e.manager.lists.visible),t.next=10,e.runScheduler.resetRuns();case 10:return e.runningFlag=!0,e.runScheduler.schedule(0,"appStart"),t.abrupt("return",e);case 13:case"end":return t.stop()}}),t)}))),e.stop=Ee(ke().mark((function t(){return ke().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.runningFlag=!1,e.events.detachAll(),e.events.detachWindowEvents(),e.events.clearAll(),t.next=6,e.runScheduler.resetRuns();case 6:return t.abrupt("return",e);case 7:case"end":return t.stop()}}),t)}))),e.reset=function(){e.manager.lists.visible.forEach((function(e){e.transformMap={},e.styleMap={},e.allStyleTargetList.forEach((function(t){c.d.isDefined(e.val(t))&&e.addToStyleTargetList(t)}))})),e.manager.clear(),e.locationManager.clear(),u.X.clear()},e.isRunning=function(){return e.runningFlag},e.find=function(e){return u.X.find(e)},(be=e).init().start()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",We):We()},901:function(e,t,n){n.d(t,{d:function(){return v}});var r=n(528),i=n(675),a=n(985),o=n(129);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}function c(e,t,n){return t=d(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,t,["BI"])).parent=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,(r=[{key:"canHaveDom",value:function(){return!1}},{key:"getItemOverflowMode",value:function(){return"never"}},{key:"shouldBeBracketed",value:function(){return!1}},{key:"excludeDefaultStyling",value:function(){return!0}},{key:"isIncluded",value:function(){return!1}},{key:"getWidth",value:function(){return this.getContentWidth()}},{key:"getHeight",value:function(){return this.getContentHeight()}},{key:"getBaseWidth",value:function(){return this.bottomBaseWidth}},{key:"getContainerOverflowMode",value:function(){return this.getRealParent().getContainerOverflowMode()}},{key:"getTopBaseHeight",value:function(){return this.topBaseHeight}},{key:"isVisible",value:function(){return this.getChildren().length>0&&o.d.isDefined(this.getChild(0).targets.isVisible)?(a.j.executeDeclarativeTarget(this.getChild(0),"isVisible"),this.getChild(0).isVisible()):!!this.visibilityStatus&&this.visibilityStatus.top&&this.visibilityStatus.bottom}},{key:"getBracketThreshold",value:function(){return this.getRealParent().getBracketSize()}},{key:"addToParentVisibleChildren",value:function(){}},{key:"createViewport",value:function(){return this.viewport=this.viewport||new i.L,this.viewport.xNext=this.x,this.viewport.xNorth=this.x,this.viewport.xEast=this.x,this.viewport.xSouth=this.x,this.viewport.xWest=this.x,this.viewport.absX=this.getRealParent().viewport.absX,this.viewport.absY=this.getRealParent().viewport.absY,this.viewport.scrollTop=this.getRealParent().viewport.scrollTop,this.viewport.scrollLeft=this.getRealParent().viewport.scrollLeft,this.viewport.xOverflowReset=this.getRealParent().viewport.xOverflowReset,this.viewport.xOverflowLimit=this.getRealParent().viewport.xOverflowLimit,this.viewport.yNext=this.y,this.viewport.yNorth=this.y,this.viewport.yWest=this.y,this.viewport.yEast=this.y,this.viewport.ySouth=this.getRealParent().viewport.ySouth,this.viewport}},{key:"getRealParent",value:function(){return this.realParent}},{key:"calcAbsolutePosition",value:function(e,t){this.absX=e+this.getRealParent().absX,this.absY=t+this.getRealParent().absY}},{key:"shouldCalculateChildren",value:function(){var e=this.isVisible()||"new"===this.currentStatus;return this.currentStatus=void 0,e}},{key:"validateVisibilityInParent",value:function(){return this.getChildren().length>0&&this.getChild(0).validateVisibilityInParent()}},{key:"getChildren",value:function(){return this.allChildrenList}}])&&s(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r.c)},780:function(e,t,n){n.d(t,{M:function(){return h}});var r=n(901);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw a}}}}function o(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"generate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!e.bracketMap[t.oid]||e.pageMap[t.oid]!==t.allChildrenList||n?(e.bracketMap[t.oid]=e.buildTreeBottomUp(t,t.getChildren()),e.pageMap[t.oid]=t.allChildrenList):(t.lastChildrenUpdate.deletions.length>0&&(e.updateTreeOnDeletions(t,t.lastChildrenUpdate.deletions),e.reindexTree(t)),t.lastChildrenUpdate.additions.length>0&&e.updateTreeOnAdditions(t,t.lastChildrenUpdate.additions),(t.lastChildrenUpdate.deletions.length>0||t.lastChildrenUpdate.additions.length>0)&&e.reindexTree(t)),t.lastChildrenUpdate.additions.length=0,t.lastChildrenUpdate.deletions.length=0,e.bracketMap[t.oid]}},{key:"updateTreeOnDeletions",value:function(t,n){function i(n,a){if(n)if(a instanceof r.d&&a.parent===a.realParent){var o=e.bracketMap[t.oid],l=o.indexOf(a);l>=0&&o.splice(l,1)}else{var s=n.allChildrenList.indexOf(a);s>=0&&(n.allChildrenList.splice(s,1),0===n.allChildrenList.length&&i(n.parent,n))}}n.forEach((function(e){return i(e.bracket,e)}))}},{key:"reindexTree",value:function(t){function n(e,t){if(0===e.allChildrenList.length)return t;if(e.allChildrenList[0]instanceof r.d){e.startIndex=t;var i,o=a(e.allChildrenList);try{for(o.s();!(i=o.n()).done;)t=n(i.value,t)}catch(e){o.e(e)}finally{o.f()}e.endIndex=t}else e.startIndex=t,t+=e.allChildrenList.length,e.endIndex=t;return t}var i,o=0,l=a(e.bracketMap[t.oid]);try{for(l.s();!(i=l.n()).done;)o=n(i.value,o)}catch(e){l.e(e)}finally{l.f()}}},{key:"updateTreeOnAdditions",value:function(t,n){var i=t.getBracketSize();n.forEach((function(n){var a=n.index,o=n.child,l=e.findOrCreateBracket(t,a),s=a-l.startIndex;s<l.allChildrenList.length?l.allChildrenList.splice(s,0,o):l.allChildrenList.push(o),o.bracket=l;var u=l;for(u.startIndex=Math.min(u.startIndex,a),u.endIndex=u.startIndex+u.allChildrenList.length,u.currentStatus="new",u=l.getParent();u instanceof r.d;)u.startIndex=Math.min(u.startIndex,a),u.endIndex=Math.max(u.endIndex,a+1),u.currentStatus="new",u=u.getParent();l.allChildrenList.length>i&&e.splitBracket(t,l)}))}},{key:"splitBracket",value:function(t,n){for(var r=n.allChildrenList,i=t.getBracketSize(),a=[],s=n.startIndex,u=0;u<r.length;u+=i){var c=r.slice(u,u+i),h=s+c.length,d=e.createBracket(t,s,h,c);d.parent=n.parent,s=d.endIndex,a.push(d)}if(n.parent!==n.realParent){var f,v=n.parent.allChildrenList.indexOf(n);if(v>=0&&(f=n.parent.allChildrenList).splice.apply(f,[v,1].concat(a)),n.parent.allChildrenList.length>=i){var g=e.buildTreeBottomUp(t,n.parent.allChildrenList);if(n.parent.allChildrenList=g,n.parent.parent){var y,p=n.parent.parent.allChildrenList.indexOf(n.parent);p>=0&&(y=n.parent.parent.allChildrenList).splice.apply(y,[p,1].concat(function(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(g)))}}}else{var m=e.bracketMap[t.oid],b=m.indexOf(n);b>=0&&m.splice.apply(m,[b,1].concat(a)),m.length>t.getBracketSize()&&(e.bracketMap[t.oid]=e.buildTreeBottomUp(t,m))}}},{key:"findOrCreateBracket",value:function(t,n){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.bracketMap[t.oid],l=a(o);try{for(l.s();!(i=l.n()).done;){var s=i.value;if(s.startIndex<=n&&s.endIndex>=n)return s.getFirstChild()instanceof r.d?e.findOrCreateBracket(t,n,s.allChildrenList):s}}catch(e){l.e(e)}finally{l.f()}var u=e.createBracket(t,n,n);if(o.push(u),o.length>t.getBracketSize()){var c=e.buildTreeBottomUp(t,o);e.bracketMap[t.oid].brackets=c}return u}},{key:"buildTreeBottomUp",value:function(t,n){for(var i=n.length,a=t.getBracketSize(),o=[],l=function(){var i=n.slice(s,s+a),l=i[0]instanceof r.d,u=l?i[0].startIndex:s,c=l?i[i.length-1].endIndex:s+i.length,h=e.createBracket(t,u,c,i);l&&i.forEach((function(e){e.parent=h})),o.push(h)},s=0;s<i;s+=a)l();return o.length>a?e.buildTreeBottomUp(t,o):o}},{key:"createBracket",value:function(t,n,i,a){var o=new r.d(t);return o.realParent=t,o.allChildrenList=a||o.allChildrenList,o.startIndex=n,o.endIndex=i,o.allChildrenList.forEach((function(e){e instanceof r.d?(e.realParent=t,e.parent=o):e.bracket=o})),e.all[o.oid]=o,o}}],null&&s(t.prototype,null),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();u(h,"bracketMap",{}),u(h,"pageMap",{}),u(h,"all",{})},210:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}n.d(t,{I:function(){return u}});var o,l,s,u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"color2Integers",value:function(t){if(t=t?String(t):"",t=e.colors[t.toLowerCase()]||t){if(t.startsWith("#")){t=3===(t=t.slice(1)).length?t.split("").map((function(e){return e+e})).join(""):t;var n=parseInt(t,16);return[n>>16&255,n>>8&255,255&n]}var r=t.match(/\d+/g);return r&&3===r.length?r.map(Number):void 0}}}],null&&i(t.prototype,null),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();o=u,s={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},(l=a(l="colors"))in o?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s},347:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{v:function(){return DomInit}});var _$Dom_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(185),_TUtil_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(129),_App_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(287),_TargetData_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(432);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var DomInit=function(){function DomInit(){_classCallCheck(this,DomInit)}return _createClass(DomInit,null,[{key:"initCacheDoms",value:function(e){var t=(0,_App_js__WEBPACK_IMPORTED_MODULE_2__.Bt)().$dom.queryAll("[tg]");e.forEach((function(e){e.$dom=null}));var n,r=_TUtil_js__WEBPACK_IMPORTED_MODULE_1__.d.list2map(e.filter((function(e){return"BI"!==e.type}))),i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.getAttribute("id"),l=r[o];l?l.$dom=new _$Dom_js__WEBPACK_IMPORTED_MODULE_0__.J("#".concat(o)):_$Dom_js__WEBPACK_IMPORTED_MODULE_0__.J.detach(a)}}catch(e){i.e(e)}finally{i.f()}}},{key:"initPageDoms",value:function(e){var t,n=new Map,r=_createForOfIteratorHelper(e.queryAll("*"));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=void 0,o=Array.from(i.attributes),l=o.some((function(e){return"tg"===e.name||e.name.startsWith("tg-")})),s={};if(l){var u,c=_createForOfIteratorHelper(o);try{for(c.s();!(u=c.n()).done;){var h=u.value;if(h.name.startsWith("tg-")){var d=h.name.slice(3),f=_TargetData_js__WEBPACK_IMPORTED_MODULE_3__.u.attributesToTargets[d]||d,v=h.value.trim(),g=DomInit.parseString(v);s[f]=g}}}catch(e){c.e(e)}finally{c.f()}}var y=i.parentElement,p=n.get(y),m=void 0;if(Object.keys(s).length>0&&((m=i.getAttribute("id"))||p||(m=_App_js__WEBPACK_IMPORTED_MODULE_2__.qw.getOid("blank").oid,i.setAttribute("id",m)),i.getAttribute("tg")||i.setAttribute("tg",!0),a=_objectSpread({id:m,$dom:new _$Dom_js__WEBPACK_IMPORTED_MODULE_0__.J(i)},s)),p){a||(a={textOnly:!1,html:i.outerHTML,$dom:new _$Dom_js__WEBPACK_IMPORTED_MODULE_0__.J(i)});var b=DomInit.getChildrenKey(p);b?Array.isArray(p[b].value)?p[b].value.push(a):"string"==typeof p[b]?p[b]={cycles:_TUtil_js__WEBPACK_IMPORTED_MODULE_1__.d.isNumber(+p[b])?+p[b]:0,value:[a]}:"object"===_typeof(p[b])&&(p[b].value=[a]):p._children$={cycles:0,value:[a]},n.set(i,a)}else a&&n.set(i,a)}}catch(e){r.e(e)}finally{r.f()}var T,w=_createForOfIteratorHelper(n.values());try{for(w.s();!(T=w.n()).done;){var k=T.value,S=k.$dom.element.parentElement,E=n.get(S);E?(k.$dom.detach(),delete k.$dom,delete k.id,k.sourceDom=!0,k.shouldBeBracketed=!1,k.otype=k.id||(E.id||_App_js__WEBPACK_IMPORTED_MODULE_2__.qw.getOid("blank").oid)+"_",k.isVisible=_TUtil_js__WEBPACK_IMPORTED_MODULE_1__.d.isDefined(k.isVisible)?k.isVisible:function(){return this.getParent().isVisible()},k.domParent=_TUtil_js__WEBPACK_IMPORTED_MODULE_1__.d.isDefined(k.domParent)?k.domParent:function(){return this.getParent()}):(k.isVisible=!_TUtil_js__WEBPACK_IMPORTED_MODULE_1__.d.isDefined(k.isVisible)||k.isVisible,k.sourceDom=!0,(0,_App_js__WEBPACK_IMPORTED_MODULE_2__.Bt)().addChild(k))}}catch(e){w.e(e)}finally{w.f()}}},{key:"getChildrenKey",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if(r.toLowerCase().includes("children"))return r}return null}},{key:"parseString",value:function parseString(rawValue){if("string"!=typeof rawValue)return rawValue;var trimmed=rawValue.trim(),isFunction=/^function\s*\([\s\S]*?\)\s*\{[\s\S]*\}$/m.test(trimmed)||/^\(?[\w\s,]*\)?\s*=>\s*(\{[\s\S]*\}|\S+)/m.test(trimmed),isObject=/^(\{[\s\S]*\}|\[[\s\S]*\])$/.test(trimmed);if(!isObject&&!isFunction&&(trimmed.includes("return")||trimmed.includes("setTarget")||trimmed.includes("TargetJS."))||trimmed.includes("addChild"))try{return new Function(trimmed)}catch(e){}if(isObject||isFunction)try{return eval("(".concat(trimmed,")"))}catch(e){}try{return JSON.parse(trimmed)}catch(e){}return rawValue}}])}()},736:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}n.d(t,{G:function(){return o}});var o=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"linear",value:function(e){return e}},{key:"inQuad",value:function(e){return e*e}},{key:"outQuad",value:function(e){return e*(2-e)}},{key:"outExpo",value:function(e){return 1-(1-e)*(1-e)}},{key:"circular",value:function(e){return Math.sqrt(1- --e*e)}},{key:"inOutQuad",value:function(e){return e<.5?2*e*e:(4-2*e)*e-1}},{key:"inOut",value:function(e){return e<.5?2*e*e:(4-2*e)*e-1}},{key:"outElastic",value:function(e){var t=2*Math.PI/3;return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1}}],null&&i(e.prototype,null),t&&i(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()},745:function(e,t,n){n.d(t,{X:function(){return h}});var r=n(129),i=n(287);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"clear",value:function(){e.foundParentWithType={},e.foundParentWithTarget={},e.foundTypeMap={},e.foundTargetMap={},e.foundOids={},e.foundHandler={}}},{key:"findFirstScrollHandler",value:function(t,n,r){if(t){var i="".concat(t.oid," ").concat(n," ").concat(r);if(e.foundHandler[i])return e.foundHandler[i];var a=this.findScrollHandler(t,r,n);return a&&(e.foundHandler[i]=a),a}}},{key:"findFirstHandler",value:function(t,n){if(t){var r="".concat(t.oid," ").concat(n);if(e.foundHandler[r])return e.foundHandler[r];var i=this.findEventHandler(t,n);return i&&(e.foundHandler[r]=i),i}}},{key:"findFirstScrollTopHandler",value:function(e,t){return this.findFirstScrollHandler(e,"onScrollTop",t)}},{key:"findFirstScrollLeftHandler",value:function(e,t){return this.findFirstScrollHandler(e,"onScrollLeft",t)}},{key:"findFirstPinchHandler",value:function(e){return this.findFirstHandler(e,"onPinch")}},{key:"findFirstSwipeHandler",value:function(e){return this.findFirstHandler(e,"onSwipe")}},{key:"findFirstEnterHandler",value:function(e){return this.findFirstHandler(e,"onEnter")}},{key:"findFirstLeaveHandler",value:function(e){return this.findFirstHandler(e,"onLeave")}},{key:"findFirstClickHandler",value:function(e){return this.findFirstHandler(e,"onClick")||this.findFirstHandler(e,"onAnyClick")}},{key:"findScrollHandler",value:function(e,t,n){for(;e&&(!e.canHandleEvent("onSwipe")||"wheel"===t);){if(e.canHandleEvent(n)||e.canHandleEvent("onScroll"))return e;e=e.getParent()}}},{key:"findEventHandler",value:function(e,t){for(;e;){if(e.canHandleEvent(t))return e;e=e.getParent()}}},{key:"findParentByType",value:function(t,n){var i="".concat(t.oid,"__").concat(n);if(!r.d.isDefined(e.foundParentWithType[i]))for(var a=t.getParent();a;){if(a.type===n){e.foundParentWithType[i]=a;break}a=a.getParent()}return e.foundParentWithType[i]}},{key:"findParentByTarget",value:function(t,n){var i="".concat(t.oid,"__").concat(n);if(!r.d.isDefined(e.foundParentWithTarget[i]))for(var a=t.getParent();a;){if(r.d.isDefined(a.targets[n])||r.d.isDefined(a.targetValues[n])){e.foundParentWithTarget[i]=a;break}a=a.getParent()}return e.foundParentWithTarget[i]}},{key:"findByType",value:function(t){if(!r.d.isDefined(e.foundTypeMap[t])){var n=function(e){if(e.type===t)return e;var r,i=o(e.getChildren());try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a&&a.hasChildren()){var l=n(a);if(l)return l}else if(a&&a.type===t)return a}}catch(e){i.e(e)}finally{i.f()}},a=n(i.E_.tRoot);a&&(e.foundTypeMap[t]=a)}return e.foundTypeMap[t]}},{key:"findByTarget",value:function(t){if(!r.d.isDefined(e.foundTargetMap[t])){var n=function(e){if(e.targets[t])return e;var r,i=o(e.getChildren());try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a&&a.hasChildren()){var l=n(a);if(l)return l}else if(a&&a.targets[t])return a}}catch(e){i.e(e)}finally{i.f()}},a=n(i.E_.tRoot);a&&(e.foundTargetMap[t]=a)}return e.foundTargetMap[t]}},{key:"find",value:function(t){if(!r.d.isDefined(e.foundOids[t])){var n=function(e){if(e.oid===t)return e;var r,i=o(e.getChildren());try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a&&a.hasChildren()){var l=n(a);if(l)return l}else if(a&&a.oid===t)return a}}catch(e){i.e(e)}finally{i.f()}},a=n(i.E_.tRoot);a&&(e.foundOids[t]=a)}return e.foundOids[t]}}],null&&s(t.prototype,null),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();u(h,"foundParentWithType",{}),u(h,"foundParentWithTarget",{}),u(h,"foundTypeMap",{}),u(h,"foundTargetMap",{}),u(h,"foundOids",{}),u(h,"foundHandler",{})},528:function(e,t,n){n.d(t,{c:function(){return M}});var r=n(287),i=n(985),a=n(129),o=n(144),l=n(956),s=n(432),u=n(745),c=n(185);function h(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function g(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}var y=function(){return e=function e(t,n,i){var o;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"object"===f(t)&&void 0===n&&(n=t,t=""),this.type=t||"blank",this.targets=Object.assign({},n),a.d.isDefined(i))r.qw.getOid(i),this.oid=i,this.oidNum=0;else{var l=r.qw.getOid(this.type);this.oid=l.oid,this.oidNum=l.num}null!==(o=n)&&void 0!==o&&o.sourceDom||!a.d.isDefined(i)||(this.originalId=i),r.qw.tmodelIdMap[this.oid]||(r.qw.tmodelIdMap[this.oid]=this),this._state={}},t=[{key:"state",value:function(){return this._state}},{key:"targetValues",get:function(){var e,t;return null!==(t=(e=this.state()).targetValues)&&void 0!==t?t:e.targetValues={}},set:function(e){this.state().targetValues=e}},{key:"actualValues",get:function(){var e,t;return null!==(t=(e=this.state()).actualValues)&&void 0!==t?t:e.actualValues={}},set:function(e){this.state().actualValues=e}},{key:"lastActualValues",get:function(){var e,t;return null!==(t=(e=this.state()).lastActualValues)&&void 0!==t?t:e.lastActualValues={}}},{key:"activeTargetList",get:function(){var e,t;return null!==(t=(e=this.state()).activeTargetList)&&void 0!==t?t:e.activeTargetList=[]},set:function(e){this.state().activeTargetList=e}},{key:"activeTargetMap",get:function(){var e,t;return null!==(t=(e=this.state()).activeTargetMap)&&void 0!==t?t:e.activeTargetMap={}},set:function(e){this.state().activeTargetMap=e}},{key:"updatingTargetList",get:function(){var e,t;return null!==(t=(e=this.state()).updatingTargetList)&&void 0!==t?t:e.updatingTargetList=[]}},{key:"updatingTargetMap",get:function(){var e,t;return null!==(t=(e=this.state()).updatingTargetMap)&&void 0!==t?t:e.updatingTargetMap={}}},{key:"updatingChildrenList",get:function(){var e,t;return null!==(t=(e=this.state()).updatingChildrenList)&&void 0!==t?t:e.updatingChildrenList=[]}},{key:"updatingChildrenMap",get:function(){var e,t;return null!==(t=(e=this.state()).updatingChildrenMap)&&void 0!==t?t:e.updatingChildrenMap={}}},{key:"activeChildrenList",get:function(){var e,t;return null!==(t=(e=this.state()).activeChildrenList)&&void 0!==t?t:e.activeChildrenList=[]}},{key:"activeChildrenMap",get:function(){var e,t;return null!==(t=(e=this.state()).activeChildrenMap)&&void 0!==t?t:e.activeChildrenMap={}}},{key:"externalEventList",get:function(){var e,t;return null!==(t=(e=this.state()).externalEventList)&&void 0!==t?t:e.externalEventList=[]}},{key:"externalEventMap",get:function(){var e,t;return null!==(t=(e=this.state()).externalEventMap)&&void 0!==t?t:e.externalEventMap={}}},{key:"internalEventList",get:function(){var e,t;return null!==(t=(e=this.state()).internalEventList)&&void 0!==t?t:e.internalEventList=[]}},{key:"internalEventMap",get:function(){var e,t;return null!==(t=(e=this.state()).internalEventMap)&&void 0!==t?t:e.internalEventMap={}}},{key:"coreTargets",get:function(){var e,t;return null!==(t=(e=this.state()).coreTargets)&&void 0!==t?t:e.coreTargets=[]}},{key:"allStyleTargetList",get:function(){var e,t;return null!==(t=(e=this.state()).allStyleTargetList)&&void 0!==t?t:e.allStyleTargetList=[]}},{key:"allStyleTargetMap",get:function(){var e,t;return null!==(t=(e=this.state()).allStyleTargetMap)&&void 0!==t?t:e.allStyleTargetMap={}}},{key:"styleTargetList",get:function(){var e,t;return null!==(t=(e=this.state()).styleTargetList)&&void 0!==t?t:e.styleTargetList=[]}},{key:"styleTargetMap",get:function(){var e,t;return null!==(t=(e=this.state()).styleTargetMap)&&void 0!==t?t:e.styleTargetMap={}}},{key:"asyncStyleTargetList",get:function(){var e,t;return null!==(t=(e=this.state()).asyncStyleTargetList)&&void 0!==t?t:e.asyncStyleTargetList=[]}},{key:"asyncStyleTargetMap",get:function(){var e,t;return null!==(t=(e=this.state()).asyncStyleTargetMap)&&void 0!==t?t:e.asyncStyleTargetMap={}}},{key:"activatedTargets",get:function(){var e,t;return null!==(t=(e=this.state()).activatedTargets)&&void 0!==t?t:e.activatedTargets=[]}},{key:"targetMethodMap",get:function(){var e,t;return null!==(t=(e=this.state()).targetMethodMap)&&void 0!==t?t:e.targetMethodMap=[]}},{key:"targetExecutionCount",get:function(){var e,t;return null!==(t=(e=this.state()).targetExecutionCount)&&void 0!==t?t:e.targetExecutionCount=0},set:function(e){this.state().targetExecutionCount=e}},{key:"addedChildren",get:function(){var e,t;return null!==(t=(e=this.state()).addedChildren)&&void 0!==t?t:e.addedChildren=[]}},{key:"deletedChildren",get:function(){var e,t;return null!==(t=(e=this.state()).deletedChildren)&&void 0!==t?t:e.deletedChildren=[]}},{key:"movedChildren",get:function(){var e,t;return null!==(t=(e=this.state()).movedChildren)&&void 0!==t?t:e.movedChildren=[]}},{key:"lastChildrenUpdate",get:function(){var e,t;return null!==(t=(e=this.state()).lastChildrenUpdate)&&void 0!==t?t:e.lastChildrenUpdate={additions:[],deletions:[]}}},{key:"visibleChildren",get:function(){var e,t;return null!==(t=(e=this.state()).visibleChildren)&&void 0!==t?t:e.visibleChildren=[]}},{key:"getParent",value:function(){return this.parent}},{key:"initTargets",value:function(){var e=this;if(this.originalTargetNames=Object.keys(this.targets),a.d.isDefined(this.originalId)&&(0,r.UR)(this.originalId))return a.d.mergeTargets((0,r.UR)(this.originalId),this),void(this.toDiscard=!0);this.actualValues=o.a.defaultActualValues(),this.targetValues={},this.activeTargetMap={},this.activeTargetList=[],this.originalTargetNames=Object.keys(this.targets);var t=c.J.query("#".concat(this.oid))||this.originalTargetNames.indexOf("$dom")>=0;t||this.excludeDefaultStyling()?t&&!a.d.isDefined(this.targets.reuseDomDefinition)&&(this.targets.reuseDomDefinition=!0,a.d.isDefined(this.targets.excludeXYCalc)||(this.targets.excludeXYCalc=!0),a.d.isDefined(this.targets.x)||(this.targets.excludeX=!0),a.d.isDefined(!this.targets.y)||(this.targets.excludeY=!0),a.d.isDefined(this.targets.position)||(this.targets.position="relative")):Object.entries(s.u.defaultTargetStyles).forEach((function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),r=n[0],i=n[1];r in e.targets||(e.targets[r]=i)})),Object.keys(this.targets).forEach((function(t){e.processNewTarget(t)}))}},{key:"processNewTarget",value:function(e){var t=this.targets[e],n=l.g.getTargetName(e);if(a.d.isDefined(t)){s.u.controlTargetMap[e]||(("object"!==f(t)||Array.isArray(t))&&(this.targets[e]={value:t},t=this.targets[e]),l.g.bindTarget(this,e,this.originalTargetNames)),s.u.allEventMap[n]&&(this.externalEventMap[n]||(this.externalEventList.push(n),this.externalEventMap[n]=!0,t.active=!1)),s.u.internalEventMap[n]&&(this.internalEventMap[n]||(this.internalEventList.push(n),this.internalEventMap[n]=!0,t.active=!1));var r=e.startsWith("_");n!==e&&(this.targets[n]=this.targets[e],r&&(this.targets[n].active=!1),delete this.targets[e],e=n),s.u.bypassInitialProcessingTargetMap[e]||(a.d.isDefined(t.initialValue)&&this.val(e,t.initialValue),this.addToStyleTargetList(e),s.u.coreTargetMap[e]&&!this.coreTargets.includes(e)&&this.coreTargets.push(e),s.u.mustExecuteTargets[e]||!a.d.isStringBooleanOrNumber(t)?!1!==t.active&&this.canTargetBeActivated(e)&&this.addToActiveTargets(e):this.val(e,t))}else this.delVal("key")}},{key:"activate",value:function(e){(0,r.zw)().addToActivatedList(this),this.currentStatus="active",e&&this.isTargetEnabled(e)&&-1===this.activatedTargets.indexOf(e)&&this.activatedTargets.push(e)}},{key:"isActivated",value:function(){return"active"===this.currentStatus}},{key:"deactivate",value:function(){this.currentStatus=void 0}},{key:"shouldExecuteCyclesInParallel",value:function(e){var t;return!0===(null===(t=this.targets[e])||void 0===t?void 0:t.parallel)}},{key:"canTargetBeActivated",value:function(e){return!(Array.isArray(this.targets.onDomEvent)&&this.targets.onDomEvent.includes(e)&&!this.hasDom())}},{key:"addToStyleTargetList",value:function(e,t){if(t||!this.excludeStyling()&&!this.targets["exclude".concat(a.d.capitalizeFirstLetter(e))]){var n=s.u.asyncStyleTargetMap[e],r=s.u.attributeTargetMap[e];if(n||r)this.asyncStyleTargetMap[e]||(this.asyncStyleTargetList.push(e),this.asyncStyleTargetMap[e]=!0);else if(this.isStyleTarget(e)){var i=!0;if(s.u.transformMap[e])this.getParent()&&this.calcAbsolutePosition(this.getX(),this.getY()),o.a.getTransformValue(this,e)===this.transformMap[e]&&(i=!1);else if("width"===e||"height"===e){var l=Math.floor("width"===e?this.getWidth():this.getHeight());this.styleMap[e]===l&&(i=!1)}else a.d.isDefined(this.val(e))&&this.styleMap[e]===this.val(e)&&(i=!1);i&&!this.styleTargetMap[e]&&(this.styleTargetList.push(e),this.styleTargetMap[e]=!0)}else{if(!this.useWindowFrame(e)||this.styleTargetMap[e])return;this.styleTargetList.push(e),this.styleTargetMap[e]=!0}this.allStyleTargetMap[e]||(this.allStyleTargetList.push(e),this.allStyleTargetMap[e]=!0)}}},{key:"isStyleTarget",value:function(e){return s.u.styleTargetMap[e]}},{key:"useWindowFrame",value:function(e){return Array.isArray(this.targets.useWindowFrame)&&this.targets.useWindowFrame.includes(e)}},{key:"removeTarget",value:function(e){delete this.targets[e],this.removeFromActiveTargets(e),this.removeFromUpdatingTargets(e),delete this.targetValues[e]}},{key:"addTarget",value:function(e,t){var n,r,i;this.addTargets((n={},i=t,(r=g(r=e))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n))}},{key:"addTargets",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.targets[n]=e[n],t.removeFromUpdatingTargets(n),t.processNewTarget(n)})),(0,r.fB)().schedule(1,"addTargets-"+this.oid)}},{key:"getTargetStepPercent",value:function(e,t){var n=this.getTargetSteps(e);return t=a.d.isDefined(t)?t:this.getTargetStep(e),n?t/n:1}},{key:"resetTargetStep",value:function(e){return this.targetValues[e]&&(this.targetValues[e].step=0),this}},{key:"resetTargetExecutionFlag",value:function(e){return this.targetValues[e]&&(this.targetValues[e].executionFlag=!1),this}},{key:"resetTargetCycle",value:function(e){return this.targetValues[e]&&(this.targetValues[e].cycle=0),this}},{key:"resetScheduleTimeStamp",value:function(e){return this.targetValues[e]&&(this.targetValues[e].scheduleTimeStamp=void 0),this}},{key:"resetTargetInitialValue",value:function(e){return this.targetValues[e]&&(this.targetValues[e].initialValue=void 0),this}},{key:"updateTargetStatus",value:function(e){var t=this.targetValues[e];if(t){var n=this.getTargetCycle(e),i=this.getTargetCycles(e),a=this.getTargetStep(e),o=this.getTargetSteps(e);return this.isExecuted(e)&&a<o||Array.isArray(t.valueList)&&n<t.valueList.length-1?this.targetValues[e].status="updating":!this.isExecuted(e)||this.isTargetInLoop(e)||n<i?this.targetValues[e].status="active":this.targetValues[e].status="done",this.isTargetUpdating(e)?(this.addToUpdatingTargets(e),this.removeFromActiveTargets(e)):this.isTargetActive(e)?(this.addToActiveTargets(e),this.removeFromUpdatingTargets(e)):(this.removeFromActiveTargets(e),this.removeFromUpdatingTargets(e),r.E_.manager.doneTargets.push({tmodel:this,key:e})),this.targetValues[e].status}}},{key:"getTargetStatus",value:function(e){return this.targetValues[e]?this.targetValues[e].status:""}},{key:"isTargetActive",value:function(e){return this.targetValues[e]&&"active"===this.targetValues[e].status}},{key:"isTargetUpdating",value:function(e){return this.targetValues[e]&&"updating"===this.targetValues[e].status}},{key:"isTargetDone",value:function(e){return this.targetValues[e]&&"done"===this.targetValues[e].status}},{key:"isTargetComplete",value:function(e){return this.targetValues[e]&&"complete"===this.targetValues[e].status}},{key:"isExecuted",value:function(e){return this.targetValues[e]&&this.targetValues[e].executionFlag}},{key:"neverExecuted",value:function(e){return!this.targetValues[e]}},{key:"isTargetImperative",value:function(e){return!!this.targetValues[e]&&this.targetValues[e].isImperative}},{key:"getTargetExecutionCount",value:function(e){return this.targetValues[e]?this.targetValues[e].executionCount:0}},{key:"setTargetComplete",value:function(e){this.targetValues[e]&&(this.targetValues[e].status="complete")}},{key:"isTargetEnabled",value:function(e){var t=this.targets[e];return!!a.d.isDefined(t)&&("function"!=typeof t.enabledOn||(this.setTargetMethodName(e,"enabledOn"),t.enabledOn.call(this)))}},{key:"isTargetInLoop",value:function(e){return!!this.targets[e]&&("function"==typeof this.targets[e].loop?this.targets[e].loop.call(this,e):this.targets[e].loop)}},{key:"doesTargetEqualActual",value:function(e){if(this.targetValues[e]){var t=!!this.targets[e]&&this.targets[e].deepEquality;return t?a.d.areEqual(this.getTargetValue(e),this.val(e),t):this.getTargetValue(e)===this.val(e)}return!1}},{key:"getTargetValue",value:function(e){return this.targetValues[e]?"function"==typeof this.targetValues[e].value?this.targetValues[e].value.call(this):this.targetValues[e].value:void 0}},{key:"getTargetSteps",value:function(e){return this.targetValues[e]&&this.targetValues[e].steps||0}},{key:"getTargetStep",value:function(e){return this.targetValues[e]?this.targetValues[e].step:0}},{key:"getScheduleTimeStamp",value:function(e){return this.targetValues[e]?this.targetValues[e].scheduleTimeStamp:void 0}},{key:"isScheduledPending",value:function(e){var t=this.getScheduleTimeStamp(e),n=this.getTargetInterval(e);return t&&t+n>a.d.now()}},{key:"shouldScheduleRun",value:function(e){var t,n;return null===(t=null===(n=this.targets[e])||void 0===n?void 0:n.triggerRerun)||void 0===t||t}},{key:"getTargetInitialValue",value:function(e){var t;return null===(t=this.targetValues[e])||void 0===t?void 0:t.initialValue}},{key:"getActualValueLastUpdate",value:function(e){var t;return null===(t=this.targetValues[e])||void 0===t?void 0:t.actualValueLastUpdate}},{key:"getDimLastUpdate",value:function(){return Math.max(this.getActualValueLastUpdate("width")||0,this.getActualValueLastUpdate("height")||0,this.domHeightTimestamp,this.domWidthTimestamp)}},{key:"getTargetCreationTime",value:function(e){return this.targetValues[e]?this.targetValues[e].creationTime:void 0}},{key:"incrementTargetStep",value:function(e,t,n,r,i){var a=this.targetValues[e];if(a){var o=r||8,l=t-n,s=Math.max(1,Math.floor(l/o));return a.step=Math.min(i,a.step+s),a.step}}},{key:"getTargetCycles",value:function(e){return this.targetValues[e]&&this.targetValues[e].cycles||0}},{key:"getTargetCycle",value:function(e){return this.targetValues[e]?this.targetValues[e].cycle:0}},{key:"incrementTargetCycle",value:function(e){return this.targetValues[e]&&this.targetValues[e].cycle++,this.targetValues[e].cycle}},{key:"setTargetInterval",value:function(e,t){return this.targetValues[e]&&(this.targetValues[e].interval=t),this.targetValues[e].interval}},{key:"setScheduleTimeStamp",value:function(e,t){this.targetValues[e]&&(this.targetValues[e].scheduleTimeStamp=t)}},{key:"setTargetInitialValue",value:function(e,t){this.targetValues[e]&&(this.targetValues[e].initialValue=t)}},{key:"setActualValueLastUpdate",value:function(e){this.targetValues[e]&&(this.targetValues[e].actualValueLastUpdate=a.d.now())}},{key:"getTargetEasing",value:function(e){return"function"==typeof this.targetValues[e].easing?this.targetValues[e].easing:void 0}},{key:"getTargetInterval",value:function(e){var t=this.targetValues[e];return(null==t?void 0:t.interval)||0}},{key:"setTarget",value:function(e,t,n,r,a){if("object"===f(e)&&null!==e){var o=[e,t,n,r,a];t=o[0],n=o[1],r=o[2],a=o[3],e=""}var s=l.g.currentTargetName,u=l.g.currentTModel;return this.getParent()===u&&l.g.markTargetAction(u,"childAction"),i.j.executeImperativeTarget(this,e,t,n,r,a,s,u),this}},{key:"hasTargetUpdates",value:function(e){return e?!0===this.updatingTargetMap[e]:this.updatingTargetList.length>0}},{key:"addToActiveTargets",value:function(e){var t=this;if(!this.activeTargetMap[e]&&this.canTargetBeActivated(e)){var n;this.activeTargetMap[e]=!0;var r=["y","x","height","width","start"];-1!==r.indexOf(e)?(this.activeTargetList=this.activeTargetList.filter((function(e){return!r.includes(e)})),r.forEach((function(e){t.activeTargetMap[e]&&t.activeTargetList.unshift(e)}))):this.activeTargetList.push(e),null===(n=this.getParent())||void 0===n||n.addToActiveChildren(this)}}},{key:"removeFromActiveTargets",value:function(e){if(this.activeTargetMap[e]){delete this.activeTargetMap[e];var t,n=this.activeTargetList.indexOf(e);n>=0&&this.activeTargetList.splice(n,1),0===this.activeTargetList.length&&(null===(t=this.getParent())||void 0===t||t.removeFromActiveChildren(this))}}},{key:"addToUpdatingTargets",value:function(e){var t;this.updatingTargetMap[e]||(this.updatingTargetMap[e]=!0,this.updatingTargetList.push(e),null===(t=this.getParent())||void 0===t||t.addToUpdatingChildren(this))}},{key:"removeFromUpdatingTargets",value:function(e){if(this.updatingTargetMap[e]){delete this.updatingTargetMap[e];var t,n=this.updatingTargetList.indexOf(e);n>=0&&this.updatingTargetList.splice(n,1),0===this.updatingTargetList.length&&(null===(t=this.getParent())||void 0===t||t.removeFromUpdatingChildren(this))}}},{key:"hasUpdatingTargets",value:function(e){var t,n=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=h(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){o=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(o)throw i}}}}(this.updatingTargetList);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.isTargetImperative(r)&&this.targetValues[r].originalTargetName===e)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"addToUpdatingChildren",value:function(e){this.updatingChildrenMap[e.oid]||(this.updatingChildrenMap[e.oid]=!0,this.updatingChildrenList.push(e))}},{key:"removeFromUpdatingChildren",value:function(e){if(this.updatingChildrenMap[e.oid]){delete this.updatingChildrenMap[e.oid];var t=this.updatingChildrenList.indexOf(e);t>=0&&this.updatingChildrenList.splice(t,1)}}},{key:"hasUpdatingChildren",value:function(){return this.updatingChildrenList.length>0}},{key:"addToActiveChildren",value:function(e){this.activeChildrenMap[e.oid]||(this.activeChildrenMap[e.oid]=!0,this.activeChildrenList.push(e))}},{key:"removeFromActiveChildren",value:function(e){if(this.activeChildrenMap[e.oid]){delete this.activeChildrenMap[e.oid];var t=this.activeChildrenList.indexOf(e);t>=0&&this.activeChildrenList.splice(t,1)}}},{key:"hasActiveChildren",value:function(){return this.activeChildrenList.length>0}},{key:"deleteTargetValue",value:function(e){var t=this.targetValues[e];return delete this.targetValues[e],this.addToActiveTargets(e),this.removeFromUpdatingTargets(e),t&&(0,r.fB)().schedule(1,"deleteTargetValue-"+this.oid+"-"+e),this}},{key:"resetImperative",value:function(e){var t=this.targetValues[e],n=null==t?void 0:t.isImperative;return t&&(t.isImperative=!1,t.executionFlag=!1,t.scheduleTimeStamp=void 0,t.step=0,t.cycle=0,t.steps=0,t.cycles=0,t.interval=0),n&&(0,r.fB)().schedule(1,"resetImperative-"+this.oid+"-"+e),this}},{key:"activateTarget",value:function(e,t){if(this.canTargetBeActivated(e)){a.d.isDefined("value")&&this.val("__".concat(e),t);var n=this.targetValues[e];n?(n.isImperative=!1,n.executionFlag=!1,n.scheduleTimeStamp=void 0,n.step=0,n.cycle=Array.isArray(n.valueList)?1:0,this.updateTargetStatus(e)):this.addToActiveTargets(e),this.activate(e)}return this}},{key:"activateAncestorTarget",value:function(e){var t;null===(t=u.X.findParentByTarget(this,e))||void 0===t||t.activateTarget(e)}},{key:"manageChildTargetExecution",value:function(e,t){return t||this.shouldCalculateChildTargets()||e.hasChildren()||e.addedChildren.length>0||0===e.targetExecutionCount}},{key:"shouldCalculateChildTargets",value:function(){return this.val("shouldCalculateChildTargets")}},{key:"getCoreTargets",value:function(){var e=this.val("coreTargets");return a.d.isDefined(e)?e:this.state().coreTargets}},{key:"setTargetMethodName",value:function(e,t){(!s.u.ignoreTargetMethodNameMap[e]||this.isTargetUpdating(e)||this.isTargetImperative(e))&&(this.targetMethodMap[e]||(this.targetMethodMap[e]=[]),this.targetMethodMap[e].includes(t)||this.targetMethodMap[e].push(t))}}],t&&v(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),p=n(675);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function T(e){var t=function(e){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:t+""}function w(e,t,n){return t=S(t),function(e,t){if(t&&("object"==m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,k()?Reflect.construct(t,n||[],S(e).constructor):t.apply(e,n))}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var M=function(e){function t(e,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=w(this,t,[e,n,r])).allChildrenList=[],i.allChildrenMap={},i.childrenUpdateFlag=!1,i.$dom=null,i.x=0,i.y=0,i.absX=0,i.absY=0,i.domHeightTimestamp=0,i.domWidthTimestamp=0,i.contentWidth=0,i.contentHeight=0,i.bottomBaseWidth=0,i.topBaseHeight=0,i.styleMap={},i.transformMap={},i.visibilityStatus=void 0,i.hasDomNow=!1,i.isNowVisible=!1,i.currentStatus="new",i.initTargets(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e),n=t,i=[{key:"createViewport",value:function(){this.viewport=this.viewport||new p.L;var e=-this.getScrollLeft(),t=-this.getScrollTop(),n=e,r=t;for(var i in this.viewport.xNext=n,this.viewport.xNorth=n,this.viewport.xEast=n,this.viewport.xSouth=n,this.viewport.xWest=n,this.viewport.scrollLeft=e,this.viewport.scrollTop=t,this.viewport.absX=this.absX,this.viewport.absY=this.absY,this.viewport.xOverflowReset=this.absX,this.viewport.xOverflowLimit=this.absX+this.getWidth(),this.viewport.yNext=r,this.viewport.yNorth=r,this.viewport.yWest=r,this.viewport.yEast=r,this.viewport.ySouth=r,Object.assign(this.viewport,this.val("viewport")||{}),this.viewport){var o="viewport_".concat(i);a.d.isDefined(this.val(o))&&(this.viewport[i]=this.val(o))}return this.viewport}},{key:"calcAbsolutePosition",value:function(e,t){this.absX=a.d.isDefined(this.val("absX"))?this.val("absX"):this.getParent().absX+e,this.absY=a.d.isDefined(this.val("absY"))?this.val("absY"):this.getParent().absY+t}},{key:"removeChild",value:function(e){if(e)return this.deletedChildren.push(e),this.removeFromUpdatingChildren(e),this.childrenUpdateFlag=!0,(0,r.fB)().schedule(1,"removeChild-"+this.oid+"-"+e.oid),this}},{key:"moveChild",value:function(e,t){return this.movedChildren.push({index:t,child:e}),e.hasDom()&&e.requiresDomRelocation()&&(e.domOrderIndex=t,e.activate()),this.childrenUpdateFlag=!0,(0,r.fB)().schedule(1,"moveChild-"+this.oid+"-"+e.oid),this}},{key:"addChild",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.addedChildren.length+this.allChildrenList.length;if(l.g.markTargetAction(this,"childAction"),"object"===m(e)){if(this.childrenUpdateFlag=!0,!(e instanceof t)){var i=Object.keys(this.actualValues).find((function(t){return n.actualValues[t]===e}));i?(e=new t(e.id||i,e),this.actualValues[i]=e):e=a.d.isDefined(e.otype)?new t(e.otype,e):a.d.isDefined(e.id)?new t(e.id,e,e.id):new t("".concat(this.oid,"_"),e)}e.toDiscard||(this.addedChildren.push({index:r,child:e}),e.parent=this,e.updatingTargetList.length>0&&this.addToUpdatingChildren(e),e.activeTargetList.length>0&&this.addToActiveChildren(e),e.activate())}return this}},{key:"getChildren",value:function(){var e,t,n,r=this,i=this.state();if((null===(e=i.deletedChildren)||void 0===e?void 0:e.length)>0&&(this.deletedChildren.forEach((function(e){if(r.allChildrenMap[e.oid]){var t=r.allChildrenList.indexOf(e);r.lastChildrenUpdate.deletions.push(e),r.allChildrenList.splice(t,1),delete r.allChildrenMap[e.oid]}})),this.deletedChildren.length=0),(null===(t=i.addedChildren)||void 0===t?void 0:t.length)>0&&(this.addedChildren.sort((function(e,t){return e.index-t.index})),this.addedChildren.forEach((function(e){var t=e.index,n=e.child;r.allChildrenMap[n.oid]||(a.d.isDefined(n.val("canDeleteDom"))||!1!==r.val("canDeleteDom")||n.val("canDeleteDom",!1),t>=r.allChildrenList.length?r.allChildrenList.push(n):r.allChildrenList.splice(t,0,n),r.allChildrenMap[n.oid]=n,r.lastChildrenUpdate.additions.push({index:t,child:n}))})),this.addedChildren.length=0),(null===(n=i.movedChildren)||void 0===n?void 0:n.length)>0){this.movedChildren.sort((function(e,t){return e.index-t.index}));var o={},l={};this.movedChildren.forEach((function(e){var t=e.index,n=e.child;r.lastChildrenUpdate.deletions.push(n),r.lastChildrenUpdate.additions.push({index:t,child:n});var i=r.allChildrenList.indexOf(n);if(t!==i){l[n.oid]&&delete l[n.oid];var a=r.allChildrenList.splice(t,1,n);!o[t]&&a.length>0&&(l[a[0].oid]={child:a[0],index:t+1}),i>=0&&(o[i]={fromIndex:i<t?i:t,child:n}),o[t]&&delete o[t]}})),Object.values(l).forEach((function(e){var t=e.index,n=e.child;r.allChildrenList.splice(t,0,n)})),Object.values(o).forEach((function(e){var t=e.fromIndex,n=e.child,i=r.allChildrenList.indexOf(n,t);r.allChildrenList.splice(i,1)})),this.movedChildren.length=0}return this.allChildrenList}},{key:"removeAll",value:function(){return this.allChildrenList=[],this.allChildrenMap={},this.state().updatingChildrenList=[],this.state().updatingChildrenMap={},this.hasDom()&&this.$dom.deleteAll(),this}},{key:"addToParentVisibleChildren",value:function(){this.isVisible()&&this.isInFlow()&&this.getParent()&&this.getParent().visibleChildren.push(this)}},{key:"shouldCalculateChildren",value:function(){if(a.d.isDefined(this.val("calculateChildren")))return this.val("calculateChildren");var e=this.isIncluded()&&(this.isVisible()||"new"===this.currentStatus)&&(this.hasChildren()||this.childrenUpdateFlag||this.getContentHeight()>0);return this.currentStatus=void 0,e}},{key:"getFirstChild",value:function(){return this.getChildren()[0]}},{key:"hasChildren",value:function(){return this.getChildren().length>0}},{key:"findChildren",value:function(e){return this.getChildren().filter((function(t){return t.type===e}))}},{key:"getLastChild",value:function(){return this.getChildren()[this.allChildrenList.length-1]}},{key:"getChild",value:function(e){return this.getChildren()[e]}},{key:"getChildIndex",value:function(e){return this.getChildren().indexOf(e)}},{key:"getChildrenOids",value:function(){return this.getChildren().map((function(e){return e.oid})).join(" ")}},{key:"findChild",value:function(e){return this.getChildren().find((function(t){return t.type===e}))}},{key:"findLastChild",value:function(e){return this.getChildren().findLast((function(t){return t.type===e}))}},{key:"getChildByOid",value:function(e){return this.allChildrenMap[e]}},{key:"getParentValue",value:function(e){var t=u.X.findParentByTarget(this,e);return t?t.val(e):void 0}},{key:"getParentValueAtMyIndex",value:function(e){var t=this.getParentValue(e);if(Array.isArray(t)){var n,r=null===(n=this.getParent())||void 0===n?void 0:n.getChildIndex(this);if("number"==typeof r)return t[r]}return t}},{key:"delVal",value:function(e){e.startsWith("_")?delete this[e.slice(1)]:delete this.actualValues[e]}},{key:"val",value:function(e,t){var n,r=this.actualValues,i=this.lastActualValues;return null!==(n=e)&&void 0!==n&&n.startsWith("_")&&(r=this,e=e.slice(1)),void 0!==t?(i[e]=r[e],t!==r[e]&&(r[e]=t),this):r[e]}},{key:"lastVal",value:function(e){return this.lastActualValues[e]}},{key:"floorVal",value:function(e){return Math.floor(this.val(e))}},{key:"getDomParent",value:function(){return this.val("domParent")||u.X.findParentByTarget(this,"domHolder")}},{key:"getDomHolder",value:function(e){var t=this.val("domHolder"),n=this.getDomParent();return!0===t&&e!==this?this.$dom:t&&!0!==t&&e.$dom!==t?t:n?n.$dom:null}},{key:"bug",value:function(){return[{visible:this.isVisible()},{visibilityStatus:this.visibilityStatus},{hasDom:this.hasDom()},{x:this.getX()},{y:this.getY()},{width:this.getWidth()},{height:this.getHeight()},{activeTargetList:this.activeTargetList},{updatingTargetList:this.updatingTargetList},{updatingChildrenList:this.updatingChildrenList},{activeChildrenList:this.activeChildrenList},{children:this.getChildren()},{targetValues:this.targetValues},{actualValues:this.actualValues}]}},{key:"logTree",value:function(){a.d.logTree(this)}},{key:"isVisible",value:function(){return this.val("isVisible")}},{key:"calcVisibility",value:function(){return a.d.calcVisibility(this)}},{key:"validateVisibilityInParent",value:function(){return!!a.d.isDefined(this.val("validateVisibilityInParent"))&&this.val("validateVisibilityInParent")}},{key:"hasDomHolderChanged",value:function(){return!this.reuseDomDefinition()&&this.getDomHolder(this)&&this.getDomHolder(this).exists()&&this.$dom.parent()!==this.getDomHolder(this).element}},{key:"hasBaseElementChanged",value:function(){return this.getBaseElement()!==this.$dom.getTagName()}},{key:"hasDom",value:function(){return!!this.$dom&&this.$dom.exists()}},{key:"getRealParent",value:function(){return this.parent}},{key:"getContentHeight",value:function(){return this.contentHeight}},{key:"getContentWidth",value:function(){return this.contentWidth}},{key:"calcContentWidthHeight",value:function(){this.contentHeight=this.viewport.ySouth-this.viewport.yNorth,this.topBaseHeight=this.viewport.yEast-this.viewport.yNorth,this.bottomBaseWidth=this.viewport.xSouth-this.viewport.xWest,this.contentWidth=this.viewport.xEast-this.viewport.xWest}},{key:"getBaseWidth",value:function(){var e;return null!==(e=this.val("baseWidth"))&&void 0!==e?e:this.getWidth()}},{key:"getMinWidth",value:function(){var e;return null!==(e=this.val("minWidth"))&&void 0!==e?e:this.getWidth()}},{key:"getTopBaseHeight",value:function(){var e;return null!==(e=this.val("topBaseHeight"))&&void 0!==e?e:0}},{key:"getContainerOverflowMode",value:function(){var e;return null!==(e=this.val("containerOverflowMode"))&&void 0!==e?e:"auto"}},{key:"getItemOverflowMode",value:function(){var e;return null!==(e=this.val("itemOverflowMode"))&&void 0!==e?e:"auto"}},{key:"getUIDepth",value:function(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}},{key:"isTextOnly",value:function(){return this.val("textOnly")}},{key:"getHtml",value:function(){return this.val("html")}},{key:"isInFlow",value:function(){return!a.d.isDefined(this.val("isInFlow"))||this.val("isInFlow")}},{key:"canHandleEvent",value:function(e){var t,n;return null!==(t=null===(n=this.state().externalEventMap)||void 0===n?void 0:n[e])&&void 0!==t&&t}},{key:"preventDefault",value:function(){return a.d.isDefined(this.val("preventDefault"))?this.val("preventDefault"):this.getParentValue("preventDefault")||!1}},{key:"canDeleteDom",value:function(){return a.d.isDefined(this.val("canDeleteDom"))?this.val("canDeleteDom"):!this.reuseDomDefinition()}},{key:"excludeDefaultStyling",value:function(){return!1===this.targets.defaultStyling||this.excludeStyling()||this.reuseDomDefinition()&&0===this.allStyleTargetList.length}},{key:"excludeStyling",value:function(){return!1===this.targets.styling}},{key:"getBracketThreshold",value:function(){return this.val("bracketThreshold")}},{key:"getBracketSize",value:function(){return this.val("bracketSize")}},{key:"shouldBeBracketed",value:function(){return a.d.isDefined(this.val("shouldBeBracketed"))?this.val("shouldBeBracketed"):this.getChildren().length>this.getBracketThreshold()}},{key:"isIncluded",value:function(){return this.val("isIncluded")}},{key:"canHaveDom",value:function(){return!(this.targets.$dom&&!this.val("$dom"))&&this.val("canHaveDom")}},{key:"requiresDomRelocation",value:function(){return a.d.isDefined(this.val("requiresDomRelocation"))?this.val("requiresDomRelocation"):!a.d.isDefined(this.transformMap.x)&&!a.d.isDefined(this.transformMap.y)}},{key:"getBaseElement",value:function(){return this.val("baseElement")}},{key:"getOpacity",value:function(){return this.val("opacity")}},{key:"getCenterX",value:function(){return a.d.isDefined(this.getParentValue("width"))?(this.getParentValue("width")-this.getWidth())/2:0}},{key:"getCenterY",value:function(){return a.d.isDefined(this.getParentValue("height"))?(this.getParentValue("height")-this.getHeight())/2:0}},{key:"getX",value:function(){return this.val("x")}},{key:"getY",value:function(){return this.val("y")}},{key:"getTransformX",value:function(){var e;return this.absX-(null===(e=this.getDomParent())||void 0===e?void 0:e.absX)}},{key:"getTransformY",value:function(){var e;return this.absY-(null===(e=this.getDomParent())||void 0===e?void 0:e.absY)}},{key:"getZ",value:function(){return this.val("z")}},{key:"getPerspective",value:function(){return this.val("perspective")}},{key:"getRotate",value:function(){return this.val("rotate")}},{key:"getRotateX",value:function(){return this.val("rotateX")}},{key:"getRotateY",value:function(){return this.val("rotateY")}},{key:"getRotateZ",value:function(){return this.val("rotateZ")}},{key:"getScale",value:function(){return this.val("scale")}},{key:"getScaleX",value:function(){return this.val("scaleX")}},{key:"getScaleY",value:function(){return this.val("scaleY")}},{key:"getScaleZ",value:function(){return this.val("scaleZ")}},{key:"getSkewX",value:function(){return this.val("skewX")}},{key:"getSkewY",value:function(){return this.val("skewY")}},{key:"getSkewZ",value:function(){return this.val("skewZ")}},{key:"getMeasuringScale",value:function(){return this.val("scale")}},{key:"getZIndex",value:function(){return this.val("zIndex")}},{key:"getTopMargin",value:function(){return this.val("topMargin")}},{key:"getLeftMargin",value:function(){return this.val("leftMargin")}},{key:"getRightMargin",value:function(){return this.val("rightMargin")}},{key:"getBottomMargin",value:function(){return this.val("bottomMargin")}},{key:"getWidth",value:function(){return this.val("width")}},{key:"getHeight",value:function(){return this.val("height")}},{key:"getScrollTop",value:function(){return this.val("scrollTop")}},{key:"getScrollLeft",value:function(){return this.val("scrollLeft")}},{key:"getCss",value:function(){return this.val("css")}},{key:"getStyle",value:function(){return this.val("style")}},{key:"getBackground",value:function(){return this.val("background")}},{key:"getBackgroundColor",value:function(){return this.val("backgroundColor")}},{key:"getAttributes",value:function(){return this.val("attributes")}},{key:"getInputValue",value:function(){return this.hasDom()?this.$dom.value():void 0}},{key:"isOverflowHidden",value:function(){return"hidden"===this.val("overflow")}},{key:"reuseDomDefinition",value:function(){return this.val("reuseDomDefinition")}}],i&&b(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(y)},144:function(e,t,n){n.d(t,{a:function(){return v}});var r=n(129),i=n(432),a=n(287),o=n(185),l=n(210);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function c(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}var h,d,f,v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"defaultActualValues",value:function(){return{x:0,y:0,width:0,height:0,leftMargin:0,rightMargin:0,topMargin:0,bottomMargin:0,opacity:1,scale:1,scrollLeft:0,scrollTop:0,textOnly:!0,borderRadius:0,children:[],isInFlow:!0,baseElement:"div",canHaveDom:!0,widthFromDom:!1,heightFromDom:!1,isIncluded:!0,bracketThreshold:10,bracketSize:5,preventDefault:void 0,canDeleteDom:void 0}}},{key:"shouldMeasureHeightFromDom",value:function(t){return!t.excludeDefaultStyling()&&!r.d.isDefined(t.targetValues.height)&&!e.isHeightDefined(t)&&!t.hasChildren()||!!t.getTargetValue("heightFromDom")}},{key:"shouldMeasureWidthFromDom",value:function(t){return!((t.excludeDefaultStyling()||t.reuseDomDefinition()||r.d.isDefined(t.targetValues.width)||e.isWidthDefined(t)||t.hasChildren())&&!t.getTargetValue("widthFromDom"))}},{key:"isHeightDefined",value:function(e){var t;return r.d.isDefined(e.targets.height)||r.d.isDefined(null===(t=e.targets.style)||void 0===t?void 0:t.height)}},{key:"isWidthDefined",value:function(e){var t;return r.d.isDefined(e.targets.width)||r.d.isDefined(null===(t=e.targets.style)||void 0===t?void 0:t.width)}},{key:"createDom",value:function(t){t.$dom=new o.J,t.$dom.create(t.getBaseElement()),t.$dom.setSelector("#".concat(t.oid)),t.$dom.setId(t.oid),t.$dom.attr("tg","true"),t.isTextOnly()?t.$dom.text(t.getHtml()):t.$dom.html(t.getHtml()),t.setActualValueLastUpdate("html"),t.domHeightTimestamp=0,t.domWidthTimestamp=0,t.transformMap={},t.styleMap={},t.allStyleTargetList.forEach((function(e){r.d.isDefined(t.val(e))&&t.addToStyleTargetList(e)})),e.fixStyle(t),e.fixAsyncStyle(t)}},{key:"getTransformValue",value:function(e,t){var n;return"x"===t?n=e.getTransformX():"y"===t?n=e.getTransformY():i.u.transformMap[t]&&(n=i.u.rotate3D[t]?e.val(t):i.u.scaleMap[t]?r.d.formatNum(e.val(t),2):e.floorVal(t)),n}},{key:"fixStyle",value:function(t){var n=!1;t.styleTargetList.forEach((function(a){if(i.u.transformMap[a]){var o=e.getTransformValue(t,a);t.transformMap[a]!==o&&(t.transformMap[a]=o,n=!0)}else if("width"===a){var l=Math.floor(t.getWidth());t.$dom.getStyleValue("width")!==l&&(t.styleMap.width=l,t.$dom.width(l))}else if("height"===a){var s=Math.floor(t.getHeight());t.$dom.getStyleValue("height")!==s&&(t.styleMap.height=s,t.$dom.height(s))}else i.u.styleWithUnitMap[a]?r.d.isDefined(t.val(a))&&t.styleMap[a]!==t.val(a)&&(t.$dom.style(a,r.d.isNumber(t.val(a))?"".concat(t.val(a),"px"):t.val(a)),t.styleMap[a]=t.val(a)):r.d.isDefined(t.val(a))&&t.styleMap[a]!==t.val(a)&&(t.$dom.style(a,"".concat(t.val(a))),t.styleMap[a]=t.val(a))})),n&&t.$dom.transform(e.getTransformString(t)),t.state().styleTargetMap={},t.state().styleTargetList=[]}},{key:"setWidthFromDom",value:function(e){var t=e.domWidthTimestamp,n=e.getParent(),i=e.getDomParent(),o=!1;if((0,a.EI)().needsRerender(e)&&(e.isTextOnly()?e.$dom.text(e.getHtml()):e.$dom.html(e.getHtml()),o=!0),o||n&&t<=n.getDimLastUpdate()||i&&t<=i.getDimLastUpdate()){e.$dom.width("auto");var l=e.$dom.width();e.domWidthTimestamp=r.d.now(),e.val("width",l),(l>0||0===l&&e.lastVal("width")>0)&&e.addToStyleTargetList("width"),(0,a.fB)().schedule(15,"resize")}}},{key:"setHeightFromDom",value:function(e){var t=e.domHeightTimestamp,n=e.getParent(),i=e.getDomParent(),o=!1;if((0,a.EI)().needsRerender(e)&&(e.isTextOnly()?e.$dom.text(e.getHtml()):e.$dom.html(e.getHtml()),o=!0),o||n&&t<=n.getDimLastUpdate()||i&&t<=i.getDimLastUpdate()){e.$dom.height("auto");var l=e.$dom.height();e.domHeightTimestamp=r.d.now(),e.val("height",l),(l>0||0===l&&e.lastVal("height")>0)&&e.addToStyleTargetList("height"),(0,a.fB)().schedule(15,"resize")}}},{key:"morph",value:function(e,t,n,r,a){var o=e.getTargetEasing(t),s=o?o(e.getTargetStepPercent(t,a)):e.getTargetStepPercent(t,a);if(i.u.colorMap[t]){var u=l.I.color2Integers(r),c=n?l.I.color2Integers(n):l.I.color2Integers("#fff");if(u&&c){var h=Math.floor(u[0]*s+c[0]*(1-s)),d=Math.floor(u[1]*s+c[1]*(1-s)),f=Math.floor(u[2]*s+c[2]*(1-s));return"rgb(".concat(h,",").concat(d,",").concat(f,")")}return r}return"number"==typeof r?r*s+n*(1-s):r}},{key:"fixAsyncStyle",value:function(e){e.asyncStyleTargetList.forEach((function(t){if("style"===t){var n=e.getStyle();r.d.isDefined(n)&&e.styleMap.style!==n&&(e.$dom.setStyleByMap(n),n.height&&e.val("height",parseInt(n.height,10)),n.width&&e.val("width",parseInt(n.width,10)),e.styleMap.style=n)}else if("attributes"===t){var a=e.getAttributes();r.d.isDefined(a)&&e.styleMap.attributes!==a&&(Object.keys(a).forEach((function(t){e.$dom.attr(t,a[t])})),e.styleMap.attributes=a)}else if("css"===t){var o=e.getCss();e.$dom.css()!==o&&e.$dom.css(o)}else i.u.attributeTargetMap[t]?e.$dom.attr(t,e.val(t)):r.d.isDefined(e.val(t))&&e.styleMap[t]!==e.val(t)&&(e.$dom.style(t,"".concat(e.val(t))),e.styleMap[t]=e.val(t))})),e.state().asyncStyleTargetMap={},e.state().asyncStyleTargetList=[]}},{key:"getTransformString",value:function(t){var n={},i={};(t.transformMap.translateX||t.transformMap.translateY||t.transformMap.translateZ)&&(delete t.transformMap.x,delete t.transformMap.y);for(var a=0,o=Object.keys(t.transformMap);a<o.length;a++){var l=o[a];if(!n[l])switch(l){case"translateX":case"translateY":case"translateZ":i[l]="".concat(l,"(").concat(t.transformMap[l],"px)"),n[l]=!0;break;case"x":case"y":case"z":r.d.isDefined(t.getZ())?i.translate3d="translate3d(".concat(t.transformMap.x,"px, ").concat(t.transformMap.y,"px, ").concat(t.transformMap.z,"px)"):(r.d.isDefined(t.getX())||r.d.isDefined(t.getY()))&&(i.translate="translate(".concat(t.transformMap.x,"px, ").concat(t.transformMap.y,"px)")),n.x=!0,n.y=!0,n.z=!0;break;case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"rotate3DX":case"rotate3DY":case"rotate3DZ":case"rotate3DAngle":r.d.isDefined(t.val("rotate3DX"))&&r.d.isDefined(t.val("rotate3DY"))&&r.d.isDefined(t.val("rotate3DZ"))&&r.d.isDefined(t.val("rotate3DAngle"))?(i.rotate3d="rotate3d(".concat(t.transformMap.rotate3DX,", ").concat(t.transformMap.rotate3DY,", ").concat(t.transformMap.rotate3DZ,", ").concat(t.transformMap.rotate3DAngle,"deg)"),n.rotate3DX=!0,n.rotate3DY=!0,n.rotate3DZ=!0,n.rotate3DAngle=!0):r.d.isDefined(t.val(l))&&(i[l]="".concat(l,"(").concat(t.transformMap[l],"deg)"),n[l]=!0);break;case"scale":case"scaleX":case"scaleY":case"scaleZ":case"scale3DX":case"scale3DY":case"scale3DZ":r.d.isDefined(t.val("scale3DX"))&&r.d.isDefined(t.val("scale3DY"))&&r.d.isDefined(t.val("scale3DZ"))?(i.scale3d="scale3d(".concat(t.transformMap.scale3DX,", ").concat(t.transformMap.scale3DY,", ").concat(t.transformMap.scale3DZ,")"),n.scale3DX=!0,n.scale3DY=!0,n.scale3DZ=!0):r.d.isDefined(t.val(l))&&(i[l]="".concat(l,"(").concat(t.transformMap[l],")"),n[l]=!0);break;case"skewX":case"skewY":r.d.isDefined(t.val("skewX"))&&r.d.isDefined(t.val("skewY"))?(i[l]="skew(".concat(t.transformMap.skewX,"deg, ").concat(t.transformMap.skewY,"deg)"),n.skewX=!0,n.skewY=!0):r.d.isDefined(t.val(l))&&(i[l]="".concat(l,"(").concat(t.transformMap[l],"deg)"),n[l]=!0);break;case"perspective":r.d.isDefined(t.val("perspective"))&&(i[l]="perspective(".concat(t.transformMap.perspective,"px)"),n.perspective=!0)}}var s={};t.val("transformOrder")?t.val("transformOrder").forEach((function(e,t){s[e]=t})):s=e.transformOrder;var u=Object.keys(i).sort((function(e,t){return s[e]-s[t]})).map((function(e){return i[e]}));return u.join(" ")}}],null&&u(t.prototype,null),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();h=v,f={perspective:0,translateX:1,translateY:1,translateZ:1,translate:1,translate3d:1,rotate:2,rotateX:2,rotateY:2,rotateZ:2,rotate3d:2,skew:3,skewX:3,skewY:3,scale:4,scaleX:4,scaleY:4,scaleZ:4,scale3DX:4,scale3DY:4,scale3DZ:4},(d=c(d="transformOrder"))in h?Object.defineProperty(h,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[d]=f},129:function(e,t,n){n.d(t,{d:function(){return u}});var r=n(287);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"calcVisibility",value:function(t){var n=t.absX,i=t.absY,a=t.getDomParent(),o=t.getRealParent(),l=(a.getMeasuringScale()||1)*t.getMeasuringScale(),s=e.isDefined(t.getWidth())?l*t.getWidth():0,u=e.isDefined(t.getHeight())?l*t.getHeight():0;t.visibilityStatus||(t.visibilityStatus={});var c=t.visibilityStatus,h=t.validateVisibilityInParent()?Math.max(a.absX,o.absX):0,d=t.validateVisibilityInParent()?Math.max(a.absY,o.absY):0,f=t.validateVisibilityInParent()?Math.min(a.getWidth(),o.getWidth()):(0,r.r5)(),v=t.validateVisibilityInParent()?Math.min(a.getHeight(),o.getHeight()):(0,r.c$)();return c.right=n<=h+f,c.left=n+s>=h,c.bottom=i-t.getTopMargin()<=d+v,c.top=i+u>=d,c.parentX=h,c.parentY=d,c.parentWidth=f,c.parentHeight=v,c.x=n,c.y=i,t.val("isVisible",c.left&&c.right&&c.top&&c.bottom),t.val("isVisible")}},{key:"contains",value:function(e,t){var n;return!(!e||!t||e!==t&&t.getDomParent()!==e&&(null===(n=t.getDomParent())||void 0===n?void 0:n.getDomParent())!==e)}},{key:"list2map",value:function(t,n){return t.reduce((function(t,r){return t[r.oid]=e.isDefined(n)?n:r,t}),{})}},{key:"getDeepList",value:function(e){var t=[];return function e(n){if(n&&n.hasChildren()){var r=n.getChildren();t.push.apply(t,function(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r)),r.forEach(e)}}(e),t}},{key:"areEqual",value:function(e,t,n){return n?JSON.stringify(e)===JSON.stringify(t):e===t}},{key:"momentum",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.002,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,a=t-e,o=n<10?Math.abs(a)/10:Math.abs(a)/n,l=o/r,s=Math.pow(o,2)/(2*r);s>i&&(s=i);var u=a>0?a+s:a-s;return{distance:Math.round(u)/5,duration:Math.round(l),momentumDistance:s}}},{key:"isDefined",value:function(e){return null!=e}},{key:"isNumber",value:function(e){return"number"==typeof e&&!isNaN(e)}},{key:"limit",value:function(t,n,r){return(t=(t=e.isDefined(t)?t:n)>r?r:t)<n?n:t}},{key:"capitalizeFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"formatNum",value:function(e,t){return e?parseFloat(e.toString()).toFixed(t):0}},{key:"now",value:function(){return Date.now()}},{key:"log",value:function(e){return!0===e?console.log:function(){}}},{key:"distance",value:function(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}},{key:"getFullLink",value:function(t){if(e.isDefined(t)){if(!t.startsWith("http")){var n=window.location.protocol;n+=n.endsWith(":")?"//":"://";var r="".concat(n).concat(window.location.hostname);t=t.startsWith("/")?r+t:"".concat(r,"/").concat(t)}return t.endsWith("/")?t.slice(0,-1):t}}},{key:"isStringBooleanOrNumber",value:function(e){var t=i(e);return"string"===t||"boolean"===t||"number"===t}},{key:"logTree",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Bt)(),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=a(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw i}}}}((0,r.zw)().getChildren(n));try{for(o.s();!(t=o.n()).done;){var l=t.value,s=l.isVisible()?i+"|  ":i+"x  ";"BI"===l.type?console.log("".concat(s).concat(l.oid," v:").concat(l.isVisible()," x:").concat(Math.floor(l.getX())," y:").concat(Math.floor(l.getY()),", absY:").concat(Math.floor(l.absY)," yy:").concat(Math.floor(l.absY+l.getDomParent().absY)," w:").concat(Math.floor(l.getWidth())," h:").concat(Math.floor(l.getHeight())," hc:").concat(Math.floor(l.getContentHeight()))):console.log("".concat(s).concat(l.oid," v:").concat(l.isVisible()," x:").concat(Math.floor(l.getX())," y:").concat(Math.floor(l.getY())," absY:").concat(Math.floor(l.absY)," yy:").concat(Math.floor(l.absY+l.getDomParent().absY)," w:").concat(Math.floor(l.getWidth())," h:").concat(Math.floor(l.getHeight())," hc:").concat(Math.floor(l.getContentHeight()))),l.hasChildren()&&e.logTree(l,s)}}catch(e){o.e(e)}finally{o.f()}}},{key:"mergeTargets",value:function(t,n){var r,i=n.targets,a=n.originalTargetNames,o=t.targets,l=[];a.forEach((function(t){e.isDefined(o[t])||l.push(t)})),(r=t.originalTargetNames).push.apply(r,l),l.forEach((function(e){o[e]=i[e],t.processNewTarget(e)}))}}],null&&l(t.prototype,null),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}()},432:function(e,t,n){n.d(t,{u:function(){return f}});var r,i=n(287),a=n(129);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}var f=c((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));r=f,h(f,"defaultTargetStyles",{position:"absolute",left:0,top:0,zIndex:1}),h(f,"transformMap",{x:!0,y:!0,z:!0,translateX:!0,translateY:!0,translateZ:!0,perspective:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,rotate3DX:!0,rotate3DY:!0,rotate3DZ:!0,rotate3DAngle:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,scale3DX:!0,scale3DY:!0,scale3DZ:!0,skew:!0,skewX:!0,skewY:!0}),h(f,"dimMap",{width:!0,height:!0}),h(f,"styleWithUnitMap",{fontSize:!0,lineHeight:!0,borderRadius:!0,padding:!0,left:!0,top:!0,letterSpacing:!0}),h(f,"colorMap",{color:!0,background:!0,backgroundColor:!0}),h(f,"styleTargetMap",l(l(l(l(l({},r.transformMap),r.dimMap),r.styleWithUnitMap),r.colorMap),{},{opacity:!0,zIndex:!0,border:!0,borderTop:!0,borderLeft:!0,borderRight:!0,borderBottom:!0})),h(f,"asyncStyleTargetMap",{position:!0,css:!0,style:!0,textAlign:!0,boxSizing:!0,transformStyle:!0,transformOrigin:!0,attributes:!0,justifyContent:!0,alignItems:!0,display:!0,cursor:!0,fontFamily:!0,overflow:!0,overflowX:!0,overflowY:!0,textDecoration:!0,boxShadow:!0,fontWeight:!0,willChange:!0}),h(f,"scaleMap",{scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,scale3DX:!0,scale3DY:!0,scale3DZ:!0}),h(f,"rotate3D",{rotate3DX:!0,rotate3DY:!0,rotate3DZ:!0}),h(f,"attributeTargetMap",{lang:!0,autofocus:!0,placeholder:!0,autocomplete:!0,name:!0,type:!0,src:!0,href:!0,method:!0,size:!0,value:!0,maxlength:!0,minlength:!0,max:!0,min:!0,readonly:!0,required:!0,alt:!0,disabled:!0,action:!0,accept:!0,selected:!0,rows:!0,cols:!0,tabindex:!0}),h(f,"mustExecuteTargets",{width:!0,height:!0,heightFromDom:!0,widthFromDom:!0}),h(f,"coreTargetMap",{x:!0,y:!0}),h(f,"ignoreTargetMethodNameMap",l(l({},r.coreTargetMap),{},{isVisible:!0})),h(f,"cssFunctionMap",{skew:{x:0,y:0},translate3d:{x:0,y:0,z:0},rotate3d:{x:0,y:0,z:0,a:0},scale3d:{x:0,y:0,z:0}}),h(f,"bypassInitialProcessingTargetMap",{onChildrenChange:!0,onVisibleChildrenChange:!0,onPageClose:!0}),h(f,"controlTargetMap",{defaultStyling:!0,styling:!0,reuseDomDefinition:!0,useWindowFrame:!0,canDeleteDom:!0,domHolder:!0,interval:!0,onDomEvent:!0,canHaveDom:!0}),h(f,"events",{mouseStart:{pointerdown:{eventName:"mousedown",inputType:"pointer",eventType:"start",order:2,windowEvent:!1,queue:!0,rateLimit:0},mousedown:{eventName:"mousedown",inputType:"mouse",eventType:"start",order:3,windowEvent:!1,queue:!0,rateLimit:0}},mouseEnd:{pointerup:{eventName:"mouseup",inputType:"pointer",eventType:"end",order:2,windowEvent:!1,queue:!0,rateLimit:0},mouseup:{eventName:"mouseup",inputType:"mouse",eventType:"end",order:3,windowEvent:!1,queue:!0,rateLimit:0}},clickEvents:{click:{eventName:"click",inputType:"mouse",eventType:"click",order:1,windowEvent:!1,queue:!1,rateLimit:0}},touchStart:{touchstart:{eventName:"touchstart",inputType:"touch",eventType:"start",order:1,windowEvent:!1,queue:!0,rateLimit:0}},touchEnd:{touchend:{eventName:"touchend",inputType:"touch",eventType:"end",order:1,windowEvent:!1,queue:!0,rateLimit:0}},cancelEvents:{touchcancel:{eventName:"touchend",inputType:"touch",eventType:"cancel",order:1,windowEvent:!1,queue:!0,rateLimit:0},pointercancel:{eventName:"mousecancel",inputType:"pointer",eventType:"cancel",order:2,windowEvent:!1,queue:!0,rateLimit:0},mousecancel:{eventName:"mouseup",inputType:"mouse",eventType:"cancel",order:3,windowEvent:!1,queue:!0,rateLimit:0}},windowEvents:{keyup:{eventName:"key",inputType:"",eventType:"key",order:1,windowEvent:!0,queue:!0,rateLimit:50},keydown:{eventName:"key",inputType:"",eventType:"key",order:1,windowEvent:!0,queue:!0,rateLimit:50},blur:{eventName:"blur",inputType:"mouse",eventType:"cancel",order:2,windowEvent:!0,queue:!0,rateLimit:0},resize:{eventName:"resize",inputType:"",eventType:"resize",order:1,windowEvent:!0,queue:!0,rateLimit:50},orientationchange:{eventName:"resize",inputType:"",eventType:"resize",order:1,windowEvent:!0,queue:!0,rateLimit:50}},windowScroll:{scroll:{eventName:"scroll",inputType:"",eventType:"windowScroll",order:1,windowEvent:!0,queue:!0,rateLimit:50}},leaveEvents:{pointerleave:{eventName:"mouseleave",inputType:"pointer",eventType:"leave",order:2,windowEvent:!1,queue:!0,rateLimit:0},mouseleave:{eventName:"mouseleave",inputType:"mouse",eventType:"leave",order:3,windowEvent:!1,queue:!0,rateLimit:0}},enterEvents:{pointerenter:{eventName:"mouseenter",inputType:"pointer",eventType:"enter",order:2,windowEvent:!1,queue:!0,rateLimit:0},mouseenter:{eventName:"mouseenter",inputType:"mouse",eventType:"enter",order:3,windowEvent:!1,queue:!0,rateLimit:0}},moveEvents:{touchmove:{eventName:"touchmove",inputType:"touch",eventType:"move",order:1,windowEvent:!1,queue:!0,rateLimit:50},pointermove:{eventName:"mousemove",inputType:"pointer",eventType:"move",order:2,windowEvent:!1,queue:!0,rateLimit:50},mousemove:{eventName:"mousemove",inputType:"mouse",eventType:"move",order:3,windowEvent:!1,queue:!0,rateLimit:50}},documentEvents:{touchmove:{eventName:"touchmove",inputType:"touch",eventType:"move",order:1,windowEvent:!1,queue:!0,rateLimit:50},pointermove:{eventName:"mousemove",inputType:"pointer",eventType:"move",order:2,windowEvent:!1,queue:!0,rateLimit:50},mousemove:{eventName:"mousemove",inputType:"mouse",eventType:"move",order:3,windowEvent:!1,queue:!0,rateLimit:50},mouseleave:{eventName:"mouseleave",inputType:"mouse",eventType:"leave",order:3,windowEvent:!1,queue:!0,rateLimit:50},pointerup:{eventName:"mouseup",inputType:"pointer",eventType:"end",order:2,windowEvent:!1,queue:!0,rateLimit:0},mouseup:{eventName:"mouseup",inputType:"mouse",eventType:"end",order:3,windowEvent:!1,queue:!0,rateLimit:0},touchend:{eventName:"touchend",inputType:"touch",eventType:"end",order:1,windowEvent:!1,queue:!0,rateLimit:0}},wheelEvents:{wheel:{eventName:"wheel",inputType:"",eventType:"wheel",order:1,windowEvent:!1,queue:!0,rateLimit:50},mousewheel:{eventName:"wheel",inputType:"",eventType:"wheel",order:1,windowEvent:!1,queue:!0,rateLimit:50}}}),h(f,"attributesToTargets",{onstart:"onStart",onend:"onEnd",onKkey:"onKey",onclick:"onClick",onanyclick:"onAnyClick",onhover:"onHover",onswipe:"onSwipe",onanyswipe:"onAnySwipe",onpinch:"onPinch",onenter:"onEnter",onleave:"onLeave",onscroll:"onScroll",onscrollleft:"onScrollLeft",onscrolltop:"onScrollTop",onwindowscroll:"onWindowScroll",onvisible:"onVisible",onresize:"onResize",textalign:"textAlign",preventdefault:"preventDefault",translatex:"translateX",translatey:"translateY",translatez:"translateZ",rotate3dx:"rotate3DX",rotate3dy:"rotate3DY",rotate3dz:"rotate3DZ",rotate3dangle:"rotate3DAngle",scale3dx:"scale3DX",scale3dy:"scale3DY",scale3dz:"scale3DZ",skewx:"skewX",skewy:"skewY",fontsize:"fontSize",borderradius:"borderRadius",letterspacing:"letterSpacing",backgroundcolor:"backgroundColor",bordertop:"borderTop",borderleft:"borderLeft",borderright:"borderRight",borderbottom:"borderBottom",boxsizing:"boxSizing",transformstyle:"transformStyle",transformorigin:"transformOrigin",justifycontent:"justifyContent",alignitems:"alignItems",fontfamily:"fontFamily",overflowx:"overflowX",overflowy:"overflowY",textdecoration:"textDecoration",boxshadow:"boxShadow",fontweight:"fontWeight",willchange:"willChange",domholder:"domHolder",shouldcalculatechildtargets:"shouldCalculateChildTargets",coretargets:"coreTargets",domparent:"domParent",containeroverflowmode:"containerOverflowMode",itemoverflowmode:"itemOverflowMode",onvisiblechildrenchange:"onVisibleChildrenChange",onchildrenchange:"onChildrenChange"}),h(f,"targetToEventsMapping",{onStart:["touchStart","mouseStart"],onEnd:[],onKey:[],onClick:["clickEvents","touchStart","mouseStart"],onAnyClick:["clickEvents","touchStart","mouseStart"],onHover:["moveEvents"],onSwipe:["touchStart","mouseStart"],onAnySwipe:["touchStart","mouseStart"],onPinch:["touchStart"],onEnter:["enterEvents"],onLeave:["leaveEvents"],onScroll:["touchStart","mouseStart","wheelEvents"],onScrollLeft:["touchStart","mouseStart","wheelEvents"],onScrollTop:["touchStart","mouseStart","wheelEvents"],onWindowScroll:["windowScroll"]}),h(f,"touchEventMap",{onStart:function(e){return(0,i.kQ)().isStartEvent()&&(0,i.kQ)().isStartHandler(e)},onEnd:function(e){return(0,i.kQ)().isEndEvent()&&(0,i.kQ)().isEndHandler(e)},onAnySwipe:function(){return(0,i.kQ)().isSwipeEvent()&&a.d.isDefined((0,i.kQ)().swipeStartX)},onHover:function(e){return(0,i.kQ)().isMoveEvent()&&(0,i.kQ)().isHoverHandler(e)},onClick:function(e){return(0,i.kQ)().isClickEvent()&&(0,i.kQ)().isClickHandler(e)},onAnyClick:function(){return(0,i.kQ)().isClickEvent()},onEnter:function(e){return(0,i.kQ)().isEnterHandler(e)},onLeave:function(e){return(0,i.kQ)().isLeaveHandler(e)},onSwipe:function(e){return(0,i.kQ)().isSwipeHandler(e)&&(0,i.kQ)().isSwipeEvent()&&a.d.isDefined((0,i.kQ)().swipeStartX)}}),h(f,"internalEventMap",{onDomEvent:function(e){return e.hasDomNow},onVisible:function(e){return e.isNowVisible},onResize:function(e){var t=e.getDimLastUpdate(),n=e.getParent(),r=n?Math.max(n.getDimLastUpdate(),(0,i.S9)()):(0,i.S9)();return t>0&&r>t}}),h(f,"allEventMap",l(l({},r.touchEventMap),{},{onFocus:function(e){return(0,i.kQ)().onFocus(e)},onBlur:function(e){return(0,i.kQ)().onBlur(e)},onPinch:function(e){return(0,i.kQ)().isPinchHandler(e)},onKey:function(){return"key"===(0,i.kQ)().getEventType()&&(0,i.kQ)().currentKey},onScroll:function(e){return(0,i.kQ)().isScrollLeftHandler(e)&&(0,i.kQ)().deltaX()||(0,i.kQ)().isScrollTopHandler(e)&&(0,i.kQ)().deltaY()},onScrollTop:function(e){return"horizontal"!==(0,i.kQ)().getOrientation()&&(0,i.kQ)().isScrollTopHandler(e)&&(0,i.kQ)().deltaY()},onScrollLeft:function(e){return"vertical"!==(0,i.kQ)().getOrientation()&&(0,i.kQ)().isScrollLeftHandler(e)&&(0,i.kQ)().deltaX()},onWindowScroll:function(){return"windowScroll"===(0,i.kQ)().getEventType()}}))},985:function(e,t,n){n.d(t,{j:function(){return v}});var r=n(956),i=n(432),a=n(129),o=n(736),l=n(287);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"executeDeclarativeTarget",value:function(t,n,i){e.resolveTargetValue(t,n,i),e.updateTarget(t,t.targetValues[n],n,!1),r.g.shouldActivateNextTarget(t,n)}},{key:"executeImperativeTarget",value:function(t,n,o,l,u,h,d,f){t.targetValues[n]=t.targetValues[n]||r.g.emptyValue();var v=t.targetValues[n];if(v.isImperative=!0,v.originalTargetName=d,v.originalTModel=f,r.g.isListTarget(o))e.assignListTarget(v,o.list,o.list[0],l,u,h);else if(r.g.isObjectTarget(n,o)){var g=i.u.cssFunctionMap[n]?c(c({},i.u.cssFunctionMap[n]),o):o;Object.keys(g).forEach((function(i){var o=g[i];if("object"===s(o)&&!r.g.isListTarget(o)){var c=r.g.getValueStepsCycles(t,g[i],n);o=c[0],l=a.d.isDefined(c[1])?c[1]:l,u=a.d.isDefined(c[2])?c[2]:u}e.executeImperativeTarget(t,i,o,l,u,h,d,f)}))}else if("object"!==s(o)||r.g.isListTarget(o))e.assignSingleTarget(v,o,void 0,l,0,u,h),v.step=0;else{var y=r.g.getValueStepsCycles(t,o,n);o!==y[0]?(o=y[0],l=a.d.isDefined(y[1])?y[1]:l,u=a.d.isDefined(y[2])?y[2]:u,e.executeImperativeTarget(t,n,o,l,u,h,d,f)):(e.assignSingleTarget(v,o,void 0,l,0,u,h),v.step=0)}e.updateTarget(t,v,n,!0)}},{key:"updateTarget",value:function(t,n,r,i){n.executionCount++,n.executionFlag=!0,t.setActualValueLastUpdate(r),0===t.getTargetSteps(r)&&e.snapActualToTarget(t,r),t.addToStyleTargetList(r,i),t.setTargetMethodName(r,"value"),t.updateTargetStatus(r)}},{key:"assignListTarget",value:function(e,t,n,r,i,l){e.valueList=t,e.stepList=Array.isArray(r)?r:a.d.isDefined(r)?[r]:[1],e.intervalList=Array.isArray(i)?i:a.d.isDefined(i)?[i]:[0],e.easingList=Array.isArray(l)?l:a.d.isDefined(l)?[l]:[o.G.linear],e.cycle=1,e.value=t[1],e.initialValue=n,e.steps=e.stepList[0],e.interval=e.intervalList[0],e.easing=e.easingList[0],e.step=0,e.cycles=0}},{key:"executeEventHandlerTarget",value:function(e){"string"==typeof e?(0,l.kQ)().attachGroupEvent(e):Array.isArray(e)&&e.forEach((function(e){return(0,l.kQ)().attachGroupEvent(e)}))}},{key:"assignSingleTarget",value:function(e,t,n,r,i,a,o){delete e.valueList,delete e.stepList,delete e.intervalList,delete e.easingList,e.initialValue=n,e.value=t,e.steps=r||0,e.cycles=i||0,e.interval=a||0,e.easing=o}},{key:"snapActualToTarget",value:function(e,t){var n=e.val(t),i=e.targetValues[t].value;e.val(t,"function"==typeof i?i.call(e):i),r.g.handleValueChange(e,t,e.val(t),n,0,0)}},{key:"resolveTargetValue",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.getTargetCycle(n),o=!t.targetValues[n]&&a.d.isDefined(t.targets[n].initialValue)?t.targets[n].initialValue:void 0,s=r.g.getValueStepsCycles(t,t.targets[n],n,i),u=s[0],c=s[1]||0,h=s[2]||0,d=s[3]||0,f=t.targetValues[n]||r.g.emptyValue();t.targetValues[n]=f;var v=a.d.isDefined(t.targets[n].easing)?t.targets[n].easing:void 0;if(r.g.isChildrenTarget(n,u)){var g=(Array.isArray(u)?u:[u]).map((function(e){return t.addChild(e),t.addedChildren.at(-1).child}));e.assignSingleTarget(f,Array.isArray(u)?g:g[0],void 0,0,d,h)}else if(r.g.isFetchTarget(n,u))(0,l.qI)().fetch(t,u),e.assignSingleTarget(f,u,void 0,0,d,h);else if(r.g.isListTarget(u))e.assignListTarget(f,u.list,u.list[0],c,h,v);else{var y,p;c>0&&!a.d.areEqual(t.val(n),u,null!==(y=null===(p=t.targets[n])||void 0===p?void 0:p.deepEquality)&&void 0!==y&&y)&&t.resetTargetStep(n),e.assignSingleTarget(f,u,o,c,d,h,v)}}}],null&&d(t.prototype,null),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}()},956:function(e,t,n){n.d(t,{g:function(){return s}});var r=n(287),i=n(129);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,n=[{key:"emptyValue",value:function(){return{value:void 0,step:0,steps:0,cycle:0,cycles:0,interval:0,initialValue:void 0,scheduleTimeStamp:void 0,actualValueLastUpdate:0,status:"",executionCount:0,executionFlag:!1,isImperative:!1,originalTargetName:void 0,easing:void 0,creationTime:i.d.now()}}},{key:"getTargetName",value:function(e){if(!e)return e;var t=e.startsWith("_")?e.slice(1):e;return t.endsWith("$$")?t.slice(0,-2):t.endsWith("$")?t.slice(0,-1):t}},{key:"bindTarget",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.keys(t.targets),a=t.targets[n],o=i.indexOf(n),l=o>0?e.getTargetName(i[o-1]):void 0,s=o<i.length-1?i[o+1]:void 0,u=function(){if(l)return r.qI&&(0,r.qI)().isLoading(t,l)?(0,r.qI)().getLoadingItemValue(t,l):t.val(l)},c=void 0!==l?t.getActualValueLastUpdate(l):void 0,h=function(){return void 0!==l?t.getActualValueLastUpdate(l):void 0},d=function(){var e=h();return(void 0!==c||void 0!==e)&&(void 0===c&&void 0!==e||e!==c)},f=!(!s||!s.endsWith("$"));a.originalTargetName=e.currentTargetName,a.originalTModel=e.currentTModel;var v=e.getTargetName(n),g=function(){return t.val(v)};f&&!a.activateNextTarget&&(a.activateNextTarget=s.slice(0,-1));var y=/^on[A-Za-z]+Step$/,p=/^on[A-Za-z]+End$/,m=["value","enabledOn","onStepsEnd","onValueChange","loop","onImperativeEnd","onImperativeStep","onSuccess","onError"];Object.keys(a).forEach((function(n){if("value"===n){var r=a[n];a[n]=function(){var n;e.currentTargetName=v,e.currentTModel=t,this.key=v,this.value=g(),this.prevTargetValue=u(),this.isPrevTargetUpdated=d;var i="function"==typeof r?r.apply(this,arguments):r;return c=null!==(n=h())&&void 0!==n?n:c,i}}else if("function"==typeof a[n]&&(m.includes(n)||y.test(n)||p.test(n))){var i=a[n];a[n]=function(){var n;e.currentTargetName=v,e.currentTModel=t,this.key=v,this.value=g(),this.prevTargetValue=u(),this.isPrevTargetUpdated=d;var r="function"==typeof i?i.apply(this,arguments):i;return c=null!==(n=h())&&void 0!==n?n:c,r}}}))}},{key:"shouldActivateNextTarget",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t.targets[n],o=null==a?void 0:a.activateNextTarget,l=e.getTargetName(o),s=null==o?void 0:o.endsWith("$"),u=null==a?void 0:a.fetchAction,c=null==a?void 0:a.childAction;if(u)if("onEnd"===u&&e.hasTargetEnded(t,n))e.activateNextTarget(t,l);else if("onEach"===u)for(;(0,r.qI)().isNextLoadingItemSuccessful(t,n);)t.activatedTargets.indexOf(l)>=0?t.activatedTargets.push(l):e.activateNextTarget(t,l),(0,r.qI)().nextActiveItem(t,n);else"inactive"===u&&e.hasTargetEnded(t,n)&&(0,r.qI)().removeFromTModelKeyMap(t,n);else if(c)("onEnd"===c&&e.hasTargetEnded(t,n)||"onEach"===c)&&(e.activateNextTarget(t,l),a.childAction="inactive");else if(a&&l&&!t.isTargetImperative(n))(s&&e.hasTargetEnded(t,n)||!s)&&e.activateNextTarget(t,l);else{var h=t.isTargetImperative(n)?t.targetValues[n]:a,d=h.originalTModel,f=h.originalTargetName;i<2&&f&&d&&e.hasTargetEnded(d,f)&&e.shouldActivateNextTarget(d,f,i+1)}}},{key:"hasTargetEnded",value:function(e,t){if(!(e.isTargetComplete(t)||e.isTargetDone(t)||e.isActivated())||e.hasUpdatingTargets(t))return!1;var n=e.targets[t];if(n){if(n.childAction&&(e.hasUpdatingChildren()||e.hasActiveChildren()))return!1;if(n.fetchAction&&!(0,r.qI)().isLoadingSuccessful(e,t))return!1}return!0}},{key:"activateNextTarget",value:function(e,t){e.targetValues[t]&&(e.targetValues[t].isImperative=!1),e.activeTargetMap[t]||e.activate(t)}},{key:"activateSingleTarget",value:function(e,t){e.targets[t]&&e.canTargetBeActivated(t)&&(e.isTargetEnabled(t)?e.activateTarget(t):e.addToActiveTargets(t))}},{key:"markTargetAction",value:function(t,n){if(t){var r=t.targets[e.currentTargetName];if("object"===a(r)){var i=r.activateNextTarget;null!=i&&i.endsWith("$")?r[n]="onEnd":r[n]=i?"onEach":"inactive"}}}},{key:"isValueStepsCycleArray",value:function(t){if(t.length>4||0===t.length)return!1;for(var n=1;n<t.length;n++)if("number"!=typeof t[n])return!1;return t.length>=2&&("number"==typeof t[0]||e.isListTarget(t[0])||"string"==typeof t[0])}},{key:"isListTarget",value:function(e){return"object"===a(e)&&null!==e&&Array.isArray(e.list)}},{key:"isFetchTarget",value:function(e,t){return"fetch"===e&&("string"==typeof t||Array.isArray(t))}},{key:"isObjectTarget",value:function(e,t){return"style"!==e&&"object"===a(t)&&null!==t&&!Array.isArray(t)&&Object.getPrototypeOf(t)===Object.prototype}},{key:"isChildrenTarget",value:function(e,t){return"children"===e&&"object"===a(t)}},{key:"getValueStepsCycles",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.getTargetCycle(r),l=n&&n.valueOnly,s=t.val(r),u=null,c=0,h=0,d=0;return function f(v){return Array.isArray(v)?l||!e.isValueStepsCycleArray(v)?[v,c,h,d]:Array.isArray(n)?n:(u=v[0],c=v.length>=2?v[1]:c,h=v.length>=3?v[2]:h,d=v.length>=4?v[3]:d,[u,c,h,d]):"object"===a(v)&&null!==v&&Object.getPrototypeOf(v)===Object.prototype?(u="function"==typeof v.value?v.value.call(t,o,s):i.d.isDefined(v.value)?v.value:v,c="function"==typeof v.steps?v.steps.call(t,o):i.d.isDefined(v.steps)?v.steps:0,h="function"==typeof v.interval?v.interval.call(t,o):i.d.isDefined(v.interval)?v.interval:0,d="function"==typeof v.cycles?v.cycles.call(t,o,t.getTargetCycles(r)):i.d.isDefined(v.cycles)?v.cycles:0,Array.isArray(u)?f(u):[u,c,h,d]):"function"==typeof v?f(v.call(t,o,s)):[v,c,h,d]}(n)}},{key:"getIntervalValue",value:function(e,t,n){var r="function"==typeof n?n.call(e,t):n;return i.d.isNumber(r)?r:0}},{key:"scheduleExecution",value:function(e,t){var n=e.getTargetInterval(t);if(n<=0)return 0;var r=i.d.now(),a=e.getScheduleTimeStamp(t);if(i.d.isDefined(a)){var o=r-a;return Math.max(n-o,0)}return e.setScheduleTimeStamp(t,r),n}},{key:"getTargetSchedulePeriod",value:function(e,t,n){var r,a=i.d.now(),o=0;return n>0?i.d.isDefined(e.getTargetTimeStamp(t))?o=(r=a-e.getTargetTimeStamp(t))<n?n-r:0:(e.setTargetTimeStamp(t,a),o=n):i.d.isDefined(e.getTargetTimeStamp(t))&&(o=(r=a-e.getTargetTimeStamp(t))<0?-r:0),o}},{key:"handleValueChange",value:function(e,t,n,r,o,l){"object"===a(e.targets[t])&&"function"==typeof e.targets[t].onValueChange&&!i.d.areEqual(n,r,e.targets[t].deepEquality)&&(e.targets[t].onValueChange.call(e,n,r,l),e.setTargetMethodName(t,"onValueChange"))}}],null&&o(t.prototype,null),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}()},675:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}n.d(t,{L:function(){return o}});var o=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.xNext=0,this.xNorth=0,this.xWest=0,this.xEast=0,this.xSouth=0,this.scrollLeft=0,this.scrollTop=0,this.absX=0,this.xOverflowReset=0,this.xOverflowLimit=0,this.yNext=0,this.yNorth=0,this.yWest=0,this.yEast=0,this.ySouth=0},(t=[{key:"setCurrentChild",value:function(e){this.currentChild=e}},{key:"setLocation",value:function(){this.currentChild.targets.excludeXYCalc||(this.currentChild.x=this.xNext+this.currentChild.getLeftMargin(),this.currentChild.y=this.yNext+this.currentChild.getTopMargin())}},{key:"isOverflow",value:function(){var e=this.currentChild.getMinWidth();return this.absX+this.currentChild.x+e+this.currentChild.getLeftMargin()>this.xOverflowLimit}},{key:"overflow",value:function(){this.xNext=this.scrollLeft-this.absX+this.xOverflowReset,this.yNext=this.ySouth}},{key:"appendNewLine",value:function(){var e=this.currentChild.getHeight()*this.currentChild.getMeasuringScale();this.xNext=this.scrollLeft-this.absX+this.xOverflowReset,this.yNext=this.ySouth>this.yNext?this.ySouth+this.currentChild.val("appendNewLine"):this.ySouth+e+this.currentChild.val("appendNewLine"),this.yEast=this.yNext,this.xSouth=this.xNext,this.ySouth=Math.max(this.yNext,this.ySouth),this.currentChild.getRealParent().viewport.xEast=Math.max(this.currentChild.getRealParent().viewport.xEast,this.xEast),this.currentChild.getRealParent().viewport.ySouth=Math.max(this.currentChild.getRealParent().viewport.ySouth,this.ySouth)}},{key:"nextLocation",value:function(){var e=this.currentChild.getHeight()*this.currentChild.getMeasuringScale(),t=this.currentChild.getBaseWidth()*this.currentChild.getMeasuringScale(),n=this.currentChild.getTopBaseHeight()*this.currentChild.getMeasuringScale(),r=this.yNext+e+this.currentChild.getTopMargin()+this.currentChild.getBottomMargin();this.xNext+=t+this.currentChild.getLeftMargin()+this.currentChild.getRightMargin(),this.yNext+=n,this.xSouth=this.xNext,this.yEast=this.yNext,this.xEast=Math.max(this.xNext,this.xEast),this.ySouth=Math.max(r,this.ySouth),this.currentChild.getRealParent().viewport.xEast=Math.max(this.currentChild.getRealParent().viewport.xEast,this.xEast),this.currentChild.getRealParent().viewport.ySouth=Math.max(this.currentChild.getRealParent().viewport.ySouth,this.ySouth)}}])&&i(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{$Dom:function(){return $Dom.J},App:function(){return App.qw},Bracket:function(){return Bracket.d},BracketGenerator:function(){return BracketGenerator.M},ColorUtil:function(){return ColorUtil.I},DomInit:function(){return DomInit.v},Easing:function(){return Easing.G},Moves:function(){return Moves},SearchUtil:function(){return SearchUtil.X},TModel:function(){return TModel.c},TModelUtil:function(){return TModelUtil.a},TUtil:function(){return TUtil.d},TargetData:function(){return TargetData.u},TargetExecutor:function(){return TargetExecutor.j},TargetUtil:function(){return TargetUtil.g},fetch:function(){return App.hd},fetchImage:function(){return App.aK},getBrowser:function(){return App.X5},getDomTModelById:function(){return App.UR},getEvents:function(){return App.kQ},getLoader:function(){return App.qI},getLocationManager:function(){return App.zw},getManager:function(){return App.EI},getPager:function(){return App.cI},getResizeLastUpdate:function(){return App.S9},getRunScheduler:function(){return App.fB},getScreenHeight:function(){return App.c$},getScreenWidth:function(){return App.r5},getTModelById:function(){return App.iP},getVisibles:function(){return App.U$},isRunning:function(){return App.W_},tApp:function(){return App.E_},tRoot:function(){return App.Bt}});var App=__webpack_require__(287),TModel=__webpack_require__(528),TUtil=__webpack_require__(129);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Moves=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"bounce",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.yStart,i=void 0===r?void 0:r,a=n.xStart,o=void 0===a?(0,App.r5)()/2:a,l=n.widthStart,s=void 0===l?50:l,u=n.heightStart,c=void 0===u?50:u,h=n.bFactor,d=void 0===h?.6:h,f=n.cFactor,v=void 0===f?.2:f,g=n.rotationStart,y=void 0===g?0:g,p=n.rIncrement,m=void 0===p?360:p,b=Math.max(10,(t-e)*d),T=TUtil.d.isDefined(i)?[i,e]:[e],w=[o],k=[s],S=[c],E=[y];Math.abs(0|b)>1;){T.push(t),T.push(t-b);var M=s*(1+v),C=c*(1-v);k.push(M),k.push(s),S.push(C),S.push(c),w.push(o-(M-s)/2),w.push(o),E.push(E[E.length-1]+m),b*=d,m*=.8,v*=d}w.push(o),T.push(t),k.push(s),S.push(c);var D=E[E.length-1]%360;return D>0&&D<360&&E.push(360),{x:{list:w},y:{list:T},width:{list:k},height:{list:S},rotate:{list:E}}}},{key:"bounceSimple",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.from,i=void 0===r?void 0:r,a=n.to,o=void 0===a?void 0:a,l=n.widthStart,s=void 0===l?void 0:l,u=n.heightStart,c=void 0===u?void 0:u,h=n.xStart,d=void 0===h?void 0:h,f=n.yStart,v=void 0===f?void 0:f,g=n.bFactor,y=void 0===g?.7:g,p=n.cFactor,m=void 0===p?.2:p;return i=TUtil.d.isDefined(i)?i:t.getY(),o=TUtil.d.isDefined(o)?o:t.getY(),s=TUtil.d.isDefined(s)?s:t.getWidth(),c=TUtil.d.isDefined(c)?c:t.getHeight(),v=TUtil.d.isDefined(v)?v:t.getY(),d=TUtil.d.isDefined(d)?d:t.getX(),e.bounce(i,o,{yStart:v,xStart:d,widthStart:s,heightStart:c,bFactor:y,cFactor:m,rIncrement:0})}},{key:"shake",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bFactor,i=void 0===r?.6:r,a=n.cFactor,o=void 0===a?.3:a,l=n.strength,s=void 0===l?20:l;if(!e.shakeMap[t.oid]){var u=(t.getParentValue("width")-t.getWidth())/2,c=t.getY(),h=t.getWidth(),d=t.getHeight();e.shakeMap[t.oid]={xStart:u,yStart:c,widthStart:h,heightStart:d}}var f=e.shakeMap[t.oid],v=f.xStart,g=f.yStart,y=f.widthStart,p=f.heightStart,m=e.bounce(g-s,g,{xStart:v,widthStart:y,heightStart:p,bFactor:i,cFactor:o});return{y:{list:m.height.list.map((function(e){return g-(e-p)/2}))},x:m.x,width:m.width,height:m.height}}},{key:"spiral",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startAngle,n=void 0===t?0:t,r=e.endAngle,i=void 0===r?360:r,a=e.angleStep,o=void 0===a?18:a,l=e.x,s=void 0===l?0:l,u=e.y,c=void 0===u?0:u,h=e.width,d=void 0===h?100:h,f=e.height,v=void 0===f?100:f,g=[],y=[],p=[],m=n;m<=i;m+=o){var b=m*(Math.PI/180);g.push(Math.floor(s+d*Math.cos(b))),y.push(Math.floor(c+v*Math.sin(b))),p.push(90+m)}return{x:{list:g},y:{list:y},rotate:{list:p}}}}])}();_defineProperty(Moves,"shakeMap",{});var SearchUtil=__webpack_require__(745),TargetData=__webpack_require__(432),TargetUtil=__webpack_require__(956),TModelUtil=__webpack_require__(144),DomInit=__webpack_require__(347),$Dom=__webpack_require__(185),Bracket=__webpack_require__(901),BracketGenerator=__webpack_require__(780),ColorUtil=__webpack_require__(210),Easing=__webpack_require__(736),TargetExecutor=__webpack_require__(985);window.TargetJS=__webpack_exports__})();